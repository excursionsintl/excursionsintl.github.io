(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const b of g)if(b.type==="childList")for(const _ of b.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&d(_)}).observe(document,{childList:!0,subtree:!0});function c(g){const b={};return g.integrity&&(b.integrity=g.integrity),g.referrerPolicy&&(b.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?b.credentials="include":g.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function d(g){if(g.ep)return;g.ep=!0;const b=c(g);fetch(g.href,b)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var s=o.default;if(typeof s=="function"){var c=function d(){return this instanceof d?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};c.prototype=s.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(o).forEach(function(d){var g=Object.getOwnPropertyDescriptor(o,d);Object.defineProperty(c,d,g.get?g:{enumerable:!0,get:function(){return o[d]}})}),c}var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(o){var s=o.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=o.indexOf("=");c===-1&&(c=s);var d=c===s?0:4-c%4;return[c,d]}function byteLength(o){var s=getLens(o),c=s[0],d=s[1];return(c+d)*3/4-d}function _byteLength(o,s,c){return(s+c)*3/4-c}function toByteArray(o){var s,c=getLens(o),d=c[0],g=c[1],b=new Arr(_byteLength(o,d,g)),_=0,$=g>0?d-4:d,j;for(j=0;j<$;j+=4)s=revLookup[o.charCodeAt(j)]<<18|revLookup[o.charCodeAt(j+1)]<<12|revLookup[o.charCodeAt(j+2)]<<6|revLookup[o.charCodeAt(j+3)],b[_++]=s>>16&255,b[_++]=s>>8&255,b[_++]=s&255;return g===2&&(s=revLookup[o.charCodeAt(j)]<<2|revLookup[o.charCodeAt(j+1)]>>4,b[_++]=s&255),g===1&&(s=revLookup[o.charCodeAt(j)]<<10|revLookup[o.charCodeAt(j+1)]<<4|revLookup[o.charCodeAt(j+2)]>>2,b[_++]=s>>8&255,b[_++]=s&255),b}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,s,c){for(var d,g=[],b=s;b<c;b+=3)d=(o[b]<<16&16711680)+(o[b+1]<<8&65280)+(o[b+2]&255),g.push(tripletToBase64(d));return g.join("")}function fromByteArray(o){for(var s,c=o.length,d=c%3,g=[],b=16383,_=0,$=c-d;_<$;_+=b)g.push(encodeChunk(o,_,_+b>$?$:_+b));return d===1?(s=o[c-1],g.push(lookup[s>>2]+lookup[s<<4&63]+"==")):d===2&&(s=(o[c-2]<<8)+o[c-1],g.push(lookup[s>>10]+lookup[s>>4&63]+lookup[s<<2&63]+"=")),g.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,s,c,d,g){var b,_,$=g*8-d-1,j=(1<<$)-1,tt=j>>1,nt=-7,it=c?g-1:0,ot=c?-1:1,ft=o[s+it];for(it+=ot,b=ft&(1<<-nt)-1,ft>>=-nt,nt+=$;nt>0;b=b*256+o[s+it],it+=ot,nt-=8);for(_=b&(1<<-nt)-1,b>>=-nt,nt+=d;nt>0;_=_*256+o[s+it],it+=ot,nt-=8);if(b===0)b=1-tt;else{if(b===j)return _?NaN:(ft?-1:1)*(1/0);_=_+Math.pow(2,d),b=b-tt}return(ft?-1:1)*_*Math.pow(2,b-d)};ieee754.write=function(o,s,c,d,g,b){var _,$,j,tt=b*8-g-1,nt=(1<<tt)-1,it=nt>>1,ot=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,ft=d?0:b-1,yt=d?1:-1,xt=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?($=isNaN(s)?1:0,_=nt):(_=Math.floor(Math.log(s)/Math.LN2),s*(j=Math.pow(2,-_))<1&&(_--,j*=2),_+it>=1?s+=ot/j:s+=ot*Math.pow(2,1-it),s*j>=2&&(_++,j/=2),_+it>=nt?($=0,_=nt):_+it>=1?($=(s*j-1)*Math.pow(2,g),_=_+it):($=s*Math.pow(2,it-1)*Math.pow(2,g),_=0));g>=8;o[c+ft]=$&255,ft+=yt,$/=256,g-=8);for(_=_<<g|$,tt+=g;tt>0;o[c+ft]=_&255,ft+=yt,_/=256,tt-=8);o[c+ft-yt]|=xt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const s=base64Js,c=ieee754,d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=$,o.SlowBuffer=st,o.INSPECT_MAX_BYTES=50;const g=2147483647;o.kMaxLength=g,$.TYPED_ARRAY_SUPPORT=b(),!$.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{const ut=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(ut,_e),ut.foo()===42}catch{return!1}}Object.defineProperty($.prototype,"parent",{enumerable:!0,get:function(){if($.isBuffer(this))return this.buffer}}),Object.defineProperty($.prototype,"offset",{enumerable:!0,get:function(){if($.isBuffer(this))return this.byteOffset}});function _(ut){if(ut>g)throw new RangeError('The value "'+ut+'" is invalid for option "size"');const _e=new Uint8Array(ut);return Object.setPrototypeOf(_e,$.prototype),_e}function $(ut,_e,rt){if(typeof ut=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return it(ut)}return j(ut,_e,rt)}$.poolSize=8192;function j(ut,_e,rt){if(typeof ut=="string")return ot(ut,_e);if(ArrayBuffer.isView(ut))return yt(ut);if(ut==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut);if(Ln(ut,ArrayBuffer)||ut&&Ln(ut.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ln(ut,SharedArrayBuffer)||ut&&Ln(ut.buffer,SharedArrayBuffer)))return xt(ut,_e,rt);if(typeof ut=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const bt=ut.valueOf&&ut.valueOf();if(bt!=null&&bt!==ut)return $.from(bt,_e,rt);const Bt=kt(ut);if(Bt)return Bt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ut[Symbol.toPrimitive]=="function")return $.from(ut[Symbol.toPrimitive]("string"),_e,rt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut)}$.from=function(ut,_e,rt){return j(ut,_e,rt)},Object.setPrototypeOf($.prototype,Uint8Array.prototype),Object.setPrototypeOf($,Uint8Array);function tt(ut){if(typeof ut!="number")throw new TypeError('"size" argument must be of type number');if(ut<0)throw new RangeError('The value "'+ut+'" is invalid for option "size"')}function nt(ut,_e,rt){return tt(ut),ut<=0?_(ut):_e!==void 0?typeof rt=="string"?_(ut).fill(_e,rt):_(ut).fill(_e):_(ut)}$.alloc=function(ut,_e,rt){return nt(ut,_e,rt)};function it(ut){return tt(ut),_(ut<0?0:mt(ut)|0)}$.allocUnsafe=function(ut){return it(ut)},$.allocUnsafeSlow=function(ut){return it(ut)};function ot(ut,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!$.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);const rt=wt(ut,_e)|0;let bt=_(rt);const Bt=bt.write(ut,_e);return Bt!==rt&&(bt=bt.slice(0,Bt)),bt}function ft(ut){const _e=ut.length<0?0:mt(ut.length)|0,rt=_(_e);for(let bt=0;bt<_e;bt+=1)rt[bt]=ut[bt]&255;return rt}function yt(ut){if(Ln(ut,Uint8Array)){const _e=new Uint8Array(ut);return xt(_e.buffer,_e.byteOffset,_e.byteLength)}return ft(ut)}function xt(ut,_e,rt){if(_e<0||ut.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(ut.byteLength<_e+(rt||0))throw new RangeError('"length" is outside of buffer bounds');let bt;return _e===void 0&&rt===void 0?bt=new Uint8Array(ut):rt===void 0?bt=new Uint8Array(ut,_e):bt=new Uint8Array(ut,_e,rt),Object.setPrototypeOf(bt,$.prototype),bt}function kt(ut){if($.isBuffer(ut)){const _e=mt(ut.length)|0,rt=_(_e);return rt.length===0||ut.copy(rt,0,0,_e),rt}if(ut.length!==void 0)return typeof ut.length!="number"||dt(ut.length)?_(0):ft(ut);if(ut.type==="Buffer"&&Array.isArray(ut.data))return ft(ut.data)}function mt(ut){if(ut>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return ut|0}function st(ut){return+ut!=ut&&(ut=0),$.alloc(+ut)}$.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==$.prototype},$.compare=function(_e,rt){if(Ln(_e,Uint8Array)&&(_e=$.from(_e,_e.offset,_e.byteLength)),Ln(rt,Uint8Array)&&(rt=$.from(rt,rt.offset,rt.byteLength)),!$.isBuffer(_e)||!$.isBuffer(rt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===rt)return 0;let bt=_e.length,Bt=rt.length;for(let Wt=0,ir=Math.min(bt,Bt);Wt<ir;++Wt)if(_e[Wt]!==rt[Wt]){bt=_e[Wt],Bt=rt[Wt];break}return bt<Bt?-1:Bt<bt?1:0},$.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.concat=function(_e,rt){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return $.alloc(0);let bt;if(rt===void 0)for(rt=0,bt=0;bt<_e.length;++bt)rt+=_e[bt].length;const Bt=$.allocUnsafe(rt);let Wt=0;for(bt=0;bt<_e.length;++bt){let ir=_e[bt];if(Ln(ir,Uint8Array))Wt+ir.length>Bt.length?($.isBuffer(ir)||(ir=$.from(ir)),ir.copy(Bt,Wt)):Uint8Array.prototype.set.call(Bt,ir,Wt);else if($.isBuffer(ir))ir.copy(Bt,Wt);else throw new TypeError('"list" argument must be an Array of Buffers');Wt+=ir.length}return Bt};function wt(ut,_e){if($.isBuffer(ut))return ut.length;if(ArrayBuffer.isView(ut)||Ln(ut,ArrayBuffer))return ut.byteLength;if(typeof ut!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ut);const rt=ut.length,bt=arguments.length>2&&arguments[2]===!0;if(!bt&&rt===0)return 0;let Bt=!1;for(;;)switch(_e){case"ascii":case"latin1":case"binary":return rt;case"utf8":case"utf-8":return Fo(ut).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rt*2;case"hex":return rt>>>1;case"base64":return _i(ut).length;default:if(Bt)return bt?-1:Fo(ut).length;_e=(""+_e).toLowerCase(),Bt=!0}}$.byteLength=wt;function Ht(ut,_e,rt){let bt=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((rt===void 0||rt>this.length)&&(rt=this.length),rt<=0)||(rt>>>=0,_e>>>=0,rt<=_e))return"";for(ut||(ut="utf8");;)switch(ut){case"hex":return Nr(this,_e,rt);case"utf8":case"utf-8":return Rr(this,_e,rt);case"ascii":return yn(this,_e,rt);case"latin1":case"binary":return hr(this,_e,rt);case"base64":return Vr(this,_e,rt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ir(this,_e,rt);default:if(bt)throw new TypeError("Unknown encoding: "+ut);ut=(ut+"").toLowerCase(),bt=!0}}$.prototype._isBuffer=!0;function Vt(ut,_e,rt){const bt=ut[_e];ut[_e]=ut[rt],ut[rt]=bt}$.prototype.swap16=function(){const _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let rt=0;rt<_e;rt+=2)Vt(this,rt,rt+1);return this},$.prototype.swap32=function(){const _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let rt=0;rt<_e;rt+=4)Vt(this,rt,rt+3),Vt(this,rt+1,rt+2);return this},$.prototype.swap64=function(){const _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let rt=0;rt<_e;rt+=8)Vt(this,rt,rt+7),Vt(this,rt+1,rt+6),Vt(this,rt+2,rt+5),Vt(this,rt+3,rt+4);return this},$.prototype.toString=function(){const _e=this.length;return _e===0?"":arguments.length===0?Rr(this,0,_e):Ht.apply(this,arguments)},$.prototype.toLocaleString=$.prototype.toString,$.prototype.equals=function(_e){if(!$.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:$.compare(this,_e)===0},$.prototype.inspect=function(){let _e="";const rt=o.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,rt).replace(/(.{2})/g,"$1 ").trim(),this.length>rt&&(_e+=" ... "),"<Buffer "+_e+">"},d&&($.prototype[d]=$.prototype.inspect),$.prototype.compare=function(_e,rt,bt,Bt,Wt){if(Ln(_e,Uint8Array)&&(_e=$.from(_e,_e.offset,_e.byteLength)),!$.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _e);if(rt===void 0&&(rt=0),bt===void 0&&(bt=_e?_e.length:0),Bt===void 0&&(Bt=0),Wt===void 0&&(Wt=this.length),rt<0||bt>_e.length||Bt<0||Wt>this.length)throw new RangeError("out of range index");if(Bt>=Wt&&rt>=bt)return 0;if(Bt>=Wt)return-1;if(rt>=bt)return 1;if(rt>>>=0,bt>>>=0,Bt>>>=0,Wt>>>=0,this===_e)return 0;let ir=Wt-Bt,Wr=bt-rt;const Jr=Math.min(ir,Wr),rn=this.slice(Bt,Wt),sn=_e.slice(rt,bt);for(let tn=0;tn<Jr;++tn)if(rn[tn]!==sn[tn]){ir=rn[tn],Wr=sn[tn];break}return ir<Wr?-1:Wr<ir?1:0};function St(ut,_e,rt,bt,Bt){if(ut.length===0)return-1;if(typeof rt=="string"?(bt=rt,rt=0):rt>2147483647?rt=2147483647:rt<-2147483648&&(rt=-2147483648),rt=+rt,dt(rt)&&(rt=Bt?0:ut.length-1),rt<0&&(rt=ut.length+rt),rt>=ut.length){if(Bt)return-1;rt=ut.length-1}else if(rt<0)if(Bt)rt=0;else return-1;if(typeof _e=="string"&&(_e=$.from(_e,bt)),$.isBuffer(_e))return _e.length===0?-1:gt(ut,_e,rt,bt,Bt);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?Bt?Uint8Array.prototype.indexOf.call(ut,_e,rt):Uint8Array.prototype.lastIndexOf.call(ut,_e,rt):gt(ut,[_e],rt,bt,Bt);throw new TypeError("val must be string, number or Buffer")}function gt(ut,_e,rt,bt,Bt){let Wt=1,ir=ut.length,Wr=_e.length;if(bt!==void 0&&(bt=String(bt).toLowerCase(),bt==="ucs2"||bt==="ucs-2"||bt==="utf16le"||bt==="utf-16le")){if(ut.length<2||_e.length<2)return-1;Wt=2,ir/=2,Wr/=2,rt/=2}function Jr(sn,tn){return Wt===1?sn[tn]:sn.readUInt16BE(tn*Wt)}let rn;if(Bt){let sn=-1;for(rn=rt;rn<ir;rn++)if(Jr(ut,rn)===Jr(_e,sn===-1?0:rn-sn)){if(sn===-1&&(sn=rn),rn-sn+1===Wr)return sn*Wt}else sn!==-1&&(rn-=rn-sn),sn=-1}else for(rt+Wr>ir&&(rt=ir-Wr),rn=rt;rn>=0;rn--){let sn=!0;for(let tn=0;tn<Wr;tn++)if(Jr(ut,rn+tn)!==Jr(_e,tn)){sn=!1;break}if(sn)return rn}return-1}$.prototype.includes=function(_e,rt,bt){return this.indexOf(_e,rt,bt)!==-1},$.prototype.indexOf=function(_e,rt,bt){return St(this,_e,rt,bt,!0)},$.prototype.lastIndexOf=function(_e,rt,bt){return St(this,_e,rt,bt,!1)};function Lt(ut,_e,rt,bt){rt=Number(rt)||0;const Bt=ut.length-rt;bt?(bt=Number(bt),bt>Bt&&(bt=Bt)):bt=Bt;const Wt=_e.length;bt>Wt/2&&(bt=Wt/2);let ir;for(ir=0;ir<bt;++ir){const Wr=parseInt(_e.substr(ir*2,2),16);if(dt(Wr))return ir;ut[rt+ir]=Wr}return ir}function Ot(ut,_e,rt,bt){return fo(Fo(_e,ut.length-rt),ut,rt,bt)}function Kt(ut,_e,rt,bt){return fo(An(_e),ut,rt,bt)}function _r(ut,_e,rt,bt){return fo(_i(_e),ut,rt,bt)}function qr(ut,_e,rt,bt){return fo(Zo(_e,ut.length-rt),ut,rt,bt)}$.prototype.write=function(_e,rt,bt,Bt){if(rt===void 0)Bt="utf8",bt=this.length,rt=0;else if(bt===void 0&&typeof rt=="string")Bt=rt,bt=this.length,rt=0;else if(isFinite(rt))rt=rt>>>0,isFinite(bt)?(bt=bt>>>0,Bt===void 0&&(Bt="utf8")):(Bt=bt,bt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wt=this.length-rt;if((bt===void 0||bt>Wt)&&(bt=Wt),_e.length>0&&(bt<0||rt<0)||rt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Bt||(Bt="utf8");let ir=!1;for(;;)switch(Bt){case"hex":return Lt(this,_e,rt,bt);case"utf8":case"utf-8":return Ot(this,_e,rt,bt);case"ascii":case"latin1":case"binary":return Kt(this,_e,rt,bt);case"base64":return _r(this,_e,rt,bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qr(this,_e,rt,bt);default:if(ir)throw new TypeError("Unknown encoding: "+Bt);Bt=(""+Bt).toLowerCase(),ir=!0}},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Vr(ut,_e,rt){return _e===0&&rt===ut.length?s.fromByteArray(ut):s.fromByteArray(ut.slice(_e,rt))}function Rr(ut,_e,rt){rt=Math.min(ut.length,rt);const bt=[];let Bt=_e;for(;Bt<rt;){const Wt=ut[Bt];let ir=null,Wr=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Bt+Wr<=rt){let Jr,rn,sn,tn;switch(Wr){case 1:Wt<128&&(ir=Wt);break;case 2:Jr=ut[Bt+1],(Jr&192)===128&&(tn=(Wt&31)<<6|Jr&63,tn>127&&(ir=tn));break;case 3:Jr=ut[Bt+1],rn=ut[Bt+2],(Jr&192)===128&&(rn&192)===128&&(tn=(Wt&15)<<12|(Jr&63)<<6|rn&63,tn>2047&&(tn<55296||tn>57343)&&(ir=tn));break;case 4:Jr=ut[Bt+1],rn=ut[Bt+2],sn=ut[Bt+3],(Jr&192)===128&&(rn&192)===128&&(sn&192)===128&&(tn=(Wt&15)<<18|(Jr&63)<<12|(rn&63)<<6|sn&63,tn>65535&&tn<1114112&&(ir=tn))}}ir===null?(ir=65533,Wr=1):ir>65535&&(ir-=65536,bt.push(ir>>>10&1023|55296),ir=56320|ir&1023),bt.push(ir),Bt+=Wr}return Qr(bt)}const Lr=4096;function Qr(ut){const _e=ut.length;if(_e<=Lr)return String.fromCharCode.apply(String,ut);let rt="",bt=0;for(;bt<_e;)rt+=String.fromCharCode.apply(String,ut.slice(bt,bt+=Lr));return rt}function yn(ut,_e,rt){let bt="";rt=Math.min(ut.length,rt);for(let Bt=_e;Bt<rt;++Bt)bt+=String.fromCharCode(ut[Bt]&127);return bt}function hr(ut,_e,rt){let bt="";rt=Math.min(ut.length,rt);for(let Bt=_e;Bt<rt;++Bt)bt+=String.fromCharCode(ut[Bt]);return bt}function Nr(ut,_e,rt){const bt=ut.length;(!_e||_e<0)&&(_e=0),(!rt||rt<0||rt>bt)&&(rt=bt);let Bt="";for(let Wt=_e;Wt<rt;++Wt)Bt+=_s[ut[Wt]];return Bt}function Ir(ut,_e,rt){const bt=ut.slice(_e,rt);let Bt="";for(let Wt=0;Wt<bt.length-1;Wt+=2)Bt+=String.fromCharCode(bt[Wt]+bt[Wt+1]*256);return Bt}$.prototype.slice=function(_e,rt){const bt=this.length;_e=~~_e,rt=rt===void 0?bt:~~rt,_e<0?(_e+=bt,_e<0&&(_e=0)):_e>bt&&(_e=bt),rt<0?(rt+=bt,rt<0&&(rt=0)):rt>bt&&(rt=bt),rt<_e&&(rt=_e);const Bt=this.subarray(_e,rt);return Object.setPrototypeOf(Bt,$.prototype),Bt};function Br(ut,_e,rt){if(ut%1!==0||ut<0)throw new RangeError("offset is not uint");if(ut+_e>rt)throw new RangeError("Trying to access beyond buffer length")}$.prototype.readUintLE=$.prototype.readUIntLE=function(_e,rt,bt){_e=_e>>>0,rt=rt>>>0,bt||Br(_e,rt,this.length);let Bt=this[_e],Wt=1,ir=0;for(;++ir<rt&&(Wt*=256);)Bt+=this[_e+ir]*Wt;return Bt},$.prototype.readUintBE=$.prototype.readUIntBE=function(_e,rt,bt){_e=_e>>>0,rt=rt>>>0,bt||Br(_e,rt,this.length);let Bt=this[_e+--rt],Wt=1;for(;rt>0&&(Wt*=256);)Bt+=this[_e+--rt]*Wt;return Bt},$.prototype.readUint8=$.prototype.readUInt8=function(_e,rt){return _e=_e>>>0,rt||Br(_e,1,this.length),this[_e]},$.prototype.readUint16LE=$.prototype.readUInt16LE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,2,this.length),this[_e]|this[_e+1]<<8},$.prototype.readUint16BE=$.prototype.readUInt16BE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,2,this.length),this[_e]<<8|this[_e+1]},$.prototype.readUint32LE=$.prototype.readUInt32LE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},$.prototype.readUint32BE=$.prototype.readUInt32BE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},$.prototype.readBigUInt64LE=Dn(function(_e){_e=_e>>>0,Hn(_e,"offset");const rt=this[_e],bt=this[_e+7];(rt===void 0||bt===void 0)&&Qn(_e,this.length-8);const Bt=rt+this[++_e]*2**8+this[++_e]*2**16+this[++_e]*2**24,Wt=this[++_e]+this[++_e]*2**8+this[++_e]*2**16+bt*2**24;return BigInt(Bt)+(BigInt(Wt)<<BigInt(32))}),$.prototype.readBigUInt64BE=Dn(function(_e){_e=_e>>>0,Hn(_e,"offset");const rt=this[_e],bt=this[_e+7];(rt===void 0||bt===void 0)&&Qn(_e,this.length-8);const Bt=rt*2**24+this[++_e]*2**16+this[++_e]*2**8+this[++_e],Wt=this[++_e]*2**24+this[++_e]*2**16+this[++_e]*2**8+bt;return(BigInt(Bt)<<BigInt(32))+BigInt(Wt)}),$.prototype.readIntLE=function(_e,rt,bt){_e=_e>>>0,rt=rt>>>0,bt||Br(_e,rt,this.length);let Bt=this[_e],Wt=1,ir=0;for(;++ir<rt&&(Wt*=256);)Bt+=this[_e+ir]*Wt;return Wt*=128,Bt>=Wt&&(Bt-=Math.pow(2,8*rt)),Bt},$.prototype.readIntBE=function(_e,rt,bt){_e=_e>>>0,rt=rt>>>0,bt||Br(_e,rt,this.length);let Bt=rt,Wt=1,ir=this[_e+--Bt];for(;Bt>0&&(Wt*=256);)ir+=this[_e+--Bt]*Wt;return Wt*=128,ir>=Wt&&(ir-=Math.pow(2,8*rt)),ir},$.prototype.readInt8=function(_e,rt){return _e=_e>>>0,rt||Br(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},$.prototype.readInt16LE=function(_e,rt){_e=_e>>>0,rt||Br(_e,2,this.length);const bt=this[_e]|this[_e+1]<<8;return bt&32768?bt|4294901760:bt},$.prototype.readInt16BE=function(_e,rt){_e=_e>>>0,rt||Br(_e,2,this.length);const bt=this[_e+1]|this[_e]<<8;return bt&32768?bt|4294901760:bt},$.prototype.readInt32LE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},$.prototype.readInt32BE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},$.prototype.readBigInt64LE=Dn(function(_e){_e=_e>>>0,Hn(_e,"offset");const rt=this[_e],bt=this[_e+7];(rt===void 0||bt===void 0)&&Qn(_e,this.length-8);const Bt=this[_e+4]+this[_e+5]*2**8+this[_e+6]*2**16+(bt<<24);return(BigInt(Bt)<<BigInt(32))+BigInt(rt+this[++_e]*2**8+this[++_e]*2**16+this[++_e]*2**24)}),$.prototype.readBigInt64BE=Dn(function(_e){_e=_e>>>0,Hn(_e,"offset");const rt=this[_e],bt=this[_e+7];(rt===void 0||bt===void 0)&&Qn(_e,this.length-8);const Bt=(rt<<24)+this[++_e]*2**16+this[++_e]*2**8+this[++_e];return(BigInt(Bt)<<BigInt(32))+BigInt(this[++_e]*2**24+this[++_e]*2**16+this[++_e]*2**8+bt)}),$.prototype.readFloatLE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),c.read(this,_e,!0,23,4)},$.prototype.readFloatBE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,4,this.length),c.read(this,_e,!1,23,4)},$.prototype.readDoubleLE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,8,this.length),c.read(this,_e,!0,52,8)},$.prototype.readDoubleBE=function(_e,rt){return _e=_e>>>0,rt||Br(_e,8,this.length),c.read(this,_e,!1,52,8)};function Zr(ut,_e,rt,bt,Bt,Wt){if(!$.isBuffer(ut))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>Bt||_e<Wt)throw new RangeError('"value" argument is out of bounds');if(rt+bt>ut.length)throw new RangeError("Index out of range")}$.prototype.writeUintLE=$.prototype.writeUIntLE=function(_e,rt,bt,Bt){if(_e=+_e,rt=rt>>>0,bt=bt>>>0,!Bt){const Wr=Math.pow(2,8*bt)-1;Zr(this,_e,rt,bt,Wr,0)}let Wt=1,ir=0;for(this[rt]=_e&255;++ir<bt&&(Wt*=256);)this[rt+ir]=_e/Wt&255;return rt+bt},$.prototype.writeUintBE=$.prototype.writeUIntBE=function(_e,rt,bt,Bt){if(_e=+_e,rt=rt>>>0,bt=bt>>>0,!Bt){const Wr=Math.pow(2,8*bt)-1;Zr(this,_e,rt,bt,Wr,0)}let Wt=bt-1,ir=1;for(this[rt+Wt]=_e&255;--Wt>=0&&(ir*=256);)this[rt+Wt]=_e/ir&255;return rt+bt},$.prototype.writeUint8=$.prototype.writeUInt8=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,1,255,0),this[rt]=_e&255,rt+1},$.prototype.writeUint16LE=$.prototype.writeUInt16LE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,2,65535,0),this[rt]=_e&255,this[rt+1]=_e>>>8,rt+2},$.prototype.writeUint16BE=$.prototype.writeUInt16BE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,2,65535,0),this[rt]=_e>>>8,this[rt+1]=_e&255,rt+2},$.prototype.writeUint32LE=$.prototype.writeUInt32LE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,4,4294967295,0),this[rt+3]=_e>>>24,this[rt+2]=_e>>>16,this[rt+1]=_e>>>8,this[rt]=_e&255,rt+4},$.prototype.writeUint32BE=$.prototype.writeUInt32BE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,4,4294967295,0),this[rt]=_e>>>24,this[rt+1]=_e>>>16,this[rt+2]=_e>>>8,this[rt+3]=_e&255,rt+4};function on(ut,_e,rt,bt,Bt){Po(_e,bt,Bt,ut,rt,7);let Wt=Number(_e&BigInt(4294967295));ut[rt++]=Wt,Wt=Wt>>8,ut[rt++]=Wt,Wt=Wt>>8,ut[rt++]=Wt,Wt=Wt>>8,ut[rt++]=Wt;let ir=Number(_e>>BigInt(32)&BigInt(4294967295));return ut[rt++]=ir,ir=ir>>8,ut[rt++]=ir,ir=ir>>8,ut[rt++]=ir,ir=ir>>8,ut[rt++]=ir,rt}function an(ut,_e,rt,bt,Bt){Po(_e,bt,Bt,ut,rt,7);let Wt=Number(_e&BigInt(4294967295));ut[rt+7]=Wt,Wt=Wt>>8,ut[rt+6]=Wt,Wt=Wt>>8,ut[rt+5]=Wt,Wt=Wt>>8,ut[rt+4]=Wt;let ir=Number(_e>>BigInt(32)&BigInt(4294967295));return ut[rt+3]=ir,ir=ir>>8,ut[rt+2]=ir,ir=ir>>8,ut[rt+1]=ir,ir=ir>>8,ut[rt]=ir,rt+8}$.prototype.writeBigUInt64LE=Dn(function(_e,rt=0){return on(this,_e,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),$.prototype.writeBigUInt64BE=Dn(function(_e,rt=0){return an(this,_e,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),$.prototype.writeIntLE=function(_e,rt,bt,Bt){if(_e=+_e,rt=rt>>>0,!Bt){const Jr=Math.pow(2,8*bt-1);Zr(this,_e,rt,bt,Jr-1,-Jr)}let Wt=0,ir=1,Wr=0;for(this[rt]=_e&255;++Wt<bt&&(ir*=256);)_e<0&&Wr===0&&this[rt+Wt-1]!==0&&(Wr=1),this[rt+Wt]=(_e/ir>>0)-Wr&255;return rt+bt},$.prototype.writeIntBE=function(_e,rt,bt,Bt){if(_e=+_e,rt=rt>>>0,!Bt){const Jr=Math.pow(2,8*bt-1);Zr(this,_e,rt,bt,Jr-1,-Jr)}let Wt=bt-1,ir=1,Wr=0;for(this[rt+Wt]=_e&255;--Wt>=0&&(ir*=256);)_e<0&&Wr===0&&this[rt+Wt+1]!==0&&(Wr=1),this[rt+Wt]=(_e/ir>>0)-Wr&255;return rt+bt},$.prototype.writeInt8=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,1,127,-128),_e<0&&(_e=255+_e+1),this[rt]=_e&255,rt+1},$.prototype.writeInt16LE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,2,32767,-32768),this[rt]=_e&255,this[rt+1]=_e>>>8,rt+2},$.prototype.writeInt16BE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,2,32767,-32768),this[rt]=_e>>>8,this[rt+1]=_e&255,rt+2},$.prototype.writeInt32LE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,4,2147483647,-2147483648),this[rt]=_e&255,this[rt+1]=_e>>>8,this[rt+2]=_e>>>16,this[rt+3]=_e>>>24,rt+4},$.prototype.writeInt32BE=function(_e,rt,bt){return _e=+_e,rt=rt>>>0,bt||Zr(this,_e,rt,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[rt]=_e>>>24,this[rt+1]=_e>>>16,this[rt+2]=_e>>>8,this[rt+3]=_e&255,rt+4},$.prototype.writeBigInt64LE=Dn(function(_e,rt=0){return on(this,_e,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),$.prototype.writeBigInt64BE=Dn(function(_e,rt=0){return an(this,_e,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xn(ut,_e,rt,bt,Bt,Wt){if(rt+bt>ut.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("Index out of range")}function vn(ut,_e,rt,bt,Bt){return _e=+_e,rt=rt>>>0,Bt||xn(ut,_e,rt,4),c.write(ut,_e,rt,bt,23,4),rt+4}$.prototype.writeFloatLE=function(_e,rt,bt){return vn(this,_e,rt,!0,bt)},$.prototype.writeFloatBE=function(_e,rt,bt){return vn(this,_e,rt,!1,bt)};function Gn(ut,_e,rt,bt,Bt){return _e=+_e,rt=rt>>>0,Bt||xn(ut,_e,rt,8),c.write(ut,_e,rt,bt,52,8),rt+8}$.prototype.writeDoubleLE=function(_e,rt,bt){return Gn(this,_e,rt,!0,bt)},$.prototype.writeDoubleBE=function(_e,rt,bt){return Gn(this,_e,rt,!1,bt)},$.prototype.copy=function(_e,rt,bt,Bt){if(!$.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(bt||(bt=0),!Bt&&Bt!==0&&(Bt=this.length),rt>=_e.length&&(rt=_e.length),rt||(rt=0),Bt>0&&Bt<bt&&(Bt=bt),Bt===bt||_e.length===0||this.length===0)return 0;if(rt<0)throw new RangeError("targetStart out of bounds");if(bt<0||bt>=this.length)throw new RangeError("Index out of range");if(Bt<0)throw new RangeError("sourceEnd out of bounds");Bt>this.length&&(Bt=this.length),_e.length-rt<Bt-bt&&(Bt=_e.length-rt+bt);const Wt=Bt-bt;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(rt,bt,Bt):Uint8Array.prototype.set.call(_e,this.subarray(bt,Bt),rt),Wt},$.prototype.fill=function(_e,rt,bt,Bt){if(typeof _e=="string"){if(typeof rt=="string"?(Bt=rt,rt=0,bt=this.length):typeof bt=="string"&&(Bt=bt,bt=this.length),Bt!==void 0&&typeof Bt!="string")throw new TypeError("encoding must be a string");if(typeof Bt=="string"&&!$.isEncoding(Bt))throw new TypeError("Unknown encoding: "+Bt);if(_e.length===1){const ir=_e.charCodeAt(0);(Bt==="utf8"&&ir<128||Bt==="latin1")&&(_e=ir)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(rt<0||this.length<rt||this.length<bt)throw new RangeError("Out of range index");if(bt<=rt)return this;rt=rt>>>0,bt=bt===void 0?this.length:bt>>>0,_e||(_e=0);let Wt;if(typeof _e=="number")for(Wt=rt;Wt<bt;++Wt)this[Wt]=_e;else{const ir=$.isBuffer(_e)?_e:$.from(_e,Bt),Wr=ir.length;if(Wr===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(Wt=0;Wt<bt-rt;++Wt)this[Wt+rt]=ir[Wt%Wr]}return this};const Wn={};function Ro(ut,_e,rt){Wn[ut]=class extends rt{constructor(){super(),Object.defineProperty(this,"message",{value:_e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ut}]`,this.stack,delete this.name}get code(){return ut}set code(Bt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Bt,writable:!0})}toString(){return`${this.name} [${ut}]: ${this.message}`}}}Ro("ERR_BUFFER_OUT_OF_BOUNDS",function(ut){return ut?`${ut} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ro("ERR_INVALID_ARG_TYPE",function(ut,_e){return`The "${ut}" argument must be of type number. Received type ${typeof _e}`},TypeError),Ro("ERR_OUT_OF_RANGE",function(ut,_e,rt){let bt=`The value of "${ut}" is out of range.`,Bt=rt;return Number.isInteger(rt)&&Math.abs(rt)>2**32?Bt=Ko(String(rt)):typeof rt=="bigint"&&(Bt=String(rt),(rt>BigInt(2)**BigInt(32)||rt<-(BigInt(2)**BigInt(32)))&&(Bt=Ko(Bt)),Bt+="n"),bt+=` It must be ${_e}. Received ${Bt}`,bt},RangeError);function Ko(ut){let _e="",rt=ut.length;const bt=ut[0]==="-"?1:0;for(;rt>=bt+4;rt-=3)_e=`_${ut.slice(rt-3,rt)}${_e}`;return`${ut.slice(0,rt)}${_e}`}function xs(ut,_e,rt){Hn(_e,"offset"),(ut[_e]===void 0||ut[_e+rt]===void 0)&&Qn(_e,ut.length-(rt+1))}function Po(ut,_e,rt,bt,Bt,Wt){if(ut>rt||ut<_e){const ir=typeof _e=="bigint"?"n":"";let Wr;throw Wt>3?_e===0||_e===BigInt(0)?Wr=`>= 0${ir} and < 2${ir} ** ${(Wt+1)*8}${ir}`:Wr=`>= -(2${ir} ** ${(Wt+1)*8-1}${ir}) and < 2 ** ${(Wt+1)*8-1}${ir}`:Wr=`>= ${_e}${ir} and <= ${rt}${ir}`,new Wn.ERR_OUT_OF_RANGE("value",Wr,ut)}xs(bt,Bt,Wt)}function Hn(ut,_e){if(typeof ut!="number")throw new Wn.ERR_INVALID_ARG_TYPE(_e,"number",ut)}function Qn(ut,_e,rt){throw Math.floor(ut)!==ut?(Hn(ut,rt),new Wn.ERR_OUT_OF_RANGE(rt||"offset","an integer",ut)):_e<0?new Wn.ERR_BUFFER_OUT_OF_BOUNDS:new Wn.ERR_OUT_OF_RANGE(rt||"offset",`>= ${rt?1:0} and <= ${_e}`,ut)}const Xo=/[^+/0-9A-Za-z-_]/g;function Yo(ut){if(ut=ut.split("=")[0],ut=ut.trim().replace(Xo,""),ut.length<2)return"";for(;ut.length%4!==0;)ut=ut+"=";return ut}function Fo(ut,_e){_e=_e||1/0;let rt;const bt=ut.length;let Bt=null;const Wt=[];for(let ir=0;ir<bt;++ir){if(rt=ut.charCodeAt(ir),rt>55295&&rt<57344){if(!Bt){if(rt>56319){(_e-=3)>-1&&Wt.push(239,191,189);continue}else if(ir+1===bt){(_e-=3)>-1&&Wt.push(239,191,189);continue}Bt=rt;continue}if(rt<56320){(_e-=3)>-1&&Wt.push(239,191,189),Bt=rt;continue}rt=(Bt-55296<<10|rt-56320)+65536}else Bt&&(_e-=3)>-1&&Wt.push(239,191,189);if(Bt=null,rt<128){if((_e-=1)<0)break;Wt.push(rt)}else if(rt<2048){if((_e-=2)<0)break;Wt.push(rt>>6|192,rt&63|128)}else if(rt<65536){if((_e-=3)<0)break;Wt.push(rt>>12|224,rt>>6&63|128,rt&63|128)}else if(rt<1114112){if((_e-=4)<0)break;Wt.push(rt>>18|240,rt>>12&63|128,rt>>6&63|128,rt&63|128)}else throw new Error("Invalid code point")}return Wt}function An(ut){const _e=[];for(let rt=0;rt<ut.length;++rt)_e.push(ut.charCodeAt(rt)&255);return _e}function Zo(ut,_e){let rt,bt,Bt;const Wt=[];for(let ir=0;ir<ut.length&&!((_e-=2)<0);++ir)rt=ut.charCodeAt(ir),bt=rt>>8,Bt=rt%256,Wt.push(Bt),Wt.push(bt);return Wt}function _i(ut){return s.toByteArray(Yo(ut))}function fo(ut,_e,rt,bt){let Bt;for(Bt=0;Bt<bt&&!(Bt+rt>=_e.length||Bt>=ut.length);++Bt)_e[Bt+rt]=ut[Bt];return Bt}function Ln(ut,_e){return ut instanceof _e||ut!=null&&ut.constructor!=null&&ut.constructor.name!=null&&ut.constructor.name===_e.name}function dt(ut){return ut!==ut}const _s=function(){const ut="0123456789abcdef",_e=new Array(256);for(let rt=0;rt<16;++rt){const bt=rt*16;for(let Bt=0;Bt<16;++Bt)_e[bt+Bt]=ut[rt]+ut[Bt]}return _e}();function Dn(ut){return typeof BigInt>"u"?Ss:ut}function Ss(){throw new Error("BigInt not supported")}})(buffer$1);var browser$1={exports:{}},process$1=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(o){if(cachedSetTimeout===setTimeout)return setTimeout(o,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(o,0);try{return cachedSetTimeout(o,0)}catch{try{return cachedSetTimeout.call(null,o,0)}catch{return cachedSetTimeout.call(this,o,0)}}}function runClearTimeout(o){if(cachedClearTimeout===clearTimeout)return clearTimeout(o);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(o);try{return cachedClearTimeout(o)}catch{try{return cachedClearTimeout.call(null,o)}catch{return cachedClearTimeout.call(this,o)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var o=runTimeout(cleanUpNextTick);draining=!0;for(var s=queue$1.length;s;){for(currentQueue=queue$1,queue$1=[];++queueIndex<s;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,s=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(o)}}process$1.nextTick=function(o){var s=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)s[c-1]=arguments[c];queue$1.push(new Item(o,s)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(o,s){this.fun=o,this.array=s}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$2(){}process$1.on=noop$2;process$1.addListener=noop$2;process$1.once=noop$2;process$1.off=noop$2;process$1.removeListener=noop$2;process$1.removeAllListeners=noop$2;process$1.emit=noop$2;process$1.prependListener=noop$2;process$1.prependOnceListener=noop$2;process$1.listeners=function(o){return[]};process$1.binding=function(o){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(o){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports=browser$1.exports;const process$2=getDefaultExportFromCjs(browserExports);window.global=window;window.process=process$2;window.Buffer=buffer$1.Buffer;var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,s,c){this.props=o,this.context=s,this.refs=D$1,this.updater=c||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,s){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,s,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,s,c){this.props=o,this.context=s,this.refs=D$1,this.updater=c||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,s,c){var d,g={},b=null,_=null;if(s!=null)for(d in s.ref!==void 0&&(_=s.ref),s.key!==void 0&&(b=""+s.key),s)J.call(s,d)&&!L$1.hasOwnProperty(d)&&(g[d]=s[d]);var $=arguments.length-2;if($===1)g.children=c;else if(1<$){for(var j=Array($),tt=0;tt<$;tt++)j[tt]=arguments[tt+2];g.children=j}if(o&&o.defaultProps)for(d in $=o.defaultProps,$)g[d]===void 0&&(g[d]=$[d]);return{$$typeof:l$2,type:o,key:b,ref:_,props:g,_owner:K$1.current}}function N$1(o,s){return{$$typeof:l$2,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape(o){var s={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(c){return s[c]})}var P$1=/\/+/g;function Q$1(o,s){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):s.toString(36)}function R$1(o,s,c,d,g){var b=typeof o;(b==="undefined"||b==="boolean")&&(o=null);var _=!1;if(o===null)_=!0;else switch(b){case"string":case"number":_=!0;break;case"object":switch(o.$$typeof){case l$2:case n$3:_=!0}}if(_)return _=o,g=g(_),o=d===""?"."+Q$1(_,0):d,I$1(g)?(c="",o!=null&&(c=o.replace(P$1,"$&/")+"/"),R$1(g,s,c,"",function(tt){return tt})):g!=null&&(O$1(g)&&(g=N$1(g,c+(!g.key||_&&_.key===g.key?"":(""+g.key).replace(P$1,"$&/")+"/")+o)),s.push(g)),1;if(_=0,d=d===""?".":d+":",I$1(o))for(var $=0;$<o.length;$++){b=o[$];var j=d+Q$1(b,$);_+=R$1(b,s,c,j,g)}else if(j=A$1(o),typeof j=="function")for(o=j.call(o),$=0;!(b=o.next()).done;)b=b.value,j=d+Q$1(b,$++),_+=R$1(b,s,c,j,g);else if(b==="object")throw s=String(o),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return _}function S$1(o,s,c){if(o==null)return o;var d=[],g=0;return R$1(o,d,"","",function(b){return s.call(c,b,g++)}),d}function T$1(o){if(o._status===-1){var s=o._result;s=s(),s.then(function(c){(o._status===0||o._status===-1)&&(o._status=1,o._result=c)},function(c){(o._status===0||o._status===-1)&&(o._status=2,o._result=c)}),o._status===-1&&(o._status=0,o._result=s)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,s,c){S$1(o,function(){s.apply(this,arguments)},c)},count:function(o){var s=0;return S$1(o,function(){s++}),s},toArray:function(o){return S$1(o,function(s){return s})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,s,c){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var d=C$1({},o.props),g=o.key,b=o.ref,_=o._owner;if(s!=null){if(s.ref!==void 0&&(b=s.ref,_=K$1.current),s.key!==void 0&&(g=""+s.key),o.type&&o.type.defaultProps)var $=o.type.defaultProps;for(j in s)J.call(s,j)&&!L$1.hasOwnProperty(j)&&(d[j]=s[j]===void 0&&$!==void 0?$[j]:s[j])}var j=arguments.length-2;if(j===1)d.children=c;else if(1<j){$=Array(j);for(var tt=0;tt<j;tt++)$[tt]=arguments[tt+2];d.children=$}return{$$typeof:l$2,type:o.type,key:g,ref:b,props:d,_owner:_}};react_production_min.createContext=function(o){return o={$$typeof:u$2,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$2,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var s=M$1.bind(null,o);return s.type=o,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,s){return{$$typeof:x$1,type:o,compare:s===void 0?null:s}};react_production_min.startTransition=function(o){var s=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,s){return U$1.current.useCallback(o,s)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,s){return U$1.current.useEffect(o,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,s,c){return U$1.current.useImperativeHandle(o,s,c)};react_production_min.useInsertionEffect=function(o,s){return U$1.current.useInsertionEffect(o,s)};react_production_min.useLayoutEffect=function(o,s){return U$1.current.useLayoutEffect(o,s)};react_production_min.useMemo=function(o,s){return U$1.current.useMemo(o,s)};react_production_min.useReducer=function(o,s,c){return U$1.current.useReducer(o,s,c)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,s,c){return U$1.current.useSyncExternalStore(o,s,c)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(o,s,c){var d,g={},b=null,_=null;c!==void 0&&(b=""+c),s.key!==void 0&&(b=""+s.key),s.ref!==void 0&&(_=s.ref);for(d in s)m$2.call(s,d)&&!p$3.hasOwnProperty(d)&&(g[d]=s[d]);if(o&&o.defaultProps)for(d in s=o.defaultProps,s)g[d]===void 0&&(g[d]=s[d]);return{$$typeof:k$1,type:o,key:b,ref:_,props:g,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s(hr,Nr){var Ir=hr.length;hr.push(Nr);e:for(;0<Ir;){var Br=Ir-1>>>1,Zr=hr[Br];if(0<g(Zr,Nr))hr[Br]=Nr,hr[Ir]=Zr,Ir=Br;else break e}}function c(hr){return hr.length===0?null:hr[0]}function d(hr){if(hr.length===0)return null;var Nr=hr[0],Ir=hr.pop();if(Ir!==Nr){hr[0]=Ir;e:for(var Br=0,Zr=hr.length,on=Zr>>>1;Br<on;){var an=2*(Br+1)-1,xn=hr[an],vn=an+1,Gn=hr[vn];if(0>g(xn,Ir))vn<Zr&&0>g(Gn,xn)?(hr[Br]=Gn,hr[vn]=Ir,Br=vn):(hr[Br]=xn,hr[an]=Ir,Br=an);else if(vn<Zr&&0>g(Gn,Ir))hr[Br]=Gn,hr[vn]=Ir,Br=vn;else break e}}return Nr}function g(hr,Nr){var Ir=hr.sortIndex-Nr.sortIndex;return Ir!==0?Ir:hr.id-Nr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;o.unstable_now=function(){return b.now()}}else{var _=Date,$=_.now();o.unstable_now=function(){return _.now()-$}}var j=[],tt=[],nt=1,it=null,ot=3,ft=!1,yt=!1,xt=!1,kt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function wt(hr){for(var Nr=c(tt);Nr!==null;){if(Nr.callback===null)d(tt);else if(Nr.startTime<=hr)d(tt),Nr.sortIndex=Nr.expirationTime,s(j,Nr);else break;Nr=c(tt)}}function Ht(hr){if(xt=!1,wt(hr),!yt)if(c(j)!==null)yt=!0,Qr(Vt);else{var Nr=c(tt);Nr!==null&&yn(Ht,Nr.startTime-hr)}}function Vt(hr,Nr){yt=!1,xt&&(xt=!1,mt(Lt),Lt=-1),ft=!0;var Ir=ot;try{for(wt(Nr),it=c(j);it!==null&&(!(it.expirationTime>Nr)||hr&&!_r());){var Br=it.callback;if(typeof Br=="function"){it.callback=null,ot=it.priorityLevel;var Zr=Br(it.expirationTime<=Nr);Nr=o.unstable_now(),typeof Zr=="function"?it.callback=Zr:it===c(j)&&d(j),wt(Nr)}else d(j);it=c(j)}if(it!==null)var on=!0;else{var an=c(tt);an!==null&&yn(Ht,an.startTime-Nr),on=!1}return on}finally{it=null,ot=Ir,ft=!1}}var St=!1,gt=null,Lt=-1,Ot=5,Kt=-1;function _r(){return!(o.unstable_now()-Kt<Ot)}function qr(){if(gt!==null){var hr=o.unstable_now();Kt=hr;var Nr=!0;try{Nr=gt(!0,hr)}finally{Nr?Vr():(St=!1,gt=null)}}else St=!1}var Vr;if(typeof st=="function")Vr=function(){st(qr)};else if(typeof MessageChannel<"u"){var Rr=new MessageChannel,Lr=Rr.port2;Rr.port1.onmessage=qr,Vr=function(){Lr.postMessage(null)}}else Vr=function(){kt(qr,0)};function Qr(hr){gt=hr,St||(St=!0,Vr())}function yn(hr,Nr){Lt=kt(function(){hr(o.unstable_now())},Nr)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(hr){hr.callback=null},o.unstable_continueExecution=function(){yt||ft||(yt=!0,Qr(Vt))},o.unstable_forceFrameRate=function(hr){0>hr||125<hr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<hr?Math.floor(1e3/hr):5},o.unstable_getCurrentPriorityLevel=function(){return ot},o.unstable_getFirstCallbackNode=function(){return c(j)},o.unstable_next=function(hr){switch(ot){case 1:case 2:case 3:var Nr=3;break;default:Nr=ot}var Ir=ot;ot=Nr;try{return hr()}finally{ot=Ir}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(hr,Nr){switch(hr){case 1:case 2:case 3:case 4:case 5:break;default:hr=3}var Ir=ot;ot=hr;try{return Nr()}finally{ot=Ir}},o.unstable_scheduleCallback=function(hr,Nr,Ir){var Br=o.unstable_now();switch(typeof Ir=="object"&&Ir!==null?(Ir=Ir.delay,Ir=typeof Ir=="number"&&0<Ir?Br+Ir:Br):Ir=Br,hr){case 1:var Zr=-1;break;case 2:Zr=250;break;case 5:Zr=1073741823;break;case 4:Zr=1e4;break;default:Zr=5e3}return Zr=Ir+Zr,hr={id:nt++,callback:Nr,priorityLevel:hr,startTime:Ir,expirationTime:Zr,sortIndex:-1},Ir>Br?(hr.sortIndex=Ir,s(tt,hr),c(j)===null&&hr===c(tt)&&(xt?(mt(Lt),Lt=-1):xt=!0,yn(Ht,Ir-Br))):(hr.sortIndex=Zr,s(j,hr),yt||ft||(yt=!0,Qr(Vt))),hr},o.unstable_shouldYield=_r,o.unstable_wrapCallback=function(hr){var Nr=ot;return function(){var Ir=ot;ot=Nr;try{return hr.apply(this,arguments)}finally{ot=Ir}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,s){ha(o,s),ha(o+"Capture",s)}function ha(o,s){for(ea[o]=s,o=0;o<s.length;o++)da.add(s[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,s,c,d){if(s===null||typeof s>"u"||pa(o,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(o,s,c,d,g,b,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=s,this.sanitizeURL=b,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];z[s]=new v$1(s,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(ra,sa);z[s]=new v$1(s,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(ra,sa);z[s]=new v$1(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(ra,sa);z[s]=new v$1(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,s,c,d){var g=z.hasOwnProperty(s)?z[s]:null;(g!==null?g.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,c,g,d)&&(c=null),d||g===null?oa(s)&&(c===null?o.removeAttribute(s):o.setAttribute(s,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(s=g.attributeName,d=g.attributeNamespace,c===null?o.removeAttribute(s):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,d?o.setAttributeNS(d,s,c):o.setAttribute(s,c))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+o}var Na=!1;function Oa(o,s){if(!o||Na)return"";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(tt){var d=tt}Reflect.construct(o,[],s)}else{try{s.call()}catch(tt){d=tt}o.call(s.prototype)}else{try{throw Error()}catch(tt){d=tt}o()}}catch(tt){if(tt&&d&&typeof tt.stack=="string"){for(var g=tt.stack.split(`
`),b=d.stack.split(`
`),_=g.length-1,$=b.length-1;1<=_&&0<=$&&g[_]!==b[$];)$--;for(;1<=_&&0<=$;_--,$--)if(g[_]!==b[$]){if(_!==1||$!==1)do if(_--,$--,0>$||g[_]!==b[$]){var j=`
`+g[_].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=_&&0<=$);break}}}finally{Na=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return s=o.displayName||null,s!==null?s:Qa(o.type)||"Memo";case Ha:s=o._payload,o=o._init;try{return Qa(o(s))}catch{}}return null}function Ra(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(o){var s=Ta(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),d=""+o[s];if(!o.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return g.call(this)},set:function(_){d=""+_,b.call(this,_)}}),Object.defineProperty(o,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return o&&(d=Ta(o)?o.checked?"true":"false":o.value),o=d,o!==c?(s.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,s){var c=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Za(o,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=Sa(s.value!=null?s.value:c),o._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(o,s){s=s.checked,s!=null&&ta(o,"checked",s,!1)}function bb(o,s){ab(o,s);var c=Sa(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(d==="submit"||d==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?cb(o,s.type,c):s.hasOwnProperty("defaultValue")&&cb(o,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function db(o,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,c||s===o.value||(o.value=s),o.defaultValue=s}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function cb(o,s,c){(s!=="number"||Xa(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var eb=Array.isArray;function fb(o,s,c,d){if(o=o.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=s.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&d&&(o[c].defaultSelected=!0)}else{for(c=""+Sa(c),s=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,d&&(o[g].defaultSelected=!0);return}s!==null||o[g].disabled||(s=o[g])}s!==null&&(s.selected=!0)}}function gb(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(p$2(92));if(eb(c)){if(1<c.length)throw Error(p$2(93));c=c[0]}s=c}s==null&&(s=""),c=s}o._wrapperState={initialValue:Sa(c)}}function ib(o,s){var c=Sa(s.value),d=Sa(s.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),s.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),d!=null&&(o.defaultValue=""+d)}function jb(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,g){MSApp.execUnsafeLocalFunction(function(){return o(s,c,d,g)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function ob(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),pb[s]=pb[o]})});function rb(o,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||pb.hasOwnProperty(o)&&pb[o]?(""+s).trim():s+"px"}function sb(o,s){o=o.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,g=rb(c,s[c],d);c==="float"&&(c="cssFloat"),d?o.setProperty(c,g):o[c]=g}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,s){if(s){if(tb[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$2(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$2(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$2(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$2(62))}}function vb(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$2(280));var s=o.stateNode;s&&(s=Db(s),yb(o.stateNode,o.type,s))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,s=Ab;if(Ab=zb=null,Bb(o),s)for(o=0;o<s.length;o++)Bb(s[o])}}function Gb(o,s){return o(s)}function Hb(){}var Ib=!1;function Jb(o,s,c){if(Ib)return o(s,c);Ib=!0;try{return Gb(o,s,c)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,s){var c=o.stateNode;if(c===null)return null;var d=Db(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(p$2(231,s,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,s,c,d,g,b,_,$,j){var tt=Array.prototype.slice.call(arguments,3);try{s.apply(c,tt)}catch(nt){this.onError(nt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,s,c,d,g,b,_,$,j){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,s,c,d,g,b,_,$,j){if(Tb.apply(this,arguments),Ob){if(Ob){var tt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=tt)}}function Vb(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function Wb(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$2(188))}function Yb(o){var s=o.alternate;if(!s){if(s=Vb(o),s===null)throw Error(p$2(188));return s!==o?null:o}for(var c=o,d=s;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return Xb(g),o;if(b===d)return Xb(g),s;b=b.sibling}throw Error(p$2(188))}if(c.return!==d.return)c=g,d=b;else{for(var _=!1,$=g.child;$;){if($===c){_=!0,c=g,d=b;break}if($===d){_=!0,d=g,c=b;break}$=$.sibling}if(!_){for($=b.child;$;){if($===c){_=!0,c=b,d=g;break}if($===d){_=!0,d=b,c=g;break}$=$.sibling}if(!_)throw Error(p$2(189))}}if(c.alternate!==d)throw Error(p$2(190))}if(c.tag!==3)throw Error(p$2(188));return c.stateNode.current===c?o:s}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=$b(o);if(s!==null)return s;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,s){var c=o.pendingLanes;if(c===0)return 0;var d=0,g=o.suspendedLanes,b=o.pingedLanes,_=c&268435455;if(_!==0){var $=_&~g;$!==0?d=tc($):(b&=_,b!==0&&(d=tc(b)))}else _=c&~g,_!==0?d=tc(_):b!==0&&(d=tc(b));if(d===0)return 0;if(s!==0&&s!==d&&!(s&g)&&(g=d&-d,b=s&-s,g>=b||g===16&&(b&4194240)!==0))return s;if(d&4&&(d|=c&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=d;0<s;)c=31-oc(s),g=1<<c,d|=o[c],s&=~g;return d}function vc(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,s){for(var c=o.suspendedLanes,d=o.pingedLanes,g=o.expirationTimes,b=o.pendingLanes;0<b;){var _=31-oc(b),$=1<<_,j=g[_];j===-1?(!($&c)||$&d)&&(g[_]=vc($,s)):j<=s&&(o.expiredLanes|=$),b&=~$}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Ac(o,s,c){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-oc(s),o[s]=c}function Bc(o,s){var c=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-oc(c),b=1<<g;s[g]=0,d[g]=-1,o[g]=-1,c&=~b}}function Cc(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var d=31-oc(c),g=1<<d;g&s|o[d]&s&&(o[d]|=s),c&=~g}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,s){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(o,s,c,d,g,b){return o===null||o.nativeEvent!==b?(o={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),o):(o.eventSystemFlags|=d,s=o.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),o)}function Uc(o,s,c,d,g){switch(s){case"focusin":return Lc=Tc(Lc,o,s,c,d,g),!0;case"dragenter":return Mc=Tc(Mc,o,s,c,d,g),!0;case"mouseover":return Nc=Tc(Nc,o,s,c,d,g),!0;case"pointerover":var b=g.pointerId;return Oc.set(b,Tc(Oc.get(b)||null,o,s,c,d,g)),!0;case"gotpointercapture":return b=g.pointerId,Pc.set(b,Tc(Pc.get(b)||null,o,s,c,d,g)),!0}return!1}function Vc(o){var s=Wc(o.target);if(s!==null){var c=Vb(s);if(c!==null){if(s=c.tag,s===13){if(s=Wb(c),s!==null){o.blockedOn=s,Ic(o.priority,function(){Gc(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Yc(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var d=new c.constructor(c.type,c);wb=d,c.target.dispatchEvent(d),wb=null}else return s=Cb(c),s!==null&&Fc(s),o.blockedOn=c,!1;s.shift()}return!0}function Zc(o,s,c){Xc(o)&&c.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,s){o.blockedOn===s&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function s(g){return ad(g,o)}if(0<Kc.length){ad(Kc[0],o);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===o&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(s),Pc.forEach(s),c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===o&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,s,c,d){var g=C,b=cd.transition;cd.transition=null;try{C=1,fd(o,s,c,d)}finally{C=g,cd.transition=b}}function gd(o,s,c,d){var g=C,b=cd.transition;cd.transition=null;try{C=4,fd(o,s,c,d)}finally{C=g,cd.transition=b}}function fd(o,s,c,d){if(dd){var g=Yc(o,s,c,d);if(g===null)hd(o,s,d,id$2,c),Sc(o,d);else if(Uc(g,o,s,c,d))d.stopPropagation();else if(Sc(o,d),s&4&&-1<Rc.indexOf(o)){for(;g!==null;){var b=Cb(g);if(b!==null&&Ec(b),b=Yc(o,s,c,d),b===null&&hd(o,s,d,id$2,c),b===g)break;g=b}g!==null&&d.stopPropagation()}else hd(o,s,d,null,c)}}var id$2=null;function Yc(o,s,c,d){if(id$2=null,o=xb(d),o=Wc(o),o!==null)if(s=Vb(o),s===null)o=null;else if(c=s.tag,c===13){if(o=Wb(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return id$2=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,s=ld,c=s.length,d,g="value"in kd?kd.value:kd.textContent,b=g.length;for(o=0;o<c&&s[o]===g[o];o++);var _=c-o;for(d=1;d<=_&&s[c-d]===g[b-d];d++);return md=g.slice(o,1<d?1-d:void 0)}function od(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function s(c,d,g,b,_){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(c=o[$],this[$]=c?c(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Od[o])?!!s[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var s=Md[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,s){switch(o){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,s){switch(o){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return o=s.data,o===ee&&fe?null:o;default:return null}}function ke(o,s){if(ie)return o==="compositionend"||!ae&&ge(o,s)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!le[o.type]:s==="textarea"}function ne(o,s,c,d){Eb(d),s=oe(s,"onChange"),0<s.length&&(c=new td("onChange","change",null,c,d),o.push({event:c,listeners:s}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var s=ue(o);if(Wa(s))return o}function ve(o,s){if(o==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,o,xb(o)),Jb(re,s)}}function Ce(o,s,c){o==="focusin"?(Ae(),pe=s,qe=c,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,s){if(o==="click")return te(s)}function Fe(o,s){if(o==="input"||o==="change")return te(s)}function Ge(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,s){if(He(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!ja.call(s,g)||!He(o[g],s[g]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,s){var c=Je(o);o=0;for(var d;c;){if(c.nodeType===3){if(d=o+c.textContent.length,o<=s&&d>=s)return{node:c,offset:s-o};o=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Je(c)}}function Le(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Le(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var o=window,s=Xa();s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Xa(o.document)}return s}function Ne(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function Oe(o){var s=Me(),c=o.focusedElem,d=o.selectionRange;if(s!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(d!==null&&Ne(c)){if(s=d.start,o=d.end,o===void 0&&(o=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(o,c.value.length);else if(o=(s=c.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,b=Math.min(d.start,g);d=d.end===void 0?b:Math.min(d.end,g),!o.extend&&b>d&&(g=d,d=b,b=g),g=Ke(c,b);var _=Ke(c,d);g&&_&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),o.removeAllRanges(),b>d?(o.addRange(s),o.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),o.addRange(s)))}}for(s=[],o=c;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)o=s[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Te||Qe==null||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(s=new td("onSelect","select",null,s,c),o.push({event:s,listeners:d}),s.target=Qe)))}function Ve(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var s=We[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in Ye)return Xe[o]=s[c];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,s){df.set(o,s),fa(s,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,s,c){var d=o.type||"unknown-event";o.currentTarget=c,Ub(d,s,void 0,o),o.currentTarget=null}function se(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var d=o[c],g=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var _=d.length-1;0<=_;_--){var $=d[_],j=$.instance,tt=$.currentTarget;if($=$.listener,j!==b&&g.isPropagationStopped())break e;nf(g,$,tt),b=j}else for(_=0;_<d.length;_++){if($=d[_],j=$.instance,tt=$.currentTarget,$=$.listener,j!==b&&g.isPropagationStopped())break e;nf(g,$,tt),b=j}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,s){var c=s[of];c===void 0&&(c=s[of]=new Set);var d=o+"__bubble";c.has(d)||(pf(s,o,2,!1),c.add(d))}function qf(o,s,c){var d=0;s&&(d|=4),pf(c,o,d,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(c){c!=="selectionchange"&&(mf.has(c)||qf(c,!1,o),qf(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(o,s,c,d){switch(jd(s)){case 1:var g=ed;break;case 4:g=gd;break;default:g=fd}c=g.bind(null,s,c,o),g=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?o.addEventListener(s,c,{capture:!0,passive:g}):o.addEventListener(s,c,!0):g!==void 0?o.addEventListener(s,c,{passive:g}):o.addEventListener(s,c,!1)}function hd(o,s,c,d,g){var b=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var $=d.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(_===4)for(_=d.return;_!==null;){var j=_.tag;if((j===3||j===4)&&(j=_.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;_=_.return}for(;$!==null;){if(_=Wc($),_===null)return;if(j=_.tag,j===5||j===6){d=b=_;continue e}$=$.parentNode}}d=d.return}Jb(function(){var tt=b,nt=xb(c),it=[];e:{var ot=df.get(o);if(ot!==void 0){var ft=td,yt=o;switch(o){case"keypress":if(od(c)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":yt="focus",ft=Fd;break;case"focusout":yt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var xt=(s&4)!==0,kt=!xt&&o==="scroll",mt=xt?ot!==null?ot+"Capture":null:ot;xt=[];for(var st=tt,wt;st!==null;){wt=st;var Ht=wt.stateNode;if(wt.tag===5&&Ht!==null&&(wt=Ht,mt!==null&&(Ht=Kb(st,mt),Ht!=null&&xt.push(tf(st,Ht,wt)))),kt)break;st=st.return}0<xt.length&&(ot=new ft(ot,yt,null,c,nt),it.push({event:ot,listeners:xt}))}}if(!(s&7)){e:{if(ot=o==="mouseover"||o==="pointerover",ft=o==="mouseout"||o==="pointerout",ot&&c!==wb&&(yt=c.relatedTarget||c.fromElement)&&(Wc(yt)||yt[uf]))break e;if((ft||ot)&&(ot=nt.window===nt?nt:(ot=nt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ft?(yt=c.relatedTarget||c.toElement,ft=tt,yt=yt?Wc(yt):null,yt!==null&&(kt=Vb(yt),yt!==kt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(ft=null,yt=tt),ft!==yt)){if(xt=Bd,Ht="onMouseLeave",mt="onMouseEnter",st="mouse",(o==="pointerout"||o==="pointerover")&&(xt=Td,Ht="onPointerLeave",mt="onPointerEnter",st="pointer"),kt=ft==null?ot:ue(ft),wt=yt==null?ot:ue(yt),ot=new xt(Ht,st+"leave",ft,c,nt),ot.target=kt,ot.relatedTarget=wt,Ht=null,Wc(nt)===tt&&(xt=new xt(mt,st+"enter",yt,c,nt),xt.target=wt,xt.relatedTarget=kt,Ht=xt),kt=Ht,ft&&yt)t:{for(xt=ft,mt=yt,st=0,wt=xt;wt;wt=vf(wt))st++;for(wt=0,Ht=mt;Ht;Ht=vf(Ht))wt++;for(;0<st-wt;)xt=vf(xt),st--;for(;0<wt-st;)mt=vf(mt),wt--;for(;st--;){if(xt===mt||mt!==null&&xt===mt.alternate)break t;xt=vf(xt),mt=vf(mt)}xt=null}else xt=null;ft!==null&&wf(it,ot,ft,xt,!1),yt!==null&&kt!==null&&wf(it,kt,yt,xt,!0)}}e:{if(ot=tt?ue(tt):window,ft=ot.nodeName&&ot.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ot.type==="file")var Vt=ve;else if(me(ot))if(we)Vt=Fe;else{Vt=De;var St=Ce}else(ft=ot.nodeName)&&ft.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(Vt=Ee);if(Vt&&(Vt=Vt(o,tt))){ne(it,Vt,c,nt);break e}St&&St(o,ot,tt),o==="focusout"&&(St=ot._wrapperState)&&St.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(St=tt?ue(tt):window,o){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re=tt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(it,c,nt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,c,nt)}var gt;if(ae)e:{switch(o){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else ie?ge(o,c)&&(Lt="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Lt="onCompositionStart");Lt&&(de&&c.locale!=="ko"&&(ie||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ie&&(gt=nd()):(kd=nt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),St=oe(tt,Lt),0<St.length&&(Lt=new Ld(Lt,o,null,c,nt),it.push({event:Lt,listeners:St}),gt?Lt.data=gt:(gt=he(c),gt!==null&&(Lt.data=gt)))),(gt=ce?je(o,c):ke(o,c))&&(tt=oe(tt,"onBeforeInput"),0<tt.length&&(nt=new Ld("onBeforeInput","beforeinput",null,c,nt),it.push({event:nt,listeners:tt}),nt.data=gt))}se(it,s)})}function tf(o,s,c){return{instance:o,listener:s,currentTarget:c}}function oe(o,s){for(var c=s+"Capture",d=[];o!==null;){var g=o,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=Kb(o,c),b!=null&&d.unshift(tf(o,b,g)),b=Kb(o,s),b!=null&&d.push(tf(o,b,g))),o=o.return}return d}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,s,c,d,g){for(var b=s._reactName,_=[];c!==null&&c!==d;){var $=c,j=$.alternate,tt=$.stateNode;if(j!==null&&j===d)break;$.tag===5&&tt!==null&&($=tt,g?(j=Kb(c,b),j!=null&&_.unshift(tf(c,j,$))):g||(j=Kb(c,b),j!=null&&_.push(tf(c,j,$)))),c=c.return}_.length!==0&&o.push({event:s,listeners:_})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,s,c){if(s=zf(s),zf(o)!==s&&c)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,s){var c=s,d=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(d===0){o.removeChild(g),bd(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=g}while(c);bd(s)}function Lf(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return o;s--}else c==="/$"&&s++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var s=o[Of];if(s)return s;for(var c=o.parentNode;c;){if(s=c[uf]||c[Of]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=Mf(o);o!==null;){if(c=o[Of])return c;o=Mf(o)}return s}o=c,c=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$2(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,s){Tf++,Sf[Tf]=o.current,o.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,s){var c=o.type.contextTypes;if(!c)return Vf;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in c)g[b]=s[b];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=g),g}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,s,c){if(H.current!==Vf)throw Error(p$2(168));G(H,s),G(Wf,c)}function bg(o,s,c){var d=o.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var g in d)if(!(g in s))throw Error(p$2(108,Ra(o)||"Unknown",g));return A({},c,d)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,s,c){var d=o.stateNode;if(!d)throw Error(p$2(169));c?(o=bg(o,s,Xf),d.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,s=C;try{var c=eg;for(C=1;o<c.length;o++){var d=c[o];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(g){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),g}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,s){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=s}function ug(o,s,c){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var d=rg;o=sg;var g=32-oc(d)-1;d&=~(1<<g),c+=1;var b=32-oc(s)+g;if(30<b){var _=g-g%5;b=(d&(1<<_)-1).toString(32),d>>=_,g-=_,rg=1<<32-oc(s)+g|c<<g|d,sg=b+o}else rg=1<<b|c<<g|d,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,s){var c=Bg(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=o,s=o.deletions,s===null?(o.deletions=[c],o.flags|=16):s.push(c)}function Cg(o,s){switch(o.tag){case 5:var c=o.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,xg=o,yg=Lf(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,xg=o,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=s,c.return=o,o.child=c,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var s=yg;if(s){var c=s;if(!Cg(o,s)){if(Dg(o))throw Error(p$2(418));s=Lf(c.nextSibling);var d=xg;s&&Cg(o,s)?Ag(d,c):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$2(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Ef(o.type,o.memoizedProps)),s&&(s=yg)){if(Dg(o))throw Hg(),Error(p$2(418));for(;s;)Ag(o,s),s=Lf(s.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$2(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(s===0){yg=Lf(o.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,s){if(o&&o.defaultProps){s=A({},s),o=o.defaultProps;for(var c in o)s[c]===void 0&&(s[c]=o[c]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var s=Mg.current;E(Mg),o._currentValue=s}function Sg(o,s,c){for(;o!==null;){var d=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),o===c)break;o=o.return}}function Tg(o,s){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(Ug=!0),o.firstContext=null)}function Vg(o){var s=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return s}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,s,c,d){var g=s.interleaved;return g===null?(c.next=c,Xg(s)):(c.next=g.next,g.next=c),s.interleaved=c,Zg(o,d)}function Zg(o,s){o.lanes|=s;var c=o.alternate;for(c!==null&&(c.lanes|=s),c=o,o=o.return;o!==null;)o.childLanes|=s,c=o.alternate,c!==null&&(c.childLanes|=s),c=o,o=o.return;return c.tag===3?c.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(o,s,c){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,K&2){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,Zg(o,c)}return g=d.interleaved,g===null?(s.next=s,Xg(d)):(s.next=g.next,g.next=s),d.interleaved=s,Zg(o,c)}function eh(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,Cc(o,c)}}function fh(o,s){var c=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?g=b=_:b=b.next=_,c=c.next}while(c!==null);b===null?g=b=s:b=b.next=s}else g=b=s;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,effects:d.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}function gh(o,s,c,d){var g=o.updateQueue;$g=!1;var b=g.firstBaseUpdate,_=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var j=$,tt=j.next;j.next=null,_===null?b=tt:_.next=tt,_=j;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,$=nt.lastBaseUpdate,$!==_&&($===null?nt.firstBaseUpdate=tt:$.next=tt,nt.lastBaseUpdate=j))}if(b!==null){var it=g.baseState;_=0,nt=tt=j=null,$=b;do{var ot=$.lane,ft=$.eventTime;if((d&ot)===ot){nt!==null&&(nt=nt.next={eventTime:ft,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var yt=o,xt=$;switch(ot=s,ft=c,xt.tag){case 1:if(yt=xt.payload,typeof yt=="function"){it=yt.call(ft,it,ot);break e}it=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=xt.payload,ot=typeof yt=="function"?yt.call(ft,it,ot):yt,ot==null)break e;it=A({},it,ot);break e;case 2:$g=!0}}$.callback!==null&&$.lane!==0&&(o.flags|=64,ot=g.effects,ot===null?g.effects=[$]:ot.push($))}else ft={eventTime:ft,lane:ot,tag:$.tag,payload:$.payload,callback:$.callback,next:null},nt===null?(tt=nt=ft,j=it):nt=nt.next=ft,_|=ot;if($=$.next,$===null){if($=g.shared.pending,$===null)break;ot=$,$=ot.next,ot.next=null,g.lastBaseUpdate=ot,g.shared.pending=null}}while(1);if(nt===null&&(j=it),g.baseState=j,g.firstBaseUpdate=tt,g.lastBaseUpdate=nt,s=g.shared.interleaved,s!==null){g=s;do _|=g.lane,g=g.next;while(g!==s)}else b===null&&(g.shared.lanes=0);hh|=_,o.lanes=_,o.memoizedState=it}}function ih(o,s,c){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var d=o[s],g=d.callback;if(g!==null){if(d.callback=null,d=c,typeof g!="function")throw Error(p$2(191,g));g.call(d)}}}var jh=new aa.Component().refs;function kh(o,s,c,d){s=o.memoizedState,c=c(d,s),c=c==null?s:A({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,s,c){o=o._reactInternals;var d=L(),g=lh(o),b=ch(d,g);b.payload=s,c!=null&&(b.callback=c),s=dh(o,b,g),s!==null&&(mh(s,o,g,d),eh(s,o,g))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var d=L(),g=lh(o),b=ch(d,g);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=dh(o,b,g),s!==null&&(mh(s,o,g,d),eh(s,o,g))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=L(),d=lh(o),g=ch(c,d);g.tag=2,s!=null&&(g.callback=s),s=dh(o,g,d),s!==null&&(mh(s,o,d,c),eh(s,o,d))}};function oh(o,s,c,d,g,b,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,b,_):s.prototype&&s.prototype.isPureReactComponent?!Ie(c,d)||!Ie(g,b):!0}function ph(o,s,c){var d=!1,g=Vf,b=s.contextType;return typeof b=="object"&&b!==null?b=Vg(b):(g=Zf(s)?Xf:H.current,d=s.contextTypes,b=(d=d!=null)?Yf(o,g):Vf),s=new s(c,b),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,o.stateNode=s,s._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=b),s}function qh(o,s,c,d){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==o&&nh.enqueueReplaceState(s,s.state,null)}function rh(o,s,c,d){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs=jh,ah(o);var b=s.contextType;typeof b=="object"&&b!==null?g.context=Vg(b):(b=Zf(s)?Xf:H.current,g.context=Yf(o,b)),g.state=o.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(kh(o,s,b,c),g.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&nh.enqueueReplaceState(g,g.state,null),gh(o,c,g,d),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,s,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(p$2(309));var d=c.stateNode}if(!d)throw Error(p$2(147,o));var g=d,b=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(_){var $=g.refs;$===jh&&($=g.refs={}),_===null?delete $[b]:$[b]=_},s._stringRef=b,s)}if(typeof o!="string")throw Error(p$2(284));if(!c._owner)throw Error(p$2(290,o))}return o}function th(o,s){throw o=Object.prototype.toString.call(s),Error(p$2(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function uh(o){var s=o._init;return s(o._payload)}function vh(o){function s(mt,st){if(o){var wt=mt.deletions;wt===null?(mt.deletions=[st],mt.flags|=16):wt.push(st)}}function c(mt,st){if(!o)return null;for(;st!==null;)s(mt,st),st=st.sibling;return null}function d(mt,st){for(mt=new Map;st!==null;)st.key!==null?mt.set(st.key,st):mt.set(st.index,st),st=st.sibling;return mt}function g(mt,st){return mt=wh(mt,st),mt.index=0,mt.sibling=null,mt}function b(mt,st,wt){return mt.index=wt,o?(wt=mt.alternate,wt!==null?(wt=wt.index,wt<st?(mt.flags|=2,st):wt):(mt.flags|=2,st)):(mt.flags|=1048576,st)}function _(mt){return o&&mt.alternate===null&&(mt.flags|=2),mt}function $(mt,st,wt,Ht){return st===null||st.tag!==6?(st=xh(wt,mt.mode,Ht),st.return=mt,st):(st=g(st,wt),st.return=mt,st)}function j(mt,st,wt,Ht){var Vt=wt.type;return Vt===ya?nt(mt,st,wt.props.children,Ht,wt.key):st!==null&&(st.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Ha&&uh(Vt)===st.type)?(Ht=g(st,wt.props),Ht.ref=sh(mt,st,wt),Ht.return=mt,Ht):(Ht=yh(wt.type,wt.key,wt.props,null,mt.mode,Ht),Ht.ref=sh(mt,st,wt),Ht.return=mt,Ht)}function tt(mt,st,wt,Ht){return st===null||st.tag!==4||st.stateNode.containerInfo!==wt.containerInfo||st.stateNode.implementation!==wt.implementation?(st=zh(wt,mt.mode,Ht),st.return=mt,st):(st=g(st,wt.children||[]),st.return=mt,st)}function nt(mt,st,wt,Ht,Vt){return st===null||st.tag!==7?(st=Ah(wt,mt.mode,Ht,Vt),st.return=mt,st):(st=g(st,wt),st.return=mt,st)}function it(mt,st,wt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=xh(""+st,mt.mode,wt),st.return=mt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return wt=yh(st.type,st.key,st.props,null,mt.mode,wt),wt.ref=sh(mt,null,st),wt.return=mt,wt;case wa:return st=zh(st,mt.mode,wt),st.return=mt,st;case Ha:var Ht=st._init;return it(mt,Ht(st._payload),wt)}if(eb(st)||Ka(st))return st=Ah(st,mt.mode,wt,null),st.return=mt,st;th(mt,st)}return null}function ot(mt,st,wt,Ht){var Vt=st!==null?st.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Vt!==null?null:$(mt,st,""+wt,Ht);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return wt.key===Vt?j(mt,st,wt,Ht):null;case wa:return wt.key===Vt?tt(mt,st,wt,Ht):null;case Ha:return Vt=wt._init,ot(mt,st,Vt(wt._payload),Ht)}if(eb(wt)||Ka(wt))return Vt!==null?null:nt(mt,st,wt,Ht,null);th(mt,wt)}return null}function ft(mt,st,wt,Ht,Vt){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return mt=mt.get(wt)||null,$(st,mt,""+Ht,Vt);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return mt=mt.get(Ht.key===null?wt:Ht.key)||null,j(st,mt,Ht,Vt);case wa:return mt=mt.get(Ht.key===null?wt:Ht.key)||null,tt(st,mt,Ht,Vt);case Ha:var St=Ht._init;return ft(mt,st,wt,St(Ht._payload),Vt)}if(eb(Ht)||Ka(Ht))return mt=mt.get(wt)||null,nt(st,mt,Ht,Vt,null);th(st,Ht)}return null}function yt(mt,st,wt,Ht){for(var Vt=null,St=null,gt=st,Lt=st=0,Ot=null;gt!==null&&Lt<wt.length;Lt++){gt.index>Lt?(Ot=gt,gt=null):Ot=gt.sibling;var Kt=ot(mt,gt,wt[Lt],Ht);if(Kt===null){gt===null&&(gt=Ot);break}o&&gt&&Kt.alternate===null&&s(mt,gt),st=b(Kt,st,Lt),St===null?Vt=Kt:St.sibling=Kt,St=Kt,gt=Ot}if(Lt===wt.length)return c(mt,gt),I&&tg(mt,Lt),Vt;if(gt===null){for(;Lt<wt.length;Lt++)gt=it(mt,wt[Lt],Ht),gt!==null&&(st=b(gt,st,Lt),St===null?Vt=gt:St.sibling=gt,St=gt);return I&&tg(mt,Lt),Vt}for(gt=d(mt,gt);Lt<wt.length;Lt++)Ot=ft(gt,mt,Lt,wt[Lt],Ht),Ot!==null&&(o&&Ot.alternate!==null&&gt.delete(Ot.key===null?Lt:Ot.key),st=b(Ot,st,Lt),St===null?Vt=Ot:St.sibling=Ot,St=Ot);return o&&gt.forEach(function(_r){return s(mt,_r)}),I&&tg(mt,Lt),Vt}function xt(mt,st,wt,Ht){var Vt=Ka(wt);if(typeof Vt!="function")throw Error(p$2(150));if(wt=Vt.call(wt),wt==null)throw Error(p$2(151));for(var St=Vt=null,gt=st,Lt=st=0,Ot=null,Kt=wt.next();gt!==null&&!Kt.done;Lt++,Kt=wt.next()){gt.index>Lt?(Ot=gt,gt=null):Ot=gt.sibling;var _r=ot(mt,gt,Kt.value,Ht);if(_r===null){gt===null&&(gt=Ot);break}o&&gt&&_r.alternate===null&&s(mt,gt),st=b(_r,st,Lt),St===null?Vt=_r:St.sibling=_r,St=_r,gt=Ot}if(Kt.done)return c(mt,gt),I&&tg(mt,Lt),Vt;if(gt===null){for(;!Kt.done;Lt++,Kt=wt.next())Kt=it(mt,Kt.value,Ht),Kt!==null&&(st=b(Kt,st,Lt),St===null?Vt=Kt:St.sibling=Kt,St=Kt);return I&&tg(mt,Lt),Vt}for(gt=d(mt,gt);!Kt.done;Lt++,Kt=wt.next())Kt=ft(gt,mt,Lt,Kt.value,Ht),Kt!==null&&(o&&Kt.alternate!==null&&gt.delete(Kt.key===null?Lt:Kt.key),st=b(Kt,st,Lt),St===null?Vt=Kt:St.sibling=Kt,St=Kt);return o&&gt.forEach(function(qr){return s(mt,qr)}),I&&tg(mt,Lt),Vt}function kt(mt,st,wt,Ht){if(typeof wt=="object"&&wt!==null&&wt.type===ya&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:e:{for(var Vt=wt.key,St=st;St!==null;){if(St.key===Vt){if(Vt=wt.type,Vt===ya){if(St.tag===7){c(mt,St.sibling),st=g(St,wt.props.children),st.return=mt,mt=st;break e}}else if(St.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Ha&&uh(Vt)===St.type){c(mt,St.sibling),st=g(St,wt.props),st.ref=sh(mt,St,wt),st.return=mt,mt=st;break e}c(mt,St);break}else s(mt,St);St=St.sibling}wt.type===ya?(st=Ah(wt.props.children,mt.mode,Ht,wt.key),st.return=mt,mt=st):(Ht=yh(wt.type,wt.key,wt.props,null,mt.mode,Ht),Ht.ref=sh(mt,st,wt),Ht.return=mt,mt=Ht)}return _(mt);case wa:e:{for(St=wt.key;st!==null;){if(st.key===St)if(st.tag===4&&st.stateNode.containerInfo===wt.containerInfo&&st.stateNode.implementation===wt.implementation){c(mt,st.sibling),st=g(st,wt.children||[]),st.return=mt,mt=st;break e}else{c(mt,st);break}else s(mt,st);st=st.sibling}st=zh(wt,mt.mode,Ht),st.return=mt,mt=st}return _(mt);case Ha:return St=wt._init,kt(mt,st,St(wt._payload),Ht)}if(eb(wt))return yt(mt,st,wt,Ht);if(Ka(wt))return xt(mt,st,wt,Ht);th(mt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"?(wt=""+wt,st!==null&&st.tag===6?(c(mt,st.sibling),st=g(st,wt),st.return=mt,mt=st):(c(mt,st),st=xh(wt,mt.mode,Ht),st.return=mt,mt=st),_(mt)):c(mt,st)}return kt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$2(174));return o}function Ih(o,s){switch(G(Gh,s),G(Fh,o),G(Eh,Dh),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=lb(s,o)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var s=Hh(Eh.current),c=lb(s,o.type);s!==c&&(G(Fh,o),G(Eh,c))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!He(o[c],s[c]))return!1;return!0}function Xh(o,s,c,d,g,b){if(Rh=b,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=c(d,g),Th){b=0;do{if(Th=!1,Uh=0,25<=b)throw Error(p$2(301));b+=1,P=O=null,s.updateQueue=null,Ph.current=$h,o=c(d,g)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p$2(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=o;else{if(o===null)throw Error(p$2(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,s){return typeof s=="function"?s(o):s}function fi(o){var s=di(),c=s.queue;if(c===null)throw Error(p$2(311));c.lastRenderedReducer=o;var d=O,g=d.baseQueue,b=c.pending;if(b!==null){if(g!==null){var _=g.next;g.next=b.next,b.next=_}d.baseQueue=g=b,c.pending=null}if(g!==null){b=g.next,d=d.baseState;var $=_=null,j=null,tt=b;do{var nt=tt.lane;if((Rh&nt)===nt)j!==null&&(j=j.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),d=tt.hasEagerState?tt.eagerState:o(d,tt.action);else{var it={lane:nt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};j===null?($=j=it,_=d):j=j.next=it,N.lanes|=nt,hh|=nt}tt=tt.next}while(tt!==null&&tt!==b);j===null?_=d:j.next=$,He(d,s.memoizedState)||(Ug=!0),s.memoizedState=d,s.baseState=_,s.baseQueue=j,c.lastRenderedState=d}if(o=c.interleaved,o!==null){g=o;do b=g.lane,N.lanes|=b,hh|=b,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function gi(o){var s=di(),c=s.queue;if(c===null)throw Error(p$2(311));c.lastRenderedReducer=o;var d=c.dispatch,g=c.pending,b=s.memoizedState;if(g!==null){c.pending=null;var _=g=g.next;do b=o(b,_.action),_=_.next;while(_!==g);He(b,s.memoizedState)||(Ug=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,d]}function hi(){}function ii(o,s){var c=N,d=di(),g=s(),b=!He(d.memoizedState,g);if(b&&(d.memoizedState=g,Ug=!0),d=d.queue,ji(ki.bind(null,c,d,o),[o]),d.getSnapshot!==s||b||P!==null&&P.memoizedState.tag&1){if(c.flags|=2048,li(9,mi.bind(null,c,d,g,s),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(c,s,g)}return g}function ni(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function mi(o,s,c,d){s.value=c,s.getSnapshot=d,oi(s)&&pi(o)}function ki(o,s,c){return c(function(){oi(s)&&pi(o)})}function oi(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!He(o,c)}catch{return!0}}function pi(o){var s=Zg(o,1);s!==null&&mh(s,o,1,-1)}function qi(o){var s=ci();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},s.queue=o,o=o.dispatch=ri.bind(null,N,o),[s.memoizedState,o]}function li(o,s,c,d){return o={tag:o,create:s,destroy:c,deps:d,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=o.next=o):(c=s.lastEffect,c===null?s.lastEffect=o.next=o:(d=c.next,c.next=o,o.next=d,s.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,s,c,d){var g=ci();N.flags|=o,g.memoizedState=li(1|s,c,void 0,d===void 0?null:d)}function ui(o,s,c,d){var g=di();d=d===void 0?null:d;var b=void 0;if(O!==null){var _=O.memoizedState;if(b=_.destroy,d!==null&&Wh(d,_.deps)){g.memoizedState=li(s,c,b,d);return}}N.flags|=o,g.memoizedState=li(1|s,c,b,d)}function vi(o,s){return ti(8390656,8,o,s)}function ji(o,s){return ui(2048,8,o,s)}function wi(o,s){return ui(4,2,o,s)}function xi(o,s){return ui(4,4,o,s)}function yi(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zi(o,s,c){return c=c!=null?c.concat([o]):null,ui(4,4,yi.bind(null,s,o),c)}function Ai(){}function Bi(o,s){var c=di();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(c.memoizedState=[o,s],o)}function Ci(o,s){var c=di();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&Wh(s,d[1])?d[0]:(o=o(),c.memoizedState=[o,s],o)}function Di(o,s,c){return Rh&21?(He(c,s)||(c=yc(),N.lanes|=c,hh|=c,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=c)}function Ei(o,s){var c=C;C=c!==0&&4>c?c:4,o(!0);var d=Qh.transition;Qh.transition={};try{o(!1),s()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}function Gi(o,s,c){var d=lh(o);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(s,c);else if(c=Yg(o,s,c,d),c!==null){var g=L();mh(c,o,d,g),Ji(c,s,d)}}function ri(o,s,c){var d=lh(o),g={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(s,g);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var _=s.lastRenderedState,$=b(_,c);if(g.hasEagerState=!0,g.eagerState=$,He($,_)){var j=s.interleaved;j===null?(g.next=g,Xg(s)):(g.next=j.next,j.next=g),s.interleaved=g;return}}catch{}finally{}c=Yg(o,s,g,d),c!==null&&(g=L(),mh(c,o,d,g),Ji(c,s,d))}}function Hi(o){var s=o.alternate;return o===N||s!==null&&s===N}function Ii(o,s){Th=Sh=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function Ji(o,s,c){if(c&4194240){var d=s.lanes;d&=o.pendingLanes,c|=d,s.lanes=c,Cc(o,c)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,s){return ci().memoizedState=[o,s===void 0?null:s],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,s,c){return c=c!=null?c.concat([o]):null,ti(4194308,4,yi.bind(null,s,o),c)},useLayoutEffect:function(o,s){return ti(4194308,4,o,s)},useInsertionEffect:function(o,s){return ti(4,2,o,s)},useMemo:function(o,s){var c=ci();return s=s===void 0?null:s,o=o(),c.memoizedState=[o,s],o},useReducer:function(o,s,c){var d=ci();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},d.queue=o,o=o.dispatch=Gi.bind(null,N,o),[d.memoizedState,o]},useRef:function(o){var s=ci();return o={current:o},s.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),s=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,c){var d=N,g=ci();if(I){if(c===void 0)throw Error(p$2(407));c=c()}else{if(c=s(),R===null)throw Error(p$2(349));Rh&30||ni(d,s,c)}g.memoizedState=c;var b={value:c,getSnapshot:s};return g.queue=b,vi(ki.bind(null,d,b,o),[o]),d.flags|=2048,li(9,mi.bind(null,d,b,c,s),void 0,null),c},useId:function(){var o=ci(),s=R.identifierPrefix;if(I){var c=sg,d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Uh++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Vh++,s=":"+s+"r"+c.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return Di(s,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return O===null?s.memoizedState=o:Di(s,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,s){try{var c="",d=s;do c+=Pa(d),d=d.return;while(d);var g=c}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:o,source:s,stack:g,digest:null}}function Li(o,s,c){return{value:o,source:null,stack:c??null,digest:s??null}}function Mi(o,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,s,c){c=ch(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){Pi||(Pi=!0,Qi=d),Mi(o,s)},c}function Ri(o,s,c){c=ch(-1,c),c.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=s.value;c.payload=function(){return d(g)},c.callback=function(){Mi(o,s)}}var b=o.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){Mi(o,s),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),c}function Ti(o,s,c){var d=o.pingCache;if(d===null){d=o.pingCache=new Ni;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(c)||(g.add(c),o=Ui.bind(null,o,s,c),s.then(o,o))}function Vi(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function Wi(o,s,c,d,g){return o.mode&1?(o.flags|=65536,o.lanes=g,o):(o===s?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=ch(-1,1),s.tag=2,dh(c,s,1))),c.lanes|=1),o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,s,c,d){s.child=o===null?Ch(s,null,c,d):Bh(s,o.child,c,d)}function Zi(o,s,c,d,g){c=c.render;var b=s.ref;return Tg(s,g),d=Xh(o,s,c,d,b,g),c=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~g,$i(o,s,g)):(I&&c&&vg(s),s.flags|=1,Yi(o,s,d,g),s.child)}function aj(o,s,c,d,g){if(o===null){var b=c.type;return typeof b=="function"&&!bj(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=b,cj(o,s,b,d,g)):(o=yh(c.type,null,d,s,s.mode,g),o.ref=s.ref,o.return=s,s.child=o)}if(b=o.child,!(o.lanes&g)){var _=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ie,c(_,d)&&o.ref===s.ref)return $i(o,s,g)}return s.flags|=1,o=wh(b,d),o.ref=s.ref,o.return=s,s.child=o}function cj(o,s,c,d,g){if(o!==null){var b=o.memoizedProps;if(Ie(b,d)&&o.ref===s.ref)if(Ug=!1,s.pendingProps=d=b,(o.lanes&g)!==0)o.flags&131072&&(Ug=!0);else return s.lanes=o.lanes,$i(o,s,g)}return dj(o,s,c,d,g)}function ej(o,s,c){var d=s.pendingProps,g=d.children,b=o!==null?o.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(!(c&1073741824))return o=b!==null?b.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=b!==null?b.baseLanes:c,G(fj,gj),gj|=d}else b!==null?(d=b.baseLanes|c,s.memoizedState=null):d=c,G(fj,gj),gj|=d;return Yi(o,s,g,c),s.child}function hj(o,s){var c=s.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function dj(o,s,c,d,g){var b=Zf(c)?Xf:H.current;return b=Yf(s,b),Tg(s,g),c=Xh(o,s,c,d,b,g),d=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~g,$i(o,s,g)):(I&&d&&vg(s),s.flags|=1,Yi(o,s,c,g),s.child)}function ij(o,s,c,d,g){if(Zf(c)){var b=!0;cg(s)}else b=!1;if(Tg(s,g),s.stateNode===null)jj(o,s),ph(s,c,d),rh(s,c,d,g),d=!0;else if(o===null){var _=s.stateNode,$=s.memoizedProps;_.props=$;var j=_.context,tt=c.contextType;typeof tt=="object"&&tt!==null?tt=Vg(tt):(tt=Zf(c)?Xf:H.current,tt=Yf(s,tt));var nt=c.getDerivedStateFromProps,it=typeof nt=="function"||typeof _.getSnapshotBeforeUpdate=="function";it||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($!==d||j!==tt)&&qh(s,_,d,tt),$g=!1;var ot=s.memoizedState;_.state=ot,gh(s,d,_,g),j=s.memoizedState,$!==d||ot!==j||Wf.current||$g?(typeof nt=="function"&&(kh(s,c,nt,d),j=s.memoizedState),($=$g||oh(s,c,$,d,ot,j,tt))?(it||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),_.props=d,_.state=j,_.context=tt,d=$):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{_=s.stateNode,bh(o,s),$=s.memoizedProps,tt=s.type===s.elementType?$:Lg(s.type,$),_.props=tt,it=s.pendingProps,ot=_.context,j=c.contextType,typeof j=="object"&&j!==null?j=Vg(j):(j=Zf(c)?Xf:H.current,j=Yf(s,j));var ft=c.getDerivedStateFromProps;(nt=typeof ft=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($!==it||ot!==j)&&qh(s,_,d,j),$g=!1,ot=s.memoizedState,_.state=ot,gh(s,d,_,g);var yt=s.memoizedState;$!==it||ot!==yt||Wf.current||$g?(typeof ft=="function"&&(kh(s,c,ft,d),yt=s.memoizedState),(tt=$g||oh(s,c,tt,d,ot,yt,j)||!1)?(nt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,yt,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,yt,j)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||$===o.memoizedProps&&ot===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&ot===o.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=yt),_.props=d,_.state=yt,_.context=j,d=tt):(typeof _.componentDidUpdate!="function"||$===o.memoizedProps&&ot===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&ot===o.memoizedState||(s.flags|=1024),d=!1)}return kj(o,s,c,d,b,g)}function kj(o,s,c,d,g,b){hj(o,s);var _=(s.flags&128)!==0;if(!d&&!_)return g&&dg(s,c,!1),$i(o,s,b);d=s.stateNode,Xi.current=s;var $=_&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,o!==null&&_?(s.child=Bh(s,o.child,null,b),s.child=Bh(s,null,$,b)):Yi(o,s,$,b),s.memoizedState=d.state,g&&dg(s,c,!0),s.child}function lj(o){var s=o.stateNode;s.pendingContext?ag(o,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(o,s.context,!1),Ih(o,s.containerInfo)}function mj(o,s,c,d,g){return Ig(),Jg(g),s.flags|=256,Yi(o,s,c,d),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,s,c){var d=s.pendingProps,g=M.current,b=!1,_=(s.flags&128)!==0,$;if(($=_)||($=o!==null&&o.memoizedState===null?!1:(g&2)!==0),$?(b=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),G(M,g&1),o===null)return Eg(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=d.children,o=d.fallback,b?(d=s.mode,b=s.child,_={mode:"hidden",children:_},!(d&1)&&b!==null?(b.childLanes=0,b.pendingProps=_):b=qj(_,d,0,null),o=Ah(o,d,c,null),b.return=s,o.return=s,b.sibling=o,s.child=b,s.child.memoizedState=oj(c),s.memoizedState=nj,o):rj(s,_));if(g=o.memoizedState,g!==null&&($=g.dehydrated,$!==null))return sj(o,s,_,d,$,g,c);if(b){b=d.fallback,_=s.mode,g=o.child,$=g.sibling;var j={mode:"hidden",children:d.children};return!(_&1)&&s.child!==g?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=wh(g,j),d.subtreeFlags=g.subtreeFlags&14680064),$!==null?b=wh($,b):(b=Ah(b,_,c,null),b.flags|=2),b.return=s,d.return=s,d.sibling=b,s.child=d,d=b,b=s.child,_=o.child.memoizedState,_=_===null?oj(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},b.memoizedState=_,b.childLanes=o.childLanes&~c,s.memoizedState=nj,d}return b=o.child,o=b.sibling,d=wh(b,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=c),d.return=s,d.sibling=null,o!==null&&(c=s.deletions,c===null?(s.deletions=[o],s.flags|=16):c.push(o)),s.child=d,s.memoizedState=null,d}function rj(o,s){return s=qj({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function tj(o,s,c,d){return d!==null&&Jg(d),Bh(s,o.child,null,c),o=rj(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sj(o,s,c,d,g,b,_){if(c)return s.flags&256?(s.flags&=-257,d=Li(Error(p$2(422))),tj(o,s,_,d)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(b=d.fallback,g=s.mode,d=qj({mode:"visible",children:d.children},g,0,null),b=Ah(b,g,_,null),b.flags|=2,d.return=s,b.return=s,d.sibling=b,s.child=d,s.mode&1&&Bh(s,o.child,null,_),s.child.memoizedState=oj(_),s.memoizedState=nj,b);if(!(s.mode&1))return tj(o,s,_,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var $=d.dgst;return d=$,b=Error(p$2(419)),d=Li(b,d,void 0),tj(o,s,_,d)}if($=(_&o.childLanes)!==0,Ug||$){if(d=R,d!==null){switch(_&-_){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(d.suspendedLanes|_)?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,Zg(o,g),mh(d,o,g,-1))}return uj(),d=Li(Error(p$2(421))),tj(o,s,_,d)}return g.data==="$?"?(s.flags|=128,s.child=o.child,s=vj.bind(null,o),g._reactRetry=s,null):(o=b.treeContext,yg=Lf(g.nextSibling),xg=s,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=s),s=rj(s,d.children),s.flags|=4096,s)}function wj(o,s,c){o.lanes|=s;var d=o.alternate;d!==null&&(d.lanes|=s),Sg(o.return,s,c)}function xj(o,s,c,d,g){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=g)}function yj(o,s,c){var d=s.pendingProps,g=d.revealOrder,b=d.tail;if(Yi(o,s,d.children,c),d=M.current,d&2)d=d&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,c,s);else if(o.tag===19)wj(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(G(M,d),!(s.mode&1))s.memoizedState=null;else switch(g){case"forwards":for(c=s.child,g=null;c!==null;)o=c.alternate,o!==null&&Mh(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),xj(s,!1,g,c,b);break;case"backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(o=g.alternate,o!==null&&Mh(o)===null){s.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}xj(s,!0,c,null,b);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function $i(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),hh|=s.lanes,!(c&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(p$2(153));if(s.child!==null){for(o=s.child,c=wh(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=wh(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function zj(o,s,c){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,g=s.memoizedProps.value;G(Mg,d._currentValue),d._currentValue=g;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):c&s.child.childLanes?pj(o,s,c):(G(M,M.current&1),o=$i(o,s,c),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if(d=(c&s.childLanes)!==0,o.flags&128){if(d)return yj(o,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(M,M.current),d)break;return null;case 22:case 23:return s.lanes=0,ej(o,s,c)}return $i(o,s,c)}var Aj,Bj,Cj,Dj;Aj=function(o,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};Bj=function(){};Cj=function(o,s,c,d){var g=o.memoizedProps;if(g!==d){o=s.stateNode,Hh(Eh.current);var b=null;switch(c){case"input":g=Ya(o,g),d=Ya(o,d),b=[];break;case"select":g=A({},g,{value:void 0}),d=A({},d,{value:void 0}),b=[];break;case"textarea":g=gb(o,g),d=gb(o,d),b=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(o.onclick=Bf)}ub(c,d);var _;c=null;for(tt in g)if(!d.hasOwnProperty(tt)&&g.hasOwnProperty(tt)&&g[tt]!=null)if(tt==="style"){var $=g[tt];for(_ in $)$.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?b||(b=[]):(b=b||[]).push(tt,null));for(tt in d){var j=d[tt];if($=g!=null?g[tt]:void 0,d.hasOwnProperty(tt)&&j!==$&&(j!=null||$!=null))if(tt==="style")if($){for(_ in $)!$.hasOwnProperty(_)||j&&j.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in j)j.hasOwnProperty(_)&&$[_]!==j[_]&&(c||(c={}),c[_]=j[_])}else c||(b||(b=[]),b.push(tt,c)),c=j;else tt==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,$=$?$.__html:void 0,j!=null&&$!==j&&(b=b||[]).push(tt,j)):tt==="children"?typeof j!="string"&&typeof j!="number"||(b=b||[]).push(tt,""+j):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(tt)?(j!=null&&tt==="onScroll"&&D("scroll",o),b||$===j||(b=[])):(b=b||[]).push(tt,j))}c&&(b=b||[]).push("style",c);var tt=b;(s.updateQueue=tt)&&(s.flags|=4)}};Dj=function(o,s,c,d){c!==d&&(s.flags|=4)};function Ej(o,s){if(!I)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function S(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,d=0;if(s)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=d,o.childLanes=c,s}function Fj(o,s,c){var d=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return d=s.stateNode,Jh(),E(Wf),E(H),Oh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Gg(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,s),S(s),null;case 5:Lh(s);var g=Hh(Gh.current);if(c=s.type,o!==null&&s.stateNode!=null)Cj(o,s,c,d,g),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(p$2(166));return S(s),null}if(o=Hh(Eh.current),Gg(s)){d=s.stateNode,c=s.type;var b=s.memoizedProps;switch(d[Of]=s,d[Pf]=b,o=(s.mode&1)!==0,c){case"dialog":D("cancel",d),D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(g=0;g<lf.length;g++)D(lf[g],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d),D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,b),D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!b.multiple},D("invalid",d);break;case"textarea":hb(d,b),D("invalid",d)}ub(c,b),g=null;for(var _ in b)if(b.hasOwnProperty(_)){var $=b[_];_==="children"?typeof $=="string"?d.textContent!==$&&(b.suppressHydrationWarning!==!0&&Af(d.textContent,$,o),g=["children",$]):typeof $=="number"&&d.textContent!==""+$&&(b.suppressHydrationWarning!==!0&&Af(d.textContent,$,o),g=["children",""+$]):ea.hasOwnProperty(_)&&$!=null&&_==="onScroll"&&D("scroll",d)}switch(c){case"input":Va(d),db(d,b,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(d.onclick=Bf)}d=g,s.updateQueue=d,d!==null&&(s.flags|=4)}else{_=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=_.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof d.is=="string"?o=_.createElement(c,{is:d.is}):(o=_.createElement(c),c==="select"&&(_=o,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):o=_.createElementNS(o,c),o[Of]=s,o[Pf]=d,Aj(o,s,!1,!1),s.stateNode=o;e:{switch(_=vb(c,d),c){case"dialog":D("cancel",o),D("close",o),g=d;break;case"iframe":case"object":case"embed":D("load",o),g=d;break;case"video":case"audio":for(g=0;g<lf.length;g++)D(lf[g],o);g=d;break;case"source":D("error",o),g=d;break;case"img":case"image":case"link":D("error",o),D("load",o),g=d;break;case"details":D("toggle",o),g=d;break;case"input":Za(o,d),g=Ya(o,d),D("invalid",o);break;case"option":g=d;break;case"select":o._wrapperState={wasMultiple:!!d.multiple},g=A({},d,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,d),g=gb(o,d),D("invalid",o);break;default:g=d}ub(c,g),$=g;for(b in $)if($.hasOwnProperty(b)){var j=$[b];b==="style"?sb(o,j):b==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb(o,j)):b==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&ob(o,j):typeof j=="number"&&ob(o,""+j):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?j!=null&&b==="onScroll"&&D("scroll",o):j!=null&&ta(o,b,j,_))}switch(c){case"input":Va(o),db(o,d,!1);break;case"textarea":Va(o),jb(o);break;case"option":d.value!=null&&o.setAttribute("value",""+Sa(d.value));break;case"select":o.multiple=!!d.multiple,b=d.value,b!=null?fb(o,!!d.multiple,b,!1):d.defaultValue!=null&&fb(o,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=Bf)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(o&&s.stateNode!=null)Dj(o,s,o.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(p$2(166));if(c=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(d=s.stateNode,c=s.memoizedProps,d[Of]=s,(b=d.nodeValue!==c)&&(o=xg,o!==null))switch(o.tag){case 3:Af(d.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,c,(o.mode&1)!==0)}b&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Of]=s,s.stateNode=d}return S(s),null;case 13:if(E(M),d=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,b=!1;else if(b=Gg(s),d!==null&&d.dehydrated!==null){if(o===null){if(!b)throw Error(p$2(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(p$2(317));b[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),b=!1}else zg!==null&&(Gj(zg),zg=null),b=!0;if(!b)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(d=d!==null,d!==(o!==null&&o.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(o===null||M.current&1?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(o,s),o===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),b=s.memoizedState,b===null)return S(s),null;if(d=(s.flags&128)!==0,_=b.rendering,_===null)if(d)Ej(b,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(_=Mh(o),_!==null){for(s.flags|=128,Ej(b,!1),d=_.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)b=c,o=d,b.flags&=14680066,_=b.alternate,_===null?(b.childLanes=0,b.lanes=o,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=_.childLanes,b.lanes=_.lanes,b.child=_.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=_.memoizedProps,b.memoizedState=_.memoizedState,b.updateQueue=_.updateQueue,b.type=_.type,o=_.dependencies,b.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return G(M,M.current&1|2),s.child}o=o.sibling}b.tail!==null&&B()>Hj&&(s.flags|=128,d=!0,Ej(b,!1),s.lanes=4194304)}else{if(!d)if(o=Mh(_),o!==null){if(s.flags|=128,d=!0,c=o.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Ej(b,!0),b.tail===null&&b.tailMode==="hidden"&&!_.alternate&&!I)return S(s),null}else 2*B()-b.renderingStartTime>Hj&&c!==1073741824&&(s.flags|=128,d=!0,Ej(b,!1),s.lanes=4194304);b.isBackwards?(_.sibling=s.child,s.child=_):(c=b.last,c!==null?c.sibling=_:s.child=_,b.last=_)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=B(),s.sibling=null,c=M.current,G(M,d?c&1|2:c&1),s):(S(s),null);case 22:case 23:return Ij(),d=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$2(156,s.tag))}function Jj(o,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(p$2(340));Ig()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,s){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){W(o,s,d)}else c.current=null}function Nj(o,s,c){try{c()}catch(d){W(o,s,d)}}var Oj=!1;function Pj(o,s){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var _=0,$=-1,j=-1,tt=0,nt=0,it=o,ot=null;t:for(;;){for(var ft;it!==c||g!==0&&it.nodeType!==3||($=_+g),it!==b||d!==0&&it.nodeType!==3||(j=_+d),it.nodeType===3&&(_+=it.nodeValue.length),(ft=it.firstChild)!==null;)ot=it,it=ft;for(;;){if(it===o)break t;if(ot===c&&++tt===g&&($=_),ot===b&&++nt===d&&(j=_),(ft=it.nextSibling)!==null)break;it=ot,ot=it.parentNode}it=ft}c=$===-1||j===-1?null:{start:$,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(Df={focusedElem:o,selectionRange:c},dd=!1,V=s;V!==null;)if(s=V,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,V=o;else for(;V!==null;){s=V;try{var yt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var xt=yt.memoizedProps,kt=yt.memoizedState,mt=s.stateNode,st=mt.getSnapshotBeforeUpdate(s.elementType===s.type?xt:Lg(s.type,xt),kt);mt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var wt=s.stateNode.containerInfo;wt.nodeType===1?wt.textContent="":wt.nodeType===9&&wt.documentElement&&wt.removeChild(wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Ht){W(s,s.return,Ht)}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}return yt=Oj,Oj=!1,yt}function Qj(o,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&o)===o){var b=g.destroy;g.destroy=void 0,b!==void 0&&Nj(s,c,b)}g=g.next}while(g!==d)}}function Rj(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&o)===o){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function Sj(o){var s=o.ref;if(s!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof s=="function"?s(o):s.current=o}}function Tj(o){var s=o.alternate;s!==null&&(o.alternate=null,Tj(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(o,s):c.insertBefore(o,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(o,c)):(s=c,s.appendChild(o)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Bf));else if(d!==4&&(o=o.child,o!==null))for(Wj(o,s,c),o=o.sibling;o!==null;)Wj(o,s,c),o=o.sibling}function Xj(o,s,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(d!==4&&(o=o.child,o!==null))for(Xj(o,s,c),o=o.sibling;o!==null;)Xj(o,s,c),o=o.sibling}var X=null,Yj=!1;function Zj(o,s,c){for(c=c.child;c!==null;)ak(o,s,c),c=c.sibling}function ak(o,s,c){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,c)}catch{}switch(c.tag){case 5:U||Mj(c,s);case 6:var d=X,g=Yj;X=null,Zj(o,s,c),X=d,Yj=g,X!==null&&(Yj?(o=X,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):X.removeChild(c.stateNode));break;case 18:X!==null&&(Yj?(o=X,c=c.stateNode,o.nodeType===8?Kf(o.parentNode,c):o.nodeType===1&&Kf(o,c),bd(o)):Kf(X,c.stateNode));break;case 4:d=X,g=Yj,X=c.stateNode.containerInfo,Yj=!0,Zj(o,s,c),X=d,Yj=g;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var b=g,_=b.destroy;b=b.tag,_!==void 0&&(b&2||b&4)&&Nj(c,s,_),g=g.next}while(g!==d)}Zj(o,s,c);break;case 1:if(!U&&(Mj(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch($){W(c,s,$)}Zj(o,s,c);break;case 21:Zj(o,s,c);break;case 22:c.mode&1?(U=(d=U)||c.memoizedState!==null,Zj(o,s,c),U=d):Zj(o,s,c);break;default:Zj(o,s,c)}}function bk(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new Lj),s.forEach(function(d){var g=ck.bind(null,o,d);c.has(d)||(c.add(d),d.then(g,g))})}}function dk(o,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];try{var b=o,_=s,$=_;e:for(;$!==null;){switch($.tag){case 5:X=$.stateNode,Yj=!1;break e;case 3:X=$.stateNode.containerInfo,Yj=!0;break e;case 4:X=$.stateNode.containerInfo,Yj=!0;break e}$=$.return}if(X===null)throw Error(p$2(160));ak(b,_,g),X=null,Yj=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(tt){W(g,s,tt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,o),s=s.sibling}function ek(o,s){var c=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(s,o),fk(o),d&4){try{Qj(3,o,o.return),Rj(3,o)}catch(xt){W(o,o.return,xt)}try{Qj(5,o,o.return)}catch(xt){W(o,o.return,xt)}}break;case 1:dk(s,o),fk(o),d&512&&c!==null&&Mj(c,c.return);break;case 5:if(dk(s,o),fk(o),d&512&&c!==null&&Mj(c,c.return),o.flags&32){var g=o.stateNode;try{ob(g,"")}catch(xt){W(o,o.return,xt)}}if(d&4&&(g=o.stateNode,g!=null)){var b=o.memoizedProps,_=c!==null?c.memoizedProps:b,$=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{$==="input"&&b.type==="radio"&&b.name!=null&&ab(g,b),vb($,_);var tt=vb($,b);for(_=0;_<j.length;_+=2){var nt=j[_],it=j[_+1];nt==="style"?sb(g,it):nt==="dangerouslySetInnerHTML"?nb(g,it):nt==="children"?ob(g,it):ta(g,nt,it,tt)}switch($){case"input":bb(g,b);break;case"textarea":ib(g,b);break;case"select":var ot=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var ft=b.value;ft!=null?fb(g,!!b.multiple,ft,!1):ot!==!!b.multiple&&(b.defaultValue!=null?fb(g,!!b.multiple,b.defaultValue,!0):fb(g,!!b.multiple,b.multiple?[]:"",!1))}g[Pf]=b}catch(xt){W(o,o.return,xt)}}break;case 6:if(dk(s,o),fk(o),d&4){if(o.stateNode===null)throw Error(p$2(162));g=o.stateNode,b=o.memoizedProps;try{g.nodeValue=b}catch(xt){W(o,o.return,xt)}}break;case 3:if(dk(s,o),fk(o),d&4&&c!==null&&c.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(xt){W(o,o.return,xt)}break;case 4:dk(s,o),fk(o);break;case 13:dk(s,o),fk(o),g=o.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(gk=B())),d&4&&bk(o);break;case 22:if(nt=c!==null&&c.memoizedState!==null,o.mode&1?(U=(tt=U)||nt,dk(s,o),U=tt):dk(s,o),fk(o),d&8192){if(tt=o.memoizedState!==null,(o.stateNode.isHidden=tt)&&!nt&&o.mode&1)for(V=o,nt=o.child;nt!==null;){for(it=V=nt;V!==null;){switch(ot=V,ft=ot.child,ot.tag){case 0:case 11:case 14:case 15:Qj(4,ot,ot.return);break;case 1:Mj(ot,ot.return);var yt=ot.stateNode;if(typeof yt.componentWillUnmount=="function"){d=ot,c=ot.return;try{s=d,yt.props=s.memoizedProps,yt.state=s.memoizedState,yt.componentWillUnmount()}catch(xt){W(d,c,xt)}}break;case 5:Mj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){hk(it);continue}}ft!==null?(ft.return=ot,V=ft):hk(it)}nt=nt.sibling}e:for(nt=null,it=o;;){if(it.tag===5){if(nt===null){nt=it;try{g=it.stateNode,tt?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):($=it.stateNode,j=it.memoizedProps.style,_=j!=null&&j.hasOwnProperty("display")?j.display:null,$.style.display=rb("display",_))}catch(xt){W(o,o.return,xt)}}}else if(it.tag===6){if(nt===null)try{it.stateNode.nodeValue=tt?"":it.memoizedProps}catch(xt){W(o,o.return,xt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===o)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===o)break e;for(;it.sibling===null;){if(it.return===null||it.return===o)break e;nt===it&&(nt=null),it=it.return}nt===it&&(nt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:dk(s,o),fk(o),d&4&&bk(o);break;case 21:break;default:dk(s,o),fk(o)}}function fk(o){var s=o.flags;if(s&2){try{e:{for(var c=o.return;c!==null;){if(Uj(c)){var d=c;break e}c=c.return}throw Error(p$2(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(ob(g,""),d.flags&=-33);var b=Vj(o);Xj(o,b,g);break;case 3:case 4:var _=d.stateNode.containerInfo,$=Vj(o);Wj(o,$,_);break;default:throw Error(p$2(161))}}catch(j){W(o,o.return,j)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function ik(o,s,c){V=o,jk(o)}function jk(o,s,c){for(var d=(o.mode&1)!==0;V!==null;){var g=V,b=g.child;if(g.tag===22&&d){var _=g.memoizedState!==null||Kj;if(!_){var $=g.alternate,j=$!==null&&$.memoizedState!==null||U;$=Kj;var tt=U;if(Kj=_,(U=j)&&!tt)for(V=g;V!==null;)_=V,j=_.child,_.tag===22&&_.memoizedState!==null?kk(g):j!==null?(j.return=_,V=j):kk(g);for(;b!==null;)V=b,jk(b),b=b.sibling;V=g,Kj=$,U=tt}lk(o)}else g.subtreeFlags&8772&&b!==null?(b.return=g,V=b):lk(o)}}function lk(o){for(;V!==null;){var s=V;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!U)if(c===null)d.componentDidMount();else{var g=s.elementType===s.type?c.memoizedProps:Lg(s.type,c.memoizedProps);d.componentDidUpdate(g,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&ih(s,b,d);break;case 3:var _=s.updateQueue;if(_!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}ih(s,_,c)}break;case 5:var $=s.stateNode;if(c===null&&s.flags&4){c=$;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var tt=s.alternate;if(tt!==null){var nt=tt.memoizedState;if(nt!==null){var it=nt.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||s.flags&512&&Sj(s)}catch(ot){W(s,s.return,ot)}}if(s===o){V=null;break}if(c=s.sibling,c!==null){c.return=s.return,V=c;break}V=s.return}}function hk(o){for(;V!==null;){var s=V;if(s===o){V=null;break}var c=s.sibling;if(c!==null){c.return=s.return,V=c;break}V=s.return}}function kk(o){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Rj(4,s)}catch(j){W(s,c,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var g=s.return;try{d.componentDidMount()}catch(j){W(s,g,j)}}var b=s.return;try{Sj(s)}catch(j){W(s,b,j)}break;case 5:var _=s.return;try{Sj(s)}catch(j){W(s,_,j)}}}catch(j){W(s,s.return,j)}if(s===o){V=null;break}var $=s.sibling;if($!==null){$.return=s.return,V=$;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function mh(o,s,c,d){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(o,c,d),(!(K&2)||o!==R)&&(o===R&&(!(K&2)&&(rk|=c),T===4&&Dk(o,Z)),Ek(o,d),c===1&&K===0&&!(s.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(o,s){var c=o.callbackNode;wc(o,s);var d=uc(o,o===R?Z:0);if(d===0)c!==null&&bc(c),o.callbackNode=null,o.callbackPriority=0;else if(s=d&-d,o.callbackPriority!==s){if(c!=null&&bc(c),s===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,o))}o.callbackPriority=s,o.callbackNode=c}}function Hk(o,s){if(Bk=-1,Ck=0,K&6)throw Error(p$2(327));var c=o.callbackNode;if(Ik()&&o.callbackNode!==c)return null;var d=uc(o,o===R?Z:0);if(d===0)return null;if(d&30||d&o.expiredLanes||s)s=Jk(o,d);else{s=d;var g=K;K|=2;var b=Kk();(R!==o||Z!==s)&&(vk=null,Hj=B()+500,Lk(o,s));do try{Mk();break}catch($){Nk(o,$)}while(1);Qg(),nk.current=b,K=g,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(g=xc(o),g!==0&&(d=g,s=Ok(o,g))),s===1)throw c=qk,Lk(o,0),Dk(o,d),Ek(o,B()),c;if(s===6)Dk(o,d);else{if(g=o.current.alternate,!(d&30)&&!Pk(g)&&(s=Jk(o,d),s===2&&(b=xc(o),b!==0&&(d=b,s=Ok(o,b))),s===1))throw c=qk,Lk(o,0),Dk(o,d),Ek(o,B()),c;switch(o.finishedWork=g,o.finishedLanes=d,s){case 0:case 1:throw Error(p$2(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,d),(d&130023424)===d&&(s=gk+500-B(),10<s)){if(uc(o,0)!==0)break;if(g=o.suspendedLanes,(g&d)!==d){L(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 4:if(Dk(o,d),(d&4194240)===d)break;for(s=o.eventTimes,g=-1;0<d;){var _=31-oc(d);b=1<<_,_=s[_],_>g&&(g=_),d&=~b}if(d=g,d=B()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*mk(d/1960))-d,10<d){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),d);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(o,B()),o.callbackNode===c?Hk.bind(null,o):null}function Ok(o,s){var c=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,s).flags|=256),o=Jk(o,s),o!==2&&(s=uk,uk=c,s!==null&&Gj(s)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var s=o;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var g=c[d],b=g.getSnapshot;g=g.value;try{if(!He(b(),g))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(o,s){for(s&=~sk,s&=~rk,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var c=31-oc(s),d=1<<c;o[c]=-1,s&=~d}}function Fk(o){if(K&6)throw Error(p$2(327));Ik();var s=uc(o,0);if(!(s&1))return Ek(o,B()),null;var c=Jk(o,s);if(o.tag!==0&&c===2){var d=xc(o);d!==0&&(s=d,c=Ok(o,d))}if(c===1)throw c=qk,Lk(o,0),Dk(o,s),Ek(o,B()),c;if(c===6)throw Error(p$2(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,s){var c=K;K|=1;try{return o(s)}finally{K=c,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var s=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=d,pk.transition=c,K=s,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,s){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Gf(c)),Y!==null)for(c=Y.return;c!==null;){var d=c;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}if(R=o,Y=o=wh(o.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(c=Wg[s],d=c.interleaved,d!==null){c.interleaved=null;var g=d.next,b=c.pending;if(b!==null){var _=b.next;b.next=g,d.next=_}c.pending=d}Wg=null}return o}function Nk(o,s){do{var c=Y;try{if(Qg(),Ph.current=ai,Sh){for(var d=N.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,c===null||c.return===null){T=1,qk=s,Y=null;break}e:{var b=o,_=c.return,$=c,j=s;if(s=Z,$.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var tt=j,nt=$,it=nt.tag;if(!(nt.mode&1)&&(it===0||it===11||it===15)){var ot=nt.alternate;ot?(nt.updateQueue=ot.updateQueue,nt.memoizedState=ot.memoizedState,nt.lanes=ot.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var ft=Vi(_);if(ft!==null){ft.flags&=-257,Wi(ft,_,$,b,s),ft.mode&1&&Ti(b,tt,s),s=ft,j=tt;var yt=s.updateQueue;if(yt===null){var xt=new Set;xt.add(j),s.updateQueue=xt}else yt.add(j);break e}else{if(!(s&1)){Ti(b,tt,s),uj();break e}j=Error(p$2(426))}}else if(I&&$.mode&1){var kt=Vi(_);if(kt!==null){!(kt.flags&65536)&&(kt.flags|=256),Wi(kt,_,$,b,s),Jg(Ki(j,$));break e}}b=j=Ki(j,$),T!==4&&(T=2),tk===null?tk=[b]:tk.push(b),b=_;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var mt=Oi(b,j,s);fh(b,mt);break e;case 1:$=j;var st=b.type,wt=b.stateNode;if(!(b.flags&128)&&(typeof st.getDerivedStateFromError=="function"||wt!==null&&typeof wt.componentDidCatch=="function"&&(Si===null||!Si.has(wt)))){b.flags|=65536,s&=-s,b.lanes|=s;var Ht=Ri(b,$,s);fh(b,Ht);break e}}b=b.return}while(b!==null)}Tk(c)}catch(Vt){s=Vt,Y===c&&c!==null&&(Y=c=c.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(o,s){var c=K;K|=2;var d=Kk();(R!==o||Z!==s)&&(vk=null,Lk(o,s));do try{Uk();break}catch(g){Nk(o,g)}while(1);if(Qg(),K=c,nk.current=d,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(o){var s=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,s===null?Tk(o):Y=s,ok.current=null}function Tk(o){var s=o;do{var c=s.alternate;if(o=s.return,s.flags&32768){if(c=Jj(c,s),c!==null){c.flags&=32767,Y=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(c=Fj(c,s,gj),c!==null){Y=c;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=o}while(s!==null);T===0&&(T=5)}function Qk(o,s,c){var d=C,g=pk.transition;try{pk.transition=null,C=1,Xk(o,s,c,d)}finally{pk.transition=g,C=d}return null}function Xk(o,s,c,d){do Ik();while(xk!==null);if(K&6)throw Error(p$2(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(p$2(177));o.callbackNode=null,o.callbackPriority=0;var b=c.lanes|c.childLanes;if(Bc(o,b),o===R&&(Y=R=null,Z=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),b=(c.flags&15990)!==0,c.subtreeFlags&15990||b){b=pk.transition,pk.transition=null;var _=C;C=1;var $=K;K|=4,ok.current=null,Pj(o,c),ek(c,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=c,ik(c),dc(),K=$,C=_,pk.transition=b}else o.current=c;if(wk&&(wk=!1,xk=o,yk=g),b=o.pendingLanes,b===0&&(Si=null),mc(c.stateNode),Ek(o,B()),s!==null)for(d=o.onRecoverableError,c=0;c<s.length;c++)g=s[c],d(g.value,{componentStack:g.stack,digest:g.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),b=o.pendingLanes,b&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),s=pk.transition,c=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var d=!1;else{if(o=xk,xk=null,yk=0,K&6)throw Error(p$2(331));var g=K;for(K|=4,V=o.current;V!==null;){var b=V,_=b.child;if(V.flags&16){var $=b.deletions;if($!==null){for(var j=0;j<$.length;j++){var tt=$[j];for(V=tt;V!==null;){var nt=V;switch(nt.tag){case 0:case 11:case 15:Qj(8,nt,b)}var it=nt.child;if(it!==null)it.return=nt,V=it;else for(;V!==null;){nt=V;var ot=nt.sibling,ft=nt.return;if(Tj(nt),nt===tt){V=null;break}if(ot!==null){ot.return=ft,V=ot;break}V=ft}}}var yt=b.alternate;if(yt!==null){var xt=yt.child;if(xt!==null){yt.child=null;do{var kt=xt.sibling;xt.sibling=null,xt=kt}while(xt!==null)}}V=b}}if(b.subtreeFlags&2064&&_!==null)_.return=b,V=_;else e:for(;V!==null;){if(b=V,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Qj(9,b,b.return)}var mt=b.sibling;if(mt!==null){mt.return=b.return,V=mt;break e}V=b.return}}var st=o.current;for(V=st;V!==null;){_=V;var wt=_.child;if(_.subtreeFlags&2064&&wt!==null)wt.return=_,V=wt;else e:for(_=st;V!==null;){if($=V,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Rj(9,$)}}catch(Vt){W($,$.return,Vt)}if($===_){V=null;break e}var Ht=$.sibling;if(Ht!==null){Ht.return=$.return,V=Ht;break e}V=$.return}}if(K=g,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}d=!0}return d}finally{C=c,pk.transition=s}}return!1}function Yk(o,s,c){s=Ki(c,s),s=Oi(o,s,1),o=dh(o,s,1),s=L(),o!==null&&(Ac(o,1,s),Ek(o,s))}function W(o,s,c){if(o.tag===3)Yk(o,o,c);else for(;s!==null;){if(s.tag===3){Yk(s,o,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))){o=Ki(c,o),o=Ri(s,o,1),s=dh(s,o,1),o=L(),s!==null&&(Ac(s,1,o),Ek(s,o));break}}s=s.return}}function Ui(o,s,c){var d=o.pingCache;d!==null&&d.delete(s),s=L(),o.pingedLanes|=o.suspendedLanes&c,R===o&&(Z&c)===c&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(o,0):sk|=c),Ek(o,s)}function Zk(o,s){s===0&&(o.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var c=L();o=Zg(o,s),o!==null&&(Ac(o,s,c),Ek(o,c))}function vj(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),Zk(o,c)}function ck(o,s){var c=0;switch(o.tag){case 13:var d=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(p$2(314))}d!==null&&d.delete(s),Zk(o,c)}var Wk;Wk=function(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&c)&&!(s.flags&128))return Ug=!1,zj(o,s,c);Ug=!!(o.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;jj(o,s),o=s.pendingProps;var g=Yf(s,H.current);Tg(s,c),g=Xh(null,s,d,o,g,c);var b=bi();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(d)?(b=!0,cg(s)):b=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ah(s),g.updater=nh,s.stateNode=g,g._reactInternals=s,rh(s,d,o,c),s=kj(null,s,d,!0,b,c)):(s.tag=0,I&&b&&vg(s),Yi(null,s,g,c),s=s.child),s;case 16:d=s.elementType;e:{switch(jj(o,s),o=s.pendingProps,g=d._init,d=g(d._payload),s.type=d,g=s.tag=$k(d),o=Lg(d,o),g){case 0:s=dj(null,s,d,o,c);break e;case 1:s=ij(null,s,d,o,c);break e;case 11:s=Zi(null,s,d,o,c);break e;case 14:s=aj(null,s,d,Lg(d.type,o),c);break e}throw Error(p$2(306,d,""))}return s;case 0:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Lg(d,g),dj(o,s,d,g,c);case 1:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Lg(d,g),ij(o,s,d,g,c);case 3:e:{if(lj(s),o===null)throw Error(p$2(387));d=s.pendingProps,b=s.memoizedState,g=b.element,bh(o,s),gh(s,d,null,c);var _=s.memoizedState;if(d=_.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){g=Ki(Error(p$2(423)),s),s=mj(o,s,d,c,g);break e}else if(d!==g){g=Ki(Error(p$2(424)),s),s=mj(o,s,d,c,g);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,c=Ch(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ig(),d===g){s=$i(o,s,c);break e}Yi(o,s,d,c)}s=s.child}return s;case 5:return Kh(s),o===null&&Eg(s),d=s.type,g=s.pendingProps,b=o!==null?o.memoizedProps:null,_=g.children,Ef(d,g)?_=null:b!==null&&Ef(d,b)&&(s.flags|=32),hj(o,s),Yi(o,s,_,c),s.child;case 6:return o===null&&Eg(s),null;case 13:return pj(o,s,c);case 4:return Ih(s,s.stateNode.containerInfo),d=s.pendingProps,o===null?s.child=Bh(s,null,d,c):Yi(o,s,d,c),s.child;case 11:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Lg(d,g),Zi(o,s,d,g,c);case 7:return Yi(o,s,s.pendingProps,c),s.child;case 8:return Yi(o,s,s.pendingProps.children,c),s.child;case 12:return Yi(o,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,g=s.pendingProps,b=s.memoizedProps,_=g.value,G(Mg,d._currentValue),d._currentValue=_,b!==null)if(He(b.value,_)){if(b.children===g.children&&!Wf.current){s=$i(o,s,c);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var $=b.dependencies;if($!==null){_=b.child;for(var j=$.firstContext;j!==null;){if(j.context===d){if(b.tag===1){j=ch(-1,c&-c),j.tag=2;var tt=b.updateQueue;if(tt!==null){tt=tt.shared;var nt=tt.pending;nt===null?j.next=j:(j.next=nt.next,nt.next=j),tt.pending=j}}b.lanes|=c,j=b.alternate,j!==null&&(j.lanes|=c),Sg(b.return,c,s),$.lanes|=c;break}j=j.next}}else if(b.tag===10)_=b.type===s.type?null:b.child;else if(b.tag===18){if(_=b.return,_===null)throw Error(p$2(341));_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),Sg(_,c,s),_=b.sibling}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===s){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}Yi(o,s,g.children,c),s=s.child}return s;case 9:return g=s.type,d=s.pendingProps.children,Tg(s,c),g=Vg(g),d=d(g),s.flags|=1,Yi(o,s,d,c),s.child;case 14:return d=s.type,g=Lg(d,s.pendingProps),g=Lg(d.type,g),aj(o,s,d,g,c);case 15:return cj(o,s,s.type,s.pendingProps,c);case 17:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Lg(d,g),jj(o,s),s.tag=1,Zf(d)?(o=!0,cg(s)):o=!1,Tg(s,c),ph(s,d,g),rh(s,d,g,c),kj(null,s,d,!0,o,c);case 19:return yj(o,s,c);case 22:return ej(o,s,c)}throw Error(p$2(156,s.tag))};function Gk(o,s){return ac(o,s)}function al(o,s,c,d){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,s,c,d){return new al(o,s,c,d)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,s){var c=o.alternate;return c===null?(c=Bg(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function yh(o,s,c,d,g,b){var _=2;if(d=o,typeof o=="function")bj(o)&&(_=1);else if(typeof o=="string")_=5;else e:switch(o){case ya:return Ah(c.children,g,b,s);case za:_=8,g|=8;break;case Aa:return o=Bg(12,c,s,g|2),o.elementType=Aa,o.lanes=b,o;case Ea:return o=Bg(13,c,s,g),o.elementType=Ea,o.lanes=b,o;case Fa:return o=Bg(19,c,s,g),o.elementType=Fa,o.lanes=b,o;case Ia:return qj(c,g,b,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:_=10;break e;case Ca:_=9;break e;case Da:_=11;break e;case Ga:_=14;break e;case Ha:_=16,d=null;break e}throw Error(p$2(130,o==null?o:typeof o,""))}return s=Bg(_,c,s,g),s.elementType=o,s.type=d,s.lanes=b,s}function Ah(o,s,c,d){return o=Bg(7,o,d,s),o.lanes=c,o}function qj(o,s,c,d){return o=Bg(22,o,d,s),o.elementType=Ia,o.lanes=c,o.stateNode={isHidden:!1},o}function xh(o,s,c){return o=Bg(6,o,null,s),o.lanes=c,o}function zh(o,s,c){return s=Bg(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function bl(o,s,c,d,g){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function cl(o,s,c,d,g,b,_,$,j){return o=new bl(o,s,c,$,j),s===1?(s=1,b===!0&&(s|=8)):s=0,b=Bg(3,null,null,s),o.current=b,b.stateNode=o,b.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(b),o}function dl(o,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:o,containerInfo:s,implementation:c}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$2(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$2(171))}if(o.tag===1){var c=o.type;if(Zf(c))return bg(o,c,s)}return s}function fl(o,s,c,d,g,b,_,$,j){return o=cl(c,d,!0,o,g,b,_,$,j),o.context=el(null),c=o.current,d=L(),g=lh(c),b=ch(d,g),b.callback=s??null,dh(c,b,g),o.current.lanes=g,Ac(o,g,d),Ek(o,d),o}function gl(o,s,c,d){var g=s.current,b=L(),_=lh(g);return c=el(c),s.context===null?s.context=c:s.pendingContext=c,s=ch(b,_),s.payload={element:o},d=d===void 0?null:d,d!==null&&(s.callback=d),o=dh(g,s,_),o!==null&&(mh(o,g,_,b),eh(o,g,_)),_}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function jl(o,s){il(o,s),(o=o.alternate)&&il(o,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(p$2(409));gl(o,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Sk(function(){gl(null,o,null,null)}),s[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var s=Hc();o={blockedOn:null,target:o,priority:s};for(var c=0;c<Qc.length&&s!==0&&s<Qc[c].priority;c++);Qc.splice(c,0,o),c===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,s,c,d,g){if(g){if(typeof d=="function"){var b=d;d=function(){var tt=hl(_);b.call(tt)}}var _=fl(s,d,o,0,null,!1,!1,"",ql);return o._reactRootContainer=_,o[uf]=_.current,sf(o.nodeType===8?o.parentNode:o),Sk(),_}for(;g=o.lastChild;)o.removeChild(g);if(typeof d=="function"){var $=d;d=function(){var tt=hl(j);$.call(tt)}}var j=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=j,o[uf]=j.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(s,j,c,d)}),j}function sl(o,s,c,d,g){var b=c._reactRootContainer;if(b){var _=b;if(typeof g=="function"){var $=g;g=function(){var j=hl(_);$.call(j)}}gl(s,_,o,g)}else _=rl(c,s,o,g,d);return hl(_)}Ec=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var c=tc(s.pendingLanes);c!==0&&(Cc(s,c|1),Ek(s,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var d=Zg(o,1);if(d!==null){var g=L();mh(d,o,1,g)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var s=Zg(o,134217728);if(s!==null){var c=L();mh(s,o,134217728,c)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var s=lh(o),c=Zg(o,s);if(c!==null){var d=L();mh(c,o,s,d)}jl(o,s)}};Hc=function(){return C};Ic=function(o,s){var c=C;try{return C=o,s()}finally{C=c}};yb=function(o,s,c){switch(s){case"input":if(bb(o,c),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==o&&d.form===o.form){var g=Db(d);if(!g)throw Error(p$2(90));Wa(d),bb(d,g)}}}break;case"textarea":ib(o,c);break;case"select":s=c.value,s!=null&&fb(o,!!c.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p$2(200));return dl(o,s,null,c)};reactDom_production_min.createRoot=function(o,s){if(!ol(o))throw Error(p$2(299));var c=!1,d="",g=ll;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=cl(o,1,!1,null,null,c,!1,d,g),o[uf]=s.current,sf(o.nodeType===8?o.parentNode:o),new ml(s)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(p$2(188)):(o=Object.keys(o).join(","),Error(p$2(268,o)));return o=Zb(s),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,s,c){if(!pl(s))throw Error(p$2(200));return sl(null,o,s,!0,c)};reactDom_production_min.hydrateRoot=function(o,s,c){if(!ol(o))throw Error(p$2(405));var d=c!=null&&c.hydratedSources||null,g=!1,b="",_=ll;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),s=fl(s,null,o,1,c??null,g,!1,b,_),o[uf]=s.current,sf(o),d)for(o=0;o<d.length;o++)c=d[o],g=c._getVersion,g=g(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,g]:s.mutableSourceEagerHydrationData.push(c,g);return new nl(s)};reactDom_production_min.render=function(o,s,c){if(!pl(s))throw Error(p$2(200));return sl(null,o,s,!1,c)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$2(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,s,c,d){if(!pl(c))throw Error(p$2(200));if(o==null||o._reactInternals===void 0)throw Error(p$2(38));return sl(o,s,c,!1,d)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;function createSyncStoragePersister({storage:o,key:s="REACT_QUERY_OFFLINE_CACHE",throttleTime:c=1e3,serialize:d=JSON.stringify,deserialize:g=JSON.parse,retry:b}){if(o){const _=$=>{try{o.setItem(s,d($));return}catch(j){return j}};return{persistClient:throttle($=>{let j=$,tt=_(j),nt=0;for(;tt&&j;)nt++,j=b==null?void 0:b({persistedClient:j,error:tt,errorCount:nt}),j&&(tt=_(j))},c),restoreClient:()=>{const $=o.getItem(s);if($)return g($)},removeClient:()=>{o.removeItem(s)}}}return{persistClient:noop$1,restoreClient:()=>{},removeClient:noop$1}}function throttle(o,s=100){let c=null,d;return function(...g){d=g,c===null&&(c=setTimeout(()=>{o(...d),c=null},s))}}function noop$1(){}class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){const c={listener:s};return this.listeners.add(c),this.onSubscribe(),()=>{this.listeners.delete(c),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop(){}function functionalUpdate(o,s){return typeof o=="function"?o(s):o}function isValidTimeout(o){return typeof o=="number"&&o>=0&&o!==1/0}function timeUntilStale(o,s){return Math.max(o+(s||0)-Date.now(),0)}function parseQueryArgs(o,s,c){return isQueryKey(o)?typeof s=="function"?{...c,queryKey:o,queryFn:s}:{...s,queryKey:o}:o}function parseFilterArgs(o,s,c){return isQueryKey(o)?[{...s,queryKey:o},c]:[o||{},s]}function matchQuery(o,s){const{type:c="all",exact:d,fetchStatus:g,predicate:b,queryKey:_,stale:$}=o;if(isQueryKey(_)){if(d){if(s.queryHash!==hashQueryKeyByOptions(_,s.options))return!1}else if(!partialMatchKey(s.queryKey,_))return!1}if(c!=="all"){const j=s.isActive();if(c==="active"&&!j||c==="inactive"&&j)return!1}return!(typeof $=="boolean"&&s.isStale()!==$||typeof g<"u"&&g!==s.state.fetchStatus||b&&!b(s))}function matchMutation(o,s){const{exact:c,fetching:d,predicate:g,mutationKey:b}=o;if(isQueryKey(b)){if(!s.options.mutationKey)return!1;if(c){if(hashQueryKey(s.options.mutationKey)!==hashQueryKey(b))return!1}else if(!partialMatchKey(s.options.mutationKey,b))return!1}return!(typeof d=="boolean"&&s.state.status==="loading"!==d||g&&!g(s))}function hashQueryKeyByOptions(o,s){return((s==null?void 0:s.queryKeyHashFn)||hashQueryKey)(o)}function hashQueryKey(o){return JSON.stringify(o,(s,c)=>isPlainObject(c)?Object.keys(c).sort().reduce((d,g)=>(d[g]=c[g],d),{}):c)}function partialMatchKey(o,s){return partialDeepEqual(o,s)}function partialDeepEqual(o,s){return o===s?!0:typeof o!=typeof s?!1:o&&s&&typeof o=="object"&&typeof s=="object"?!Object.keys(s).some(c=>!partialDeepEqual(o[c],s[c])):!1}function replaceEqualDeep(o,s){if(o===s)return o;const c=isPlainArray(o)&&isPlainArray(s);if(c||isPlainObject(o)&&isPlainObject(s)){const d=c?o.length:Object.keys(o).length,g=c?s:Object.keys(s),b=g.length,_=c?[]:{};let $=0;for(let j=0;j<b;j++){const tt=c?j:g[j];_[tt]=replaceEqualDeep(o[tt],s[tt]),_[tt]===o[tt]&&$++}return d===b&&$===d?o:_}return s}function isPlainArray(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;const s=o.constructor;if(typeof s>"u")return!0;const c=s.prototype;return!(!hasObjectPrototype(c)||!c.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(o){return Object.prototype.toString.call(o)==="[object Object]"}function isQueryKey(o){return Array.isArray(o)}function sleep(o){return new Promise(s=>{setTimeout(s,o)})}function scheduleMicrotask(o){sleep(0).then(o)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(o,s,c){return c.isDataEqual!=null&&c.isDataEqual(o,s)?o:typeof c.structuralSharing=="function"?c.structuralSharing(o,s):c.structuralSharing!==!1?replaceEqualDeep(o,s):s}class FocusManager extends Subscribable{constructor(){super(),this.setup=s=>{if(!isServer&&window.addEventListener){const c=()=>s();return window.addEventListener("visibilitychange",c,!1),window.addEventListener("focus",c,!1),()=>{window.removeEventListener("visibilitychange",c),window.removeEventListener("focus",c)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}}setEventListener(s){var c;this.setup=s,(c=this.cleanup)==null||c.call(this),this.cleanup=s(d=>{typeof d=="boolean"?this.setFocused(d):this.onFocus()})}setFocused(s){this.focused!==s&&(this.focused=s,this.onFocus())}onFocus(){this.listeners.forEach(({listener:s})=>{s()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=s=>{if(!isServer&&window.addEventListener){const c=()=>s();return onlineEvents.forEach(d=>{window.addEventListener(d,c,!1)}),()=>{onlineEvents.forEach(d=>{window.removeEventListener(d,c)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}}setEventListener(s){var c;this.setup=s,(c=this.cleanup)==null||c.call(this),this.cleanup=s(d=>{typeof d=="boolean"?this.setOnline(d):this.onOnline()})}setOnline(s){this.online!==s&&(this.online=s,this.onOnline())}onOnline(){this.listeners.forEach(({listener:s})=>{s()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(o){return Math.min(1e3*2**o,3e4)}function canFetch(o){return(o??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(s){this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}}function isCancelledError(o){return o instanceof CancelledError}function createRetryer(o){let s=!1,c=0,d=!1,g,b,_;const $=new Promise((kt,mt)=>{b=kt,_=mt}),j=kt=>{d||(ft(new CancelledError(kt)),o.abort==null||o.abort())},tt=()=>{s=!0},nt=()=>{s=!1},it=()=>!focusManager.isFocused()||o.networkMode!=="always"&&!onlineManager.isOnline(),ot=kt=>{d||(d=!0,o.onSuccess==null||o.onSuccess(kt),g==null||g(),b(kt))},ft=kt=>{d||(d=!0,o.onError==null||o.onError(kt),g==null||g(),_(kt))},yt=()=>new Promise(kt=>{g=mt=>{const st=d||!it();return st&&kt(mt),st},o.onPause==null||o.onPause()}).then(()=>{g=void 0,d||o.onContinue==null||o.onContinue()}),xt=()=>{if(d)return;let kt;try{kt=o.fn()}catch(mt){kt=Promise.reject(mt)}Promise.resolve(kt).then(ot).catch(mt=>{var st,wt;if(d)return;const Ht=(st=o.retry)!=null?st:3,Vt=(wt=o.retryDelay)!=null?wt:defaultRetryDelay,St=typeof Vt=="function"?Vt(c,mt):Vt,gt=Ht===!0||typeof Ht=="number"&&c<Ht||typeof Ht=="function"&&Ht(c,mt);if(s||!gt){ft(mt);return}c++,o.onFail==null||o.onFail(c,mt),sleep(St).then(()=>{if(it())return yt()}).then(()=>{s?ft(mt):xt()})})};return canFetch(o.networkMode)?xt():yt().then(xt),{promise:$,cancel:j,continue:()=>(g==null?void 0:g())?$:Promise.resolve(),cancelRetry:tt,continueRetry:nt}}const defaultLogger=console;function createNotifyManager(){let o=[],s=0,c=nt=>{nt()},d=nt=>{nt()};const g=nt=>{let it;s++;try{it=nt()}finally{s--,s||$()}return it},b=nt=>{s?o.push(nt):scheduleMicrotask(()=>{c(nt)})},_=nt=>(...it)=>{b(()=>{nt(...it)})},$=()=>{const nt=o;o=[],nt.length&&scheduleMicrotask(()=>{d(()=>{nt.forEach(it=>{c(it)})})})};return{batch:g,batchCalls:_,schedule:b,setNotifyFunction:nt=>{c=nt},setBatchNotifyFunction:nt=>{d=nt}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(s){this.cacheTime=Math.max(this.cacheTime||0,s??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(s){super(),this.abortSignalConsumed=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.logger=s.logger||defaultLogger,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(s){this.options={...this.defaultOptions,...s},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(s,c){const d=replaceData(this.state.data,s,this.options);return this.dispatch({data:d,type:"success",dataUpdatedAt:c==null?void 0:c.updatedAt,manual:c==null?void 0:c.manual}),d}setState(s,c){this.dispatch({type:"setState",state:s,setStateOptions:c})}cancel(s){var c;const d=this.promise;return(c=this.retryer)==null||c.cancel(s),d?d.then(noop).catch(noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(s=>s.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(s=>s.getCurrentResult().isStale)}isStaleByTime(s=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var s;const c=this.observers.find(d=>d.shouldFetchOnWindowFocus());c&&c.refetch({cancelRefetch:!1}),(s=this.retryer)==null||s.continue()}onOnline(){var s;const c=this.observers.find(d=>d.shouldFetchOnReconnect());c&&c.refetch({cancelRefetch:!1}),(s=this.retryer)==null||s.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(c=>c!==s),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(s,c){var d,g;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&c!=null&&c.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var b;return(b=this.retryer)==null||b.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){const ft=this.observers.find(yt=>yt.options.queryFn);ft&&this.setOptions(ft.options)}Array.isArray(this.options.queryKey);const _=getAbortController(),$={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},j=ft=>{Object.defineProperty(ft,"signal",{enumerable:!0,get:()=>{if(_)return this.abortSignalConsumed=!0,_.signal}})};j($);const tt=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn($)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),nt={fetchOptions:c,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:tt};if(j(nt),(d=this.options.behavior)==null||d.onFetch(nt),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=nt.fetchOptions)==null?void 0:g.meta)){var it;this.dispatch({type:"fetch",meta:(it=nt.fetchOptions)==null?void 0:it.meta})}const ot=ft=>{if(isCancelledError(ft)&&ft.silent||this.dispatch({type:"error",error:ft}),!isCancelledError(ft)){var yt,xt,kt,mt;(yt=(xt=this.cache.config).onError)==null||yt.call(xt,ft,this),(kt=(mt=this.cache.config).onSettled)==null||kt.call(mt,this.state.data,ft,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:nt.fetchFn,abort:_==null?void 0:_.abort.bind(_),onSuccess:ft=>{var yt,xt,kt,mt;if(typeof ft>"u"){ot(new Error(this.queryHash+" data is undefined"));return}this.setData(ft),(yt=(xt=this.cache.config).onSuccess)==null||yt.call(xt,ft,this),(kt=(mt=this.cache.config).onSettled)==null||kt.call(mt,ft,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:ot,onFail:(ft,yt)=>{this.dispatch({type:"failed",failureCount:ft,error:yt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:nt.options.retry,retryDelay:nt.options.retryDelay,networkMode:nt.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(s){const c=d=>{var g,b;switch(s.type){case"failed":return{...d,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...d,fetchStatus:"paused"};case"continue":return{...d,fetchStatus:"fetching"};case"fetch":return{...d,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(g=s.meta)!=null?g:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!d.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...d,data:s.data,dataUpdateCount:d.dataUpdateCount+1,dataUpdatedAt:(b=s.dataUpdatedAt)!=null?b:Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const _=s.error;return isCancelledError(_)&&_.revert&&this.revertState?{...this.revertState}:{...d,error:_,errorUpdateCount:d.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:d.fetchFailureCount+1,fetchFailureReason:_,fetchStatus:"idle",status:"error"};case"invalidate":return{...d,isInvalidated:!0};case"setState":return{...d,...s.state}}};this.state=c(this.state),notifyManager.batch(()=>{this.observers.forEach(d=>{d.onQueryUpdate(s)}),this.cache.notify({query:this,type:"updated",action:s})})}}function getDefaultState$1(o){const s=typeof o.initialData=="function"?o.initialData():o.initialData,c=typeof s<"u",d=c?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:c?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(s){super(),this.config=s||{},this.queries=[],this.queriesMap={}}build(s,c,d){var g;const b=c.queryKey,_=(g=c.queryHash)!=null?g:hashQueryKeyByOptions(b,c);let $=this.get(_);return $||($=new Query({cache:this,logger:s.getLogger(),queryKey:b,queryHash:_,options:s.defaultQueryOptions(c),state:d,defaultOptions:s.getQueryDefaults(b)}),this.add($)),$}add(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"added",query:s}))}remove(s){const c=this.queriesMap[s.queryHash];c&&(s.destroy(),this.queries=this.queries.filter(d=>d!==s),c===s&&delete this.queriesMap[s.queryHash],this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.queries.forEach(s=>{this.remove(s)})})}get(s){return this.queriesMap[s]}getAll(){return this.queries}find(s,c){const[d]=parseFilterArgs(s,c);return typeof d.exact>"u"&&(d.exact=!0),this.queries.find(g=>matchQuery(d,g))}findAll(s,c){const[d]=parseFilterArgs(s,c);return Object.keys(d).length>0?this.queries.filter(g=>matchQuery(d,g)):this.queries}notify(s){notifyManager.batch(()=>{this.listeners.forEach(({listener:c})=>{c(s)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(s=>{s.onOnline()})})}}class Mutation extends Removable{constructor(s){super(),this.defaultOptions=s.defaultOptions,this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.logger=s.logger||defaultLogger,this.observers=[],this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options={...this.defaultOptions,...s},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(s){this.dispatch({type:"setState",state:s})}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.observers=this.observers.filter(c=>c!==s),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var s,c;return(s=(c=this.retryer)==null?void 0:c.continue())!=null?s:this.execute()}async execute(){const s=()=>{var gt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Lt,Ot)=>{this.dispatch({type:"failed",failureCount:Lt,error:Ot})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(gt=this.options.retry)!=null?gt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},c=this.state.status==="loading";try{var d,g,b,_,$,j,tt,nt;if(!c){var it,ot,ft,yt;this.dispatch({type:"loading",variables:this.options.variables}),await((it=(ot=this.mutationCache.config).onMutate)==null?void 0:it.call(ot,this.state.variables,this));const Lt=await((ft=(yt=this.options).onMutate)==null?void 0:ft.call(yt,this.state.variables));Lt!==this.state.context&&this.dispatch({type:"loading",context:Lt,variables:this.state.variables})}const gt=await s();return await((d=(g=this.mutationCache.config).onSuccess)==null?void 0:d.call(g,gt,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,gt,this.state.variables,this.state.context)),await(($=(j=this.mutationCache.config).onSettled)==null?void 0:$.call(j,gt,null,this.state.variables,this.state.context,this)),await((tt=(nt=this.options).onSettled)==null?void 0:tt.call(nt,gt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:gt}),gt}catch(gt){try{var xt,kt,mt,st,wt,Ht,Vt,St;throw await((xt=(kt=this.mutationCache.config).onError)==null?void 0:xt.call(kt,gt,this.state.variables,this.state.context,this)),await((mt=(st=this.options).onError)==null?void 0:mt.call(st,gt,this.state.variables,this.state.context)),await((wt=(Ht=this.mutationCache.config).onSettled)==null?void 0:wt.call(Ht,void 0,gt,this.state.variables,this.state.context,this)),await((Vt=(St=this.options).onSettled)==null?void 0:Vt.call(St,void 0,gt,this.state.variables,this.state.context)),gt}finally{this.dispatch({type:"error",error:gt})}}}dispatch(s){const c=d=>{switch(s.type){case"failed":return{...d,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...d,isPaused:!0};case"continue":return{...d,isPaused:!1};case"loading":return{...d,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:s.variables};case"success":return{...d,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...d,data:void 0,error:s.error,failureCount:d.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"};case"setState":return{...d,...s.state}}};this.state=c(this.state),notifyManager.batch(()=>{this.observers.forEach(d=>{d.onMutationUpdate(s)}),this.mutationCache.notify({mutation:this,type:"updated",action:s})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(s){super(),this.config=s||{},this.mutations=[],this.mutationId=0}build(s,c,d){const g=new Mutation({mutationCache:this,logger:s.getLogger(),mutationId:++this.mutationId,options:s.defaultMutationOptions(c),state:d,defaultOptions:c.mutationKey?s.getMutationDefaults(c.mutationKey):void 0});return this.add(g),g}add(s){this.mutations.push(s),this.notify({type:"added",mutation:s})}remove(s){this.mutations=this.mutations.filter(c=>c!==s),this.notify({type:"removed",mutation:s})}clear(){notifyManager.batch(()=>{this.mutations.forEach(s=>{this.remove(s)})})}getAll(){return this.mutations}find(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(c=>matchMutation(s,c))}findAll(s){return this.mutations.filter(c=>matchMutation(s,c))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(({listener:c})=>{c(s)})})}resumePausedMutations(){var s;return this.resuming=((s=this.resuming)!=null?s:Promise.resolve()).then(()=>{const c=this.mutations.filter(d=>d.state.isPaused);return notifyManager.batch(()=>c.reduce((d,g)=>d.then(()=>g.continue().catch(noop)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:o=>{o.fetchFn=()=>{var s,c,d,g,b,_;const $=(s=o.fetchOptions)==null||(c=s.meta)==null?void 0:c.refetchPage,j=(d=o.fetchOptions)==null||(g=d.meta)==null?void 0:g.fetchMore,tt=j==null?void 0:j.pageParam,nt=(j==null?void 0:j.direction)==="forward",it=(j==null?void 0:j.direction)==="backward",ot=((b=o.state.data)==null?void 0:b.pages)||[],ft=((_=o.state.data)==null?void 0:_.pageParams)||[];let yt=ft,xt=!1;const kt=St=>{Object.defineProperty(St,"signal",{enumerable:!0,get:()=>{var gt;if((gt=o.signal)!=null&&gt.aborted)xt=!0;else{var Lt;(Lt=o.signal)==null||Lt.addEventListener("abort",()=>{xt=!0})}return o.signal}})},mt=o.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+o.options.queryHash+"'")),st=(St,gt,Lt,Ot)=>(yt=Ot?[gt,...yt]:[...yt,gt],Ot?[Lt,...St]:[...St,Lt]),wt=(St,gt,Lt,Ot)=>{if(xt)return Promise.reject("Cancelled");if(typeof Lt>"u"&&!gt&&St.length)return Promise.resolve(St);const Kt={queryKey:o.queryKey,pageParam:Lt,meta:o.options.meta};kt(Kt);const _r=mt(Kt);return Promise.resolve(_r).then(Vr=>st(St,Lt,Vr,Ot))};let Ht;if(!ot.length)Ht=wt([]);else if(nt){const St=typeof tt<"u",gt=St?tt:getNextPageParam(o.options,ot);Ht=wt(ot,St,gt)}else if(it){const St=typeof tt<"u",gt=St?tt:getPreviousPageParam(o.options,ot);Ht=wt(ot,St,gt,!0)}else{yt=[];const St=typeof o.options.getNextPageParam>"u";Ht=($&&ot[0]?$(ot[0],0,ot):!0)?wt([],St,ft[0]):Promise.resolve(st([],ft[0],ot[0]));for(let Lt=1;Lt<ot.length;Lt++)Ht=Ht.then(Ot=>{if($&&ot[Lt]?$(ot[Lt],Lt,ot):!0){const _r=St?ft[Lt]:getNextPageParam(o.options,Ot);return wt(Ot,St,_r)}return Promise.resolve(st(Ot,ft[Lt],ot[Lt]))})}return Ht.then(St=>({pages:St,pageParams:yt}))}}}}function getNextPageParam(o,s){return o.getNextPageParam==null?void 0:o.getNextPageParam(s[s.length-1],s)}function getPreviousPageParam(o,s){return o.getPreviousPageParam==null?void 0:o.getPreviousPageParam(s[0],s)}class QueryClient{constructor(s={}){this.queryCache=s.queryCache||new QueryCache,this.mutationCache=s.mutationCache||new MutationCache,this.logger=s.logger||defaultLogger,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var s,c;this.mountCount--,this.mountCount===0&&((s=this.unsubscribeFocus)==null||s.call(this),this.unsubscribeFocus=void 0,(c=this.unsubscribeOnline)==null||c.call(this),this.unsubscribeOnline=void 0)}isFetching(s,c){const[d]=parseFilterArgs(s,c);return d.fetchStatus="fetching",this.queryCache.findAll(d).length}isMutating(s){return this.mutationCache.findAll({...s,fetching:!0}).length}getQueryData(s,c){var d;return(d=this.queryCache.find(s,c))==null?void 0:d.state.data}ensureQueryData(s,c,d){const g=parseQueryArgs(s,c,d),b=this.getQueryData(g.queryKey);return b?Promise.resolve(b):this.fetchQuery(g)}getQueriesData(s){return this.getQueryCache().findAll(s).map(({queryKey:c,state:d})=>{const g=d.data;return[c,g]})}setQueryData(s,c,d){const g=this.queryCache.find(s),b=g==null?void 0:g.state.data,_=functionalUpdate(c,b);if(typeof _>"u")return;const $=parseQueryArgs(s),j=this.defaultQueryOptions($);return this.queryCache.build(this,j).setData(_,{...d,manual:!0})}setQueriesData(s,c,d){return notifyManager.batch(()=>this.getQueryCache().findAll(s).map(({queryKey:g})=>[g,this.setQueryData(g,c,d)]))}getQueryState(s,c){var d;return(d=this.queryCache.find(s,c))==null?void 0:d.state}removeQueries(s,c){const[d]=parseFilterArgs(s,c),g=this.queryCache;notifyManager.batch(()=>{g.findAll(d).forEach(b=>{g.remove(b)})})}resetQueries(s,c,d){const[g,b]=parseFilterArgs(s,c,d),_=this.queryCache,$={type:"active",...g};return notifyManager.batch(()=>(_.findAll(g).forEach(j=>{j.reset()}),this.refetchQueries($,b)))}cancelQueries(s,c,d){const[g,b={}]=parseFilterArgs(s,c,d);typeof b.revert>"u"&&(b.revert=!0);const _=notifyManager.batch(()=>this.queryCache.findAll(g).map($=>$.cancel(b)));return Promise.all(_).then(noop).catch(noop)}invalidateQueries(s,c,d){const[g,b]=parseFilterArgs(s,c,d);return notifyManager.batch(()=>{var _,$;if(this.queryCache.findAll(g).forEach(tt=>{tt.invalidate()}),g.refetchType==="none")return Promise.resolve();const j={...g,type:(_=($=g.refetchType)!=null?$:g.type)!=null?_:"active"};return this.refetchQueries(j,b)})}refetchQueries(s,c,d){const[g,b]=parseFilterArgs(s,c,d),_=notifyManager.batch(()=>this.queryCache.findAll(g).filter(j=>!j.isDisabled()).map(j=>{var tt;return j.fetch(void 0,{...b,cancelRefetch:(tt=b==null?void 0:b.cancelRefetch)!=null?tt:!0,meta:{refetchPage:g.refetchPage}})}));let $=Promise.all(_).then(noop);return b!=null&&b.throwOnError||($=$.catch(noop)),$}fetchQuery(s,c,d){const g=parseQueryArgs(s,c,d),b=this.defaultQueryOptions(g);typeof b.retry>"u"&&(b.retry=!1);const _=this.queryCache.build(this,b);return _.isStaleByTime(b.staleTime)?_.fetch(b):Promise.resolve(_.state.data)}prefetchQuery(s,c,d){return this.fetchQuery(s,c,d).then(noop).catch(noop)}fetchInfiniteQuery(s,c,d){const g=parseQueryArgs(s,c,d);return g.behavior=infiniteQueryBehavior(),this.fetchQuery(g)}prefetchInfiniteQuery(s,c,d){return this.fetchInfiniteQuery(s,c,d).then(noop).catch(noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(s){this.defaultOptions=s}setQueryDefaults(s,c){const d=this.queryDefaults.find(g=>hashQueryKey(s)===hashQueryKey(g.queryKey));d?d.defaultOptions=c:this.queryDefaults.push({queryKey:s,defaultOptions:c})}getQueryDefaults(s){if(!s)return;const c=this.queryDefaults.find(d=>partialMatchKey(s,d.queryKey));return c==null?void 0:c.defaultOptions}setMutationDefaults(s,c){const d=this.mutationDefaults.find(g=>hashQueryKey(s)===hashQueryKey(g.mutationKey));d?d.defaultOptions=c:this.mutationDefaults.push({mutationKey:s,defaultOptions:c})}getMutationDefaults(s){if(!s)return;const c=this.mutationDefaults.find(d=>partialMatchKey(s,d.mutationKey));return c==null?void 0:c.defaultOptions}defaultQueryOptions(s){if(s!=null&&s._defaulted)return s;const c={...this.defaultOptions.queries,...this.getQueryDefaults(s==null?void 0:s.queryKey),...s,_defaulted:!0};return!c.queryHash&&c.queryKey&&(c.queryHash=hashQueryKeyByOptions(c.queryKey,c)),typeof c.refetchOnReconnect>"u"&&(c.refetchOnReconnect=c.networkMode!=="always"),typeof c.useErrorBoundary>"u"&&(c.useErrorBoundary=!!c.suspense),c}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...this.defaultOptions.mutations,...this.getMutationDefaults(s==null?void 0:s.mutationKey),...s,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}function dehydrateMutation(o){return{mutationKey:o.options.mutationKey,state:o.state}}function dehydrateQuery(o){return{state:o.state,queryKey:o.queryKey,queryHash:o.queryHash}}function defaultShouldDehydrateMutation(o){return o.state.isPaused}function defaultShouldDehydrateQuery(o){return o.state.status==="success"}function dehydrate(o,s={}){const c=[],d=[];if(s.dehydrateMutations!==!1){const g=s.shouldDehydrateMutation||defaultShouldDehydrateMutation;o.getMutationCache().getAll().forEach(b=>{g(b)&&c.push(dehydrateMutation(b))})}if(s.dehydrateQueries!==!1){const g=s.shouldDehydrateQuery||defaultShouldDehydrateQuery;o.getQueryCache().getAll().forEach(b=>{g(b)&&d.push(dehydrateQuery(b))})}return{mutations:c,queries:d}}function hydrate(o,s,c){if(typeof s!="object"||s===null)return;const d=o.getMutationCache(),g=o.getQueryCache(),b=s.mutations||[],_=s.queries||[];b.forEach($=>{var j;d.build(o,{...c==null||(j=c.defaultOptions)==null?void 0:j.mutations,mutationKey:$.mutationKey},$.state)}),_.forEach($=>{var j;const tt=g.get($.queryHash),nt={...$.state,fetchStatus:"idle"};if(tt){tt.state.dataUpdatedAt<nt.dataUpdatedAt&&tt.setState(nt);return}g.build(o,{...c==null||(j=c.defaultOptions)==null?void 0:j.queries,queryKey:$.queryKey,queryHash:$.queryHash},nt)})}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(o,s){var c=s(),d=l({inst:{value:c,getSnapshot:s}}),g=d[0].inst,b=d[1];return n$1(function(){g.value=c,g.getSnapshot=s,r$1(g)&&b({inst:g})},[o,c,s]),m(function(){return r$1(g)&&b({inst:g}),o(function(){r$1(g)&&b({inst:g})})},[o]),p$1(c),c}function r$1(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!k(o,c)}catch{return!0}}function t$1(o,s){return s()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(o,s){return o||(s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const QueryClientProvider=({client:o,children:s,context:c,contextSharing:d=!1})=>{reactExports.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]);const g=getQueryClientContext(c,d);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!c&&d},reactExports.createElement(g.Provider,{value:o},s))},cacheableEventTypes=["added","removed","updated"];function isCacheableEventType(o){return cacheableEventTypes.includes(o)}async function persistQueryClientRestore({queryClient:o,persister:s,maxAge:c=1e3*60*60*24,buster:d="",hydrateOptions:g}){try{const b=await s.restoreClient();if(b)if(b.timestamp){const _=Date.now()-b.timestamp>c,$=b.buster!==d;_||$?s.removeClient():hydrate(o,b.clientState,g)}else s.removeClient()}catch{s.removeClient()}}async function persistQueryClientSave({queryClient:o,persister:s,buster:c="",dehydrateOptions:d}){const g={buster:c,timestamp:Date.now(),clientState:dehydrate(o,d)};await s.persistClient(g)}function persistQueryClientSubscribe(o){const s=o.queryClient.getQueryCache().subscribe(d=>{isCacheableEventType(d.type)&&persistQueryClientSave(o)}),c=o.queryClient.getMutationCache().subscribe(d=>{isCacheableEventType(d.type)&&persistQueryClientSave(o)});return()=>{s(),c()}}function persistQueryClient(o){let s=!1,c;const d=()=>{s=!0,c==null||c()},g=persistQueryClientRestore(o).then(()=>{s||(c=persistQueryClientSubscribe(o))});return[d,g]}var eventemitter3={exports:{}};(function(o){var s=Object.prototype.hasOwnProperty,c="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1));function g(j,tt,nt){this.fn=j,this.context=tt,this.once=nt||!1}function b(j,tt,nt,it,ot){if(typeof nt!="function")throw new TypeError("The listener must be a function");var ft=new g(nt,it||j,ot),yt=c?c+tt:tt;return j._events[yt]?j._events[yt].fn?j._events[yt]=[j._events[yt],ft]:j._events[yt].push(ft):(j._events[yt]=ft,j._eventsCount++),j}function _(j,tt){--j._eventsCount===0?j._events=new d:delete j._events[tt]}function $(){this._events=new d,this._eventsCount=0}$.prototype.eventNames=function(){var tt=[],nt,it;if(this._eventsCount===0)return tt;for(it in nt=this._events)s.call(nt,it)&&tt.push(c?it.slice(1):it);return Object.getOwnPropertySymbols?tt.concat(Object.getOwnPropertySymbols(nt)):tt},$.prototype.listeners=function(tt){var nt=c?c+tt:tt,it=this._events[nt];if(!it)return[];if(it.fn)return[it.fn];for(var ot=0,ft=it.length,yt=new Array(ft);ot<ft;ot++)yt[ot]=it[ot].fn;return yt},$.prototype.listenerCount=function(tt){var nt=c?c+tt:tt,it=this._events[nt];return it?it.fn?1:it.length:0},$.prototype.emit=function(tt,nt,it,ot,ft,yt){var xt=c?c+tt:tt;if(!this._events[xt])return!1;var kt=this._events[xt],mt=arguments.length,st,wt;if(kt.fn){switch(kt.once&&this.removeListener(tt,kt.fn,void 0,!0),mt){case 1:return kt.fn.call(kt.context),!0;case 2:return kt.fn.call(kt.context,nt),!0;case 3:return kt.fn.call(kt.context,nt,it),!0;case 4:return kt.fn.call(kt.context,nt,it,ot),!0;case 5:return kt.fn.call(kt.context,nt,it,ot,ft),!0;case 6:return kt.fn.call(kt.context,nt,it,ot,ft,yt),!0}for(wt=1,st=new Array(mt-1);wt<mt;wt++)st[wt-1]=arguments[wt];kt.fn.apply(kt.context,st)}else{var Ht=kt.length,Vt;for(wt=0;wt<Ht;wt++)switch(kt[wt].once&&this.removeListener(tt,kt[wt].fn,void 0,!0),mt){case 1:kt[wt].fn.call(kt[wt].context);break;case 2:kt[wt].fn.call(kt[wt].context,nt);break;case 3:kt[wt].fn.call(kt[wt].context,nt,it);break;case 4:kt[wt].fn.call(kt[wt].context,nt,it,ot);break;default:if(!st)for(Vt=1,st=new Array(mt-1);Vt<mt;Vt++)st[Vt-1]=arguments[Vt];kt[wt].fn.apply(kt[wt].context,st)}}return!0},$.prototype.on=function(tt,nt,it){return b(this,tt,nt,it,!1)},$.prototype.once=function(tt,nt,it){return b(this,tt,nt,it,!0)},$.prototype.removeListener=function(tt,nt,it,ot){var ft=c?c+tt:tt;if(!this._events[ft])return this;if(!nt)return _(this,ft),this;var yt=this._events[ft];if(yt.fn)yt.fn===nt&&(!ot||yt.once)&&(!it||yt.context===it)&&_(this,ft);else{for(var xt=0,kt=[],mt=yt.length;xt<mt;xt++)(yt[xt].fn!==nt||ot&&!yt[xt].once||it&&yt[xt].context!==it)&&kt.push(yt[xt]);kt.length?this._events[ft]=kt.length===1?kt[0]:kt:_(this,ft)}return this},$.prototype.removeAllListeners=function(tt){var nt;return tt?(nt=c?c+tt:tt,this._events[nt]&&_(this,nt)):(this._events=new d,this._eventsCount=0),this},$.prototype.off=$.prototype.removeListener,$.prototype.addListener=$.prototype.on,$.prefixed=c,$.EventEmitter=$,o.exports=$})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$2=getDefaultExportFromCjs(eventemitter3Exports);var goerli$1={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xA292E2E58d4ddEb29C33c63173d0E8B7a2A4c62e",blockCreated:8610406},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},mainnet$2={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xE4Acdd618deED4e6d2f03b9bf62dc6118FC9A4da",blockCreated:16773775},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}};const version="0.3.36",getContractAddress=o=>o,getUrl=o=>o,getVersion=()=>`viem@${version}`;var __classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(o,s,c,d){if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!d:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?d:c==="a"?d.call(o):d?d.value:s.get(o)},_BaseError_instances,_BaseError_walk;class BaseError extends Error{constructor(s,c={}){var b;super(),_BaseError_instances.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const d=c.cause instanceof BaseError?c.cause.details:(b=c.cause)!=null&&b.message?c.cause.message:c.details,g=c.cause instanceof BaseError&&c.cause.docsPath||c.docsPath;this.message=[s||"An error occurred.","",...c.metaMessages?[...c.metaMessages,""]:[],...g?[`Docs: https://viem.sh${g}.html${c.docsSlug?`#${c.docsSlug}`:""}`]:[],...d?[`Details: ${d}`]:[],`Version: ${this.version}`].join(`
`),c.cause&&(this.cause=c.cause),this.details=d,this.docsPath=g,this.metaMessages=c.metaMessages,this.shortMessage=s}walk(s){return __classPrivateFieldGet(this,_BaseError_instances,"m",_BaseError_walk).call(this,this,s)}}_BaseError_instances=new WeakSet,_BaseError_walk=function o(s,c){return c!=null&&c(s)?s:s.cause?__classPrivateFieldGet(this,_BaseError_instances,"m",o).call(this,s.cause,c):s};class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:s,chain:c,contract:d}){super(`Chain "${c.name}" does not support contract "${d.name}".`,{metaMessages:["This could be due to any of the following:",...s&&d.blockCreated&&d.blockCreated>s?[`- The contract "${d.name}" was not deployed until block ${d.blockCreated} (current block ${s}).`]:[`- The chain does not have the contract "${d.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:s,currentChainId:c}){super(`The current chain of the wallet (id: ${c}) does not match the target chain for the transaction (id: ${s.id}  ${s.name}).`,{metaMessages:[`Current Chain ID:  ${c}`,`Expected Chain ID: ${s.id}  ${s.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function assertCurrentChain({chain:o,currentChainId:s}){if(!o)throw new ChainNotFoundError;if(s!==o.id)throw new ChainMismatchError({chain:o,currentChainId:s})}function defineChain(o){return o}function getChainContractAddress({blockNumber:o,chain:s,contract:c}){var g;const d=(g=s==null?void 0:s.contracts)==null?void 0:g[c];if(!d)throw new ChainDoesNotSupportContract({chain:s,contract:{name:c}});if(o&&d.blockCreated&&d.blockCreated>o)throw new ChainDoesNotSupportContract({blockNumber:o,chain:s,contract:{name:c,blockCreated:d.blockCreated}});return d.address}function format(o,{formatter:s}){return s(o)}class IntegerOutOfRangeError extends BaseError{constructor({max:s,min:c,signed:d,size:g,value:b}){super(`Number "${b}" is not in safe ${g?`${g*8}-bit ${d?"signed":"unsigned"} `:""}integer range ${s?`(${c} to ${s})`:`(above ${c})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(s){super(`Hex value "${s}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:s,maxSize:c}){super(`Size cannot exceed ${c} bytes. Given size: ${s} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function isHex(o,{strict:s=!0}={}){return!o||typeof o!="string"?!1:s?/^0x[0-9a-fA-F]*$/.test(o):o.startsWith("0x")}function size$1(o){return isHex(o,{strict:!1})?Math.ceil((o.length-2)/2):o.length}function trim(o,{dir:s="left"}={}){let c=typeof o=="string"?o.replace("0x",""):o,d=0;for(let g=0;g<c.length-1&&c[s==="left"?g:c.length-g-1].toString()==="0";g++)d++;return c=s==="left"?c.slice(d):c.slice(0,c.length-d),typeof o=="string"?(c.length===1&&s==="right"&&(c=`${c}0`),`0x${c.length%2===1?`0${c}`:c}`):c}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:s,position:c,size:d}){super(`Slice ${c==="start"?"starting":"ending"} at offset "${s}" is out-of-bounds (size: ${d}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:s,targetSize:c,type:d}){super(`${d.charAt(0).toUpperCase()}${d.slice(1).toLowerCase()} size (${s}) exceeds padding size (${c}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(o,{dir:s,size:c=32}={}){return typeof o=="string"?padHex(o,{dir:s,size:c}):padBytes(o,{dir:s,size:c})}function padHex(o,{dir:s,size:c=32}={}){if(c===null)return o;const d=o.replace("0x","");if(d.length>c*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(d.length/2),targetSize:c,type:"hex"});return`0x${d[s==="right"?"padEnd":"padStart"](c*2,"0")}`}function padBytes(o,{dir:s,size:c=32}={}){if(c===null)return o;if(o.length>c)throw new SizeExceedsPaddingSizeError({size:o.length,targetSize:c,type:"bytes"});const d=new Uint8Array(c);for(let g=0;g<c;g++){const b=s==="right";d[b?g:c-g-1]=o[b?g:o.length-g-1]}return d}const hexes=Array.from({length:256},(o,s)=>s.toString(16).padStart(2,"0"));function toHex(o,s={}){return typeof o=="number"||typeof o=="bigint"?numberToHex(o,s):typeof o=="string"?stringToHex(o,s):typeof o=="boolean"?boolToHex(o,s):bytesToHex(o,s)}function boolToHex(o,s={}){const c=`0x${Number(o)}`;return typeof s.size=="number"?(assertSize(c,{size:s.size}),pad(c,{size:s.size})):c}function bytesToHex(o,s={}){let c="";for(let g=0;g<o.length;g++)c+=hexes[o[g]];const d=`0x${c}`;return typeof s.size=="number"?(assertSize(d,{size:s.size}),pad(d,{dir:"right",size:s.size})):d}function numberToHex(o,s={}){const{signed:c,size:d}=s,g=BigInt(o);let b;d?c?b=(1n<<BigInt(d)*8n-1n)-1n:b=2n**(BigInt(d)*8n)-1n:typeof o=="number"&&(b=BigInt(Number.MAX_SAFE_INTEGER));const _=typeof b=="bigint"&&c?-b-1n:0;if(b&&g>b||g<_){const j=typeof o=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:b?`${b}${j}`:void 0,min:`${_}${j}`,signed:c,size:d,value:`${o}${j}`})}const $=`0x${(c&&g<0?(1n<<BigInt(d*8))+BigInt(g):g).toString(16)}`;return d?pad($,{size:d}):$}const encoder$1=new TextEncoder;function stringToHex(o,s={}){const c=encoder$1.encode(o);return bytesToHex(c,s)}const encoder=new TextEncoder;function toBytes$1(o,s={}){return typeof o=="number"||typeof o=="bigint"?numberToBytes(o,s):typeof o=="boolean"?boolToBytes(o,s):isHex(o)?hexToBytes(o,s):stringToBytes(o,s)}function boolToBytes(o,s={}){const c=new Uint8Array(1);return c[0]=Number(o),typeof s.size=="number"?(assertSize(c,{size:s.size}),pad(c,{size:s.size})):c}function hexToBytes(o,s={}){let c=o;s.size&&(assertSize(c,{size:s.size}),c=pad(c,{dir:"right",size:s.size}));let d=c.slice(2);d.length%2&&(d=`0${d}`);const g=new Uint8Array(d.length/2);for(let b=0;b<g.length;b++){const _=b*2,$=d.slice(_,_+2),j=Number.parseInt($,16);if(Number.isNaN(j)||j<0)throw new BaseError(`Invalid byte sequence ("${$}" in "${d}").`);g[b]=j}return g}function numberToBytes(o,s){const c=numberToHex(o,s);return hexToBytes(c)}function stringToBytes(o,s={}){const c=encoder.encode(o);return typeof s.size=="number"?(assertSize(c,{size:s.size}),pad(c,{dir:"right",size:s.size})):c}function assertSize(o,{size:s}){if(size$1(o)>s)throw new SizeOverflowError({givenSize:size$1(o),maxSize:s})}function hexToBigInt(o,s={}){const{signed:c}=s;s.size&&assertSize(o,{size:s.size});const d=BigInt(o);if(!c)return d;const g=(o.length-2)/2,b=(1n<<BigInt(g)*8n-1n)-1n;return d<=b?d:d-BigInt(`0x${"f".padStart(g*2,"f")}`)-1n}function hexToBool(o,s={}){let c=o;if(s.size&&(assertSize(c,{size:s.size}),c=trim(c)),trim(c)==="0x00")return!1;if(trim(c)==="0x01")return!0;throw new InvalidHexBooleanError(c)}function hexToNumber(o,s={}){return Number(hexToBigInt(o,s))}function hexToString(o,s={}){let c=hexToBytes(o);return s.size&&(assertSize(c,{size:s.size}),c=trim(c,{dir:"right"})),new TextDecoder().decode(c)}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(o){const s={...o,blockHash:o.blockHash?o.blockHash:null,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,chainId:o.chainId?hexToNumber(o.chainId):void 0,gas:o.gas?BigInt(o.gas):void 0,gasPrice:o.gasPrice?BigInt(o.gasPrice):void 0,maxFeePerGas:o.maxFeePerGas?BigInt(o.maxFeePerGas):void 0,maxPriorityFeePerGas:o.maxPriorityFeePerGas?BigInt(o.maxPriorityFeePerGas):void 0,nonce:o.nonce?hexToNumber(o.nonce):void 0,to:o.to?o.to:null,transactionIndex:o.transactionIndex?Number(o.transactionIndex):null,type:o.type?transactionType[o.type]:void 0,value:o.value?BigInt(o.value):void 0,v:o.v?BigInt(o.v):void 0};return s.type==="legacy"&&(delete s.accessList,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas),s.type==="eip2930"&&(delete s.maxFeePerGas,delete s.maxPriorityFeePerGas),s}function formatBlock(o){var c;const s=(c=o.transactions)==null?void 0:c.map(d=>typeof d=="string"?d:formatTransaction(d));return{...o,baseFeePerGas:o.baseFeePerGas?BigInt(o.baseFeePerGas):null,difficulty:o.difficulty?BigInt(o.difficulty):void 0,gasLimit:o.gasLimit?BigInt(o.gasLimit):void 0,gasUsed:o.gasUsed?BigInt(o.gasUsed):void 0,hash:o.hash?o.hash:null,logsBloom:o.logsBloom?o.logsBloom:null,nonce:o.nonce?o.nonce:null,number:o.number?BigInt(o.number):null,size:o.size?BigInt(o.size):void 0,timestamp:o.timestamp?BigInt(o.timestamp):void 0,transactions:s,totalDifficulty:o.totalDifficulty?BigInt(o.totalDifficulty):null}}function formatLog(o,{args:s,eventName:c}={}){return{...o,blockHash:o.blockHash?o.blockHash:null,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,logIndex:o.logIndex?BigInt(o.logIndex):null,transactionHash:o.transactionHash?o.transactionHash:null,transactionIndex:o.transactionIndex?BigInt(o.transactionIndex):null,...c?{args:s,eventName:c}:{}}}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(o){return{...o,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,contractAddress:o.contractAddress?o.contractAddress:null,cumulativeGasUsed:o.cumulativeGasUsed?BigInt(o.cumulativeGasUsed):null,effectiveGasPrice:o.effectiveGasPrice?BigInt(o.effectiveGasPrice):null,gasUsed:o.gasUsed?BigInt(o.gasUsed):null,logs:o.logs?o.logs.map(s=>formatLog(s)):null,to:o.to?o.to:null,transactionIndex:o.transactionIndex?hexToNumber(o.transactionIndex):null,status:o.status?statuses[o.status]:null,type:o.type?transactionType[o.type]:null}}function formatTransactionRequest(o){return{...o,gas:typeof o.gas<"u"?numberToHex(o.gas):void 0,gasPrice:typeof o.gasPrice<"u"?numberToHex(o.gasPrice):void 0,maxFeePerGas:typeof o.maxFeePerGas<"u"?numberToHex(o.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof o.maxPriorityFeePerGas<"u"?numberToHex(o.maxPriorityFeePerGas):void 0,nonce:typeof o.nonce<"u"?numberToHex(o.nonce):void 0,value:typeof o.value<"u"?numberToHex(o.value):void 0}}const goerli=goerli$1,mainnet$1=mainnet$2;var __defProp=Object.defineProperty,__defNormalProp=(o,s,c)=>s in o?__defProp(o,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[s]=c,__publicField=(o,s,c)=>(__defNormalProp(o,typeof s!="symbol"?s+"":s,c),c),__accessCheck$1=(o,s,c)=>{if(!s.has(o))throw TypeError("Cannot "+c)},__privateGet$1=(o,s,c)=>(__accessCheck$1(o,s,"read from private field"),c?c.call(o):s.get(o)),__privateAdd$1=(o,s,c)=>{if(s.has(o))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(o):s.set(o,c)},__privateSet$1=(o,s,c,d)=>(__accessCheck$1(o,s,"write to private field"),d?d.call(o,c):s.set(o,c),c),Connector=class extends EventEmitter$2{constructor({chains:o=[mainnet$1,goerli],options:s}){super(),__publicField(this,"chains"),__publicField(this,"options"),__publicField(this,"storage"),this.chains=o,this.options=s}getBlockExplorerUrls(o){const{default:s,...c}=o.blockExplorers??{};if(s)return[s.url,...Object.values(c).map(d=>d.url)]}isChainUnsupported(o){return!this.chains.some(s=>s.id===o)}setStorage(o){this.storage=o}},ChainNotConfiguredForConnectorError=class extends Error{constructor({chainId:o,connectorId:s}){super(`Chain "${o}" not configured for connector "${s}".`),__publicField(this,"name","ChainNotConfiguredForConnectorError")}},ConnectorNotFoundError=class extends Error{constructor(){super(...arguments),__publicField(this,"name","ConnectorNotFoundError"),__publicField(this,"message","Connector not found")}};function normalizeChainId(o){return typeof o=="string"?Number.parseInt(o,o.trim().substring(0,2)==="0x"?16:10):typeof o=="bigint"?Number(o):o}function formatAbiItem(o,{includeName:s=!1}={}){if(o.type!=="function"&&o.type!=="event"&&o.type!=="error")throw new InvalidDefinitionTypeError(o.type);return`${o.name}(${formatAbiParams(o.inputs,{includeName:s})})`}function formatAbiParams(o,{includeName:s=!1}={}){return o?o.map(c=>formatAbiParam(c,{includeName:s})).join(s?", ":","):""}function formatAbiParam(o,{includeName:s}){return o.type.startsWith("tuple")?`(${formatAbiParams(o.components,{includeName:s})})${o.type.slice(5)}`:o.type+(s&&o.name?` ${o.name}`:"")}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:s}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:s}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:s,params:c,size:d}){super([`Data size of ${d} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(c,{includeName:!0})})`,`Data:   ${s} (${d} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.params=c,this.size=d}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:s,givenLength:c,type:d}){super([`ABI encoding array length mismatch for type ${d}.`,`Expected length: ${s}`,`Given length: ${c}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:s,value:c}){super(`Size of bytes "${c}" (bytes${size$1(c)}) does not match expected size (bytes${s}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:s,givenLength:c}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${s}`,`Given length (values): ${c}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(s,{docsPath:c}){super([`Encoded error signature "${s}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${s}.`].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:s}){super("Cannot extract event signature from empty topics.",{docsPath:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(s,{docsPath:c}){super([`Encoded event signature "${s}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${s}.`].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(s,{docsPath:c}={}){super([`Event ${s?`"${s}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(s,{docsPath:c}={}){super([`Function ${s?`"${s}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(s,{docsPath:c}){super([`Function "${s}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:s,givenSize:c}){super(`Expected bytes${s}, got bytes${c}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({data:s,params:c,size:d}){super([`Data size of ${d} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(c,{includeName:!0})})`,`Data:   ${s} (${d} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.params=c,this.size=d}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:s,param:c}){super([`Expected a topic for indexed event parameter${c.name?` "${c.name}"`:""} on event "${formatAbiItem(s,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class InvalidAbiEncodingTypeError extends BaseError{constructor(s,{docsPath:c}){super([`Type "${s}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(s,{docsPath:c}){super([`Type "${s}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(s){super([`Value "${s}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(s){super([`"${s}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(s){super(`Filter type "${s}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(o){const s=o.match(paramsRegex),c=(s==null?void 0:s[2])||void 0,d=s==null?void 0:s[3],g=(s==null?void 0:s[5])||void 0;return{type:c,name:d,params:g}}function extractFunctionName(o){return extractFunctionParts(o).name}function extractFunctionParams(o){const s=extractFunctionParts(o).params,c=s==null?void 0:s.split(",").map(d=>d.trim().split(" "));return c==null?void 0:c.map(d=>({type:d[0],name:d[1]==="indexed"?d[2]:d[1],...d[1]==="indexed"?{indexed:!0}:{}}))}function number(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`Wrong positive integer: ${o}`)}function bool(o){if(typeof o!="boolean")throw new Error(`Expected boolean, not ${o}`)}function bytes(o,...s){if(!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(s.length>0&&!s.includes(o.length))throw new TypeError(`Expected Uint8Array of length ${s}, not of length=${o.length}`)}function hash$1(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(o.outputLen),number(o.blockLen)}function exists(o,s=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(s&&o.finished)throw new Error("Hash#digest() has already been called")}function output(o,s){bytes(o);const c=s.outputLen;if(o.length<c)throw new Error(`digestInto() expects output buffer of length at least ${c}`)}const assert={number,bool,bytes,hash:hash$1,exists,output},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(o,s=!1){return s?{h:Number(o&U32_MASK64),l:Number(o>>_32n&U32_MASK64)}:{h:Number(o>>_32n&U32_MASK64)|0,l:Number(o&U32_MASK64)|0}}function split(o,s=!1){let c=new Uint32Array(o.length),d=new Uint32Array(o.length);for(let g=0;g<o.length;g++){const{h:b,l:_}=fromBig(o[g],s);[c[g],d[g]]=[b,_]}return[c,d]}const toBig=(o,s)=>BigInt(o>>>0)<<_32n|BigInt(s>>>0),shrSH=(o,s,c)=>o>>>c,shrSL=(o,s,c)=>o<<32-c|s>>>c,rotrSH=(o,s,c)=>o>>>c|s<<32-c,rotrSL=(o,s,c)=>o<<32-c|s>>>c,rotrBH=(o,s,c)=>o<<64-c|s>>>c-32,rotrBL=(o,s,c)=>o>>>c-32|s<<64-c,rotr32H=(o,s)=>s,rotr32L=(o,s)=>o,rotlSH=(o,s,c)=>o<<c|s>>>32-c,rotlSL=(o,s,c)=>s<<c|o>>>32-c,rotlBH=(o,s,c)=>s<<c-32|o>>>64-c,rotlBL=(o,s,c)=>o<<c-32|s>>>64-c;function add(o,s,c,d){const g=(s>>>0)+(d>>>0);return{h:o+c+(g/2**32|0)|0,l:g|0}}const add3L=(o,s,c)=>(o>>>0)+(s>>>0)+(c>>>0),add3H=(o,s,c,d)=>s+c+d+(o/2**32|0)|0,add4L=(o,s,c,d)=>(o>>>0)+(s>>>0)+(c>>>0)+(d>>>0),add4H=(o,s,c,d,g)=>s+c+d+g+(o/2**32|0)|0,add5L=(o,s,c,d,g)=>(o>>>0)+(s>>>0)+(c>>>0)+(d>>>0)+(g>>>0),add5H=(o,s,c,d,g,b)=>s+c+d+g+b+(o/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=o=>new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(o,s)=>s.toString(16).padStart(2,"0"));function utf8ToBytes(o){if(typeof o!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof o}`);return new TextEncoder().encode(o)}function toBytes(o){if(typeof o=="string"&&(o=utf8ToBytes(o)),!(o instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof o})`);return o}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(o){const s=d=>o().update(toBytes(d)).digest(),c=o();return s.outputLen=c.outputLen,s.blockLen=c.blockLen,s.create=()=>o(),s}function wrapConstructorWithOpts(o){const s=(d,g)=>o(g).update(toBytes(d)).digest(),c=o({});return s.outputLen=c.outputLen,s.blockLen=c.blockLen,s.create=d=>o(d),s}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let o=0,s=_1n,c=1,d=0;o<24;o++){[c,d]=[d,(2*c+3*d)%5],SHA3_PI.push(2*(5*d+c)),SHA3_ROTL.push((o+1)*(o+2)/2%64);let g=_0n;for(let b=0;b<7;b++)s=(s<<_1n^(s>>_7n)*_0x71n)%_256n,s&_2n&&(g^=_1n<<(_1n<<BigInt(b))-_1n);_SHA3_IOTA.push(g)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64.split(_SHA3_IOTA,!0),rotlH=(o,s,c)=>c>32?u64.rotlBH(o,s,c):u64.rotlSH(o,s,c),rotlL=(o,s,c)=>c>32?u64.rotlBL(o,s,c):u64.rotlSL(o,s,c);function keccakP(o,s=24){const c=new Uint32Array(10);for(let d=24-s;d<24;d++){for(let _=0;_<10;_++)c[_]=o[_]^o[_+10]^o[_+20]^o[_+30]^o[_+40];for(let _=0;_<10;_+=2){const $=(_+8)%10,j=(_+2)%10,tt=c[j],nt=c[j+1],it=rotlH(tt,nt,1)^c[$],ot=rotlL(tt,nt,1)^c[$+1];for(let ft=0;ft<50;ft+=10)o[_+ft]^=it,o[_+ft+1]^=ot}let g=o[2],b=o[3];for(let _=0;_<24;_++){const $=SHA3_ROTL[_],j=rotlH(g,b,$),tt=rotlL(g,b,$),nt=SHA3_PI[_];g=o[nt],b=o[nt+1],o[nt]=j,o[nt+1]=tt}for(let _=0;_<50;_+=10){for(let $=0;$<10;$++)c[$]=o[_+$];for(let $=0;$<10;$++)o[_+$]^=~c[($+2)%10]&c[($+4)%10]}o[0]^=SHA3_IOTA_H[d],o[1]^=SHA3_IOTA_L[d]}c.fill(0)}class Keccak extends Hash{constructor(s,c,d,g=!1,b=24){if(super(),this.blockLen=s,this.suffix=c,this.outputLen=d,this.enableXOF=g,this.rounds=b,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert.number(d),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(s){assert.exists(this);const{blockLen:c,state:d}=this;s=toBytes(s);const g=s.length;for(let b=0;b<g;){const _=Math.min(c-this.pos,g-b);for(let $=0;$<_;$++)d[this.pos++]^=s[b++];this.pos===c&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:s,suffix:c,pos:d,blockLen:g}=this;s[d]^=c,c&128&&d===g-1&&this.keccak(),s[g-1]^=128,this.keccak()}writeInto(s){assert.exists(this,!1),assert.bytes(s),this.finish();const c=this.state,{blockLen:d}=this;for(let g=0,b=s.length;g<b;){this.posOut>=d&&this.keccak();const _=Math.min(d-this.posOut,b-g);s.set(c.subarray(this.posOut,this.posOut+_),g),this.posOut+=_,g+=_}return s}xofInto(s){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(s)}xof(s){return assert.number(s),this.xofInto(new Uint8Array(s))}digestInto(s){if(assert.output(s,this),this.finished)throw new Error("digest() was already called");return this.writeInto(s),this.destroy(),s}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(s){const{blockLen:c,suffix:d,outputLen:g,rounds:b,enableXOF:_}=this;return s||(s=new Keccak(c,d,g,_,b)),s.state32.set(this.state32),s.pos=this.pos,s.posOut=this.posOut,s.finished=this.finished,s.rounds=b,s.suffix=d,s.outputLen=g,s.enableXOF=_,s.destroyed=this.destroyed,s}}const gen=(o,s,c)=>wrapConstructor(()=>new Keccak(s,o,c));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(o,s,c)=>wrapConstructorWithOpts((d={})=>new Keccak(s,o,d.dkLen===void 0?c:d.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);function keccak256(o,s){const c=s||"hex",d=keccak_256(isHex(o,{strict:!1})?toBytes$1(o):o);return c==="bytes"?d:toHex(d)}const hash=o=>keccak256(toBytes$1(o));function hashFunction(o){const s=extractFunctionName(o),c=extractFunctionParams(o);return!c||c.length===0?hash(o.replace(/ /g,"")):hash(`${s}(${c.map(({type:d})=>d).join(",")})`)}const getEventSelector=o=>hashFunction(o);class InvalidAddressError extends BaseError{constructor({address:s}){super(`Address "${s}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(o){return addressRegex.test(o)}function concat(o){return typeof o[0]=="string"?concatHex(o):concatBytes(o)}function concatBytes(o){let s=0;for(const g of o)s+=g.length;const c=new Uint8Array(s);let d=0;for(const g of o)c.set(g,d),d+=g.length;return c}function concatHex(o){return`0x${o.reduce((s,c)=>s+c.replace("0x",""),"")}`}function slice(o,s,c,{strict:d}={}){return isHex(o,{strict:!1})?sliceHex(o,s,c,{strict:d}):sliceBytes(o,s,c,{strict:d})}function assertStartOffset(o,s){if(typeof s=="number"&&s>0&&s>size$1(o)-1)throw new SliceOffsetOutOfBoundsError({offset:s,position:"start",size:size$1(o)})}function assertEndOffset(o,s,c){if(typeof s=="number"&&typeof c=="number"&&size$1(o)!==c-s)throw new SliceOffsetOutOfBoundsError({offset:c,position:"end",size:size$1(o)})}function sliceBytes(o,s,c,{strict:d}={}){assertStartOffset(o,s);const g=o.slice(s,c);return d&&assertEndOffset(g,s,c),g}function sliceHex(o,s,c,{strict:d}={}){assertStartOffset(o,s);const g=`0x${o.replace("0x","").slice((s??0)*2,(c??o.length)*2)}`;return d&&assertEndOffset(g,s,c),g}function encodeAbiParameters(o,s){if(o.length!==s.length)throw new AbiEncodingLengthMismatchError({expectedLength:o.length,givenLength:s.length});const c=prepareParams({params:o,values:s}),d=encodeParams(c);return d.length===0?"0x":d}function prepareParams({params:o,values:s}){const c=[];for(let d=0;d<o.length;d++)c.push(prepareParam({param:o[d],value:s[d]}));return c}function prepareParam({param:o,value:s}){const c=getArrayComponents(o.type);if(c){const[d,g]=c;return encodeArray(s,{length:d,param:{...o,type:g}})}if(o.type==="tuple")return encodeTuple(s,{param:o});if(o.type==="address")return encodeAddress(s);if(o.type==="bool")return encodeBool(s);if(o.type.startsWith("uint")||o.type.startsWith("int")){const d=o.type.startsWith("int");return encodeNumber(s,{signed:d})}if(o.type.startsWith("bytes"))return encodeBytes(s,{param:o});if(o.type==="string")return encodeString(s);throw new InvalidAbiEncodingTypeError(o.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(o){let s=0;for(let b=0;b<o.length;b++){const{dynamic:_,encoded:$}=o[b];_?s+=32:s+=size$1($)}const c=[],d=[];let g=0;for(let b=0;b<o.length;b++){const{dynamic:_,encoded:$}=o[b];_?(c.push(numberToHex(s+g,{size:32})),d.push($),g+=size$1($)):c.push($)}return concat([...c,...d])}function encodeAddress(o){if(!isAddress(o))throw new InvalidAddressError({address:o});return{dynamic:!1,encoded:padHex(o.toLowerCase())}}function encodeArray(o,{length:s,param:c}){const d=s===null;if(!Array.isArray(o))throw new InvalidArrayError(o);if(!d&&o.length!==s)throw new AbiEncodingArrayLengthMismatchError({expectedLength:s,givenLength:o.length,type:`${c.type}[${s}]`});let g=!1;const b=[];for(let _=0;_<o.length;_++){const $=prepareParam({param:c,value:o[_]});$.dynamic&&(g=!0),b.push($)}if(d||g){const _=encodeParams(b);if(d){const $=numberToHex(b.length,{size:32});return{dynamic:!0,encoded:b.length>0?concat([$,_]):$}}if(g)return{dynamic:!0,encoded:_}}return{dynamic:!1,encoded:concat(b.map(({encoded:_})=>_))}}function encodeBytes(o,{param:s}){const[c,d]=s.type.split("bytes");if(!d){const g=Math.ceil(size$1(o)/32),b=[];for(let _=0;_<g;_++)b.push(padHex(slice(o,_*32,(_+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(o),{size:32})),...b])}}if(size$1(o)!==parseInt(d))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(d),value:o});return{dynamic:!1,encoded:padHex(o,{dir:"right"})}}function encodeBool(o){return{dynamic:!1,encoded:padHex(boolToHex(o))}}function encodeNumber(o,{signed:s}){return{dynamic:!1,encoded:numberToHex(o,{size:32,signed:s})}}function encodeString(o){const s=stringToHex(o),c=Math.ceil(size$1(s)/32),d=[];for(let g=0;g<c;g++)d.push(padHex(slice(s,g*32,(g+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(s),{size:32})),...d])}}function encodeTuple(o,{param:s}){let c=!1;const d=[];for(let g=0;g<s.components.length;g++){const b=s.components[g],_=Array.isArray(o)?g:b.name,$=prepareParam({param:b,value:o[_]});d.push($),$.dynamic&&(c=!0)}return{dynamic:c,encoded:c?encodeParams(d):concat(d.map(({encoded:g})=>g))}}function getArrayComponents(o){const s=o.match(/^(.*)\[(\d+)?\]$/);return s?[s[2]?Number(s[2]):null,s[1]]:void 0}function getAbiItem({abi:o,args:s=[],name:c}){const d=o.filter(g=>"name"in g&&g.name===c);if(d.length!==0){if(d.length===1)return d[0];for(const g of d){if(!("inputs"in g))continue;if(!s||s.length===0){if(!g.inputs||g.inputs.length===0)return g;continue}if(!g.inputs||g.inputs.length===0)continue;if(s.every((_,$)=>{const j="inputs"in g&&g.inputs[$];return j?isArgOfType(_,j):!1}))return g}return d[0]}}function isArgOfType(o,s){const c=typeof o,d=s.type;switch(d){case"address":return isAddress(o);case"bool":return c==="boolean";case"function":return c==="string";case"string":return c==="string";default:return d==="tuple"&&"components"in s?Object.values(s.components).every((g,b)=>isArgOfType(Object.values(o)[b],g)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(d)?c==="number"||c==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(d)?c==="string"||o instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(d)?Array.isArray(o)&&o.every(g=>isArgOfType(g,{...s,type:d.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:o,eventName:s,args:c}){var $;let d=o[0];if(s&&(d=getAbiItem({abi:o,args:c,name:s}),!d))throw new AbiEventNotFoundError(s,{docsPath:"/docs/contract/encodeEventTopics"});if(d.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const g=formatAbiItem(d),b=getEventSelector(g);let _=[];if(c&&"inputs"in d){const j=($=d.inputs)==null?void 0:$.filter(nt=>"indexed"in nt&&nt.indexed),tt=Array.isArray(c)?c:(j==null?void 0:j.map(nt=>c[nt.name]))??[];_=(j==null?void 0:j.map((nt,it)=>Array.isArray(tt[it])?tt[it].map((ot,ft)=>encodeArg({param:nt,value:tt[it][ft]})):tt[it]?encodeArg({param:nt,value:tt[it]}):null))??[]}return[b,..._]}function encodeArg({param:o,value:s}){if(o.type==="string"||o.type==="bytes")return keccak256(toBytes$1(s));if(o.type==="tuple"||o.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(o.type);return encodeAbiParameters([o],[s])}function createFilterRequestScope(o,{method:s}){var d,g;const c={};return o.transport.type==="fallback"&&((g=(d=o.transport).onResponse)==null||g.call(d,({method:b,response:_,status:$,transport:j})=>{$==="success"&&s===b&&(c[_]=j.request)})),b=>c[b]||o.request}async function createContractEventFilter(o,{address:s,abi:c,args:d,eventName:g,fromBlock:b,toBlock:_}){const $=createFilterRequestScope(o,{method:"eth_newFilter"}),j=g?encodeEventTopics({abi:c,args:d,eventName:g}):void 0,tt=await o.request({method:"eth_newFilter",params:[{address:s,fromBlock:typeof b=="bigint"?numberToHex(b):b,toBlock:typeof _=="bigint"?numberToHex(_):_,topics:j}]});return{abi:c,args:d,eventName:g,id:tt,request:$(tt),type:"event"}}function parseAccount(o){return typeof o=="string"?{address:o,type:"json-rpc"}:o}const getFunctionSelector=o=>slice(hashFunction(o),0,4);function encodeFunctionData({abi:o,args:s,functionName:c}){let d=o[0];if(c&&(d=getAbiItem({abi:o,args:s,name:c}),!d))throw new AbiFunctionNotFoundError(c,{docsPath:"/docs/contract/encodeFunctionData"});if(d.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const g=formatAbiItem(d),b=getFunctionSelector(g),_="inputs"in d&&d.inputs?encodeAbiParameters(d.inputs,s??[]):void 0;return concatHex([b,_??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(o,s){const c=s?`${s}${o.toLowerCase()}`:o.substring(2).toLowerCase(),d=keccak256(stringToBytes(c),"bytes"),g=(s?c.substring(`${s}0x`.length):c).split("");for(let b=0;b<40;b+=2)d[b>>1]>>4>=8&&g[b]&&(g[b]=g[b].toUpperCase()),(d[b>>1]&15)>=8&&g[b+1]&&(g[b+1]=g[b+1].toUpperCase());return`0x${g.join("")}`}function getAddress(o,s){if(!isAddress(o))throw new InvalidAddressError({address:o});return checksumAddress(o,s)}function decodeAbiParameters(o,s){if(s==="0x"&&o.length>0)throw new AbiDecodingZeroDataError;if(size$1(s)&&size$1(s)<32)throw new AbiDecodingDataSizeTooSmallError({data:s,params:o,size:size$1(s)});return decodeParams({data:s,params:o})}function decodeParams({data:o,params:s}){const c=[];let d=0;for(let g=0;g<s.length;g++){if(d>=size$1(o))throw new AbiDecodingDataSizeTooSmallError({data:o,params:s,size:size$1(o)});const b=s[g],{consumed:_,value:$}=decodeParam({data:o,param:b,position:d});c.push($),d+=_}return c}function decodeParam({data:o,param:s,position:c}){const d=getArrayComponents(s.type);if(d){const[b,_]=d;return decodeArray(o,{length:b,param:{...s,type:_},position:c})}if(s.type==="tuple")return decodeTuple(o,{param:s,position:c});if(s.type==="string")return decodeString(o,{position:c});if(s.type.startsWith("bytes"))return decodeBytes(o,{param:s,position:c});const g=slice(o,c,c+32,{strict:!0});if(s.type.startsWith("uint")||s.type.startsWith("int"))return decodeNumber(g,{param:s});if(s.type==="address")return decodeAddress(g);if(s.type==="bool")return decodeBool(g);throw new InvalidAbiDecodingTypeError(s.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(o){return{consumed:32,value:checksumAddress(slice(o,-20))}}function decodeArray(o,{param:s,length:c,position:d}){if(!c){const _=hexToNumber(slice(o,d,d+32,{strict:!0})),$=hexToNumber(slice(o,_,_+32,{strict:!0}));let j=0;const tt=[];for(let nt=0;nt<$;++nt){const it=decodeParam({data:slice(o,_+32),param:s,position:j});j+=it.consumed,tt.push(it.value)}return{value:tt,consumed:32}}if(hasDynamicChild(s)){const _=getArrayComponents(s.type),$=!(_!=null&&_[0]);let j=0;const tt=[];for(let nt=0;nt<c;++nt){const it=hexToNumber(slice(o,d,d+32,{strict:!0})),ot=decodeParam({data:slice(o,it),param:s,position:$?j:nt*32});j+=ot.consumed,tt.push(ot.value)}return{value:tt,consumed:32}}let g=0;const b=[];for(let _=0;_<c;++_){const $=decodeParam({data:o,param:s,position:d+g});g+=$.consumed,b.push($.value)}return{value:b,consumed:g}}function decodeBool(o){return{consumed:32,value:hexToBool(o)}}function decodeBytes(o,{param:s,position:c}){const[d,g]=s.type.split("bytes");if(!g){const _=hexToNumber(slice(o,c,c+32,{strict:!0})),$=hexToNumber(slice(o,_,_+32,{strict:!0}));return $===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(o,_+32,_+32+$,{strict:!0})}}return{consumed:32,value:slice(o,c,c+parseInt(g),{strict:!0})}}function decodeNumber(o,{param:s}){const c=s.type.startsWith("int");return{consumed:32,value:parseInt(s.type.split("int")[1]||"256")>48?hexToBigInt(o,{signed:c}):hexToNumber(o,{signed:c})}}function decodeString(o,{position:s}){const c=hexToNumber(slice(o,s,s+32,{strict:!0})),d=hexToNumber(slice(o,c,c+32,{strict:!0}));return d===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(o,c+32,c+32+d,{strict:!0})))}}function decodeTuple(o,{param:s,position:c}){const d=s.components.length===0||s.components.some(({name:_})=>!_),g=d?[]:{};let b=0;if(hasDynamicChild(s)){const _=hexToNumber(slice(o,c,c+32,{strict:!0}));for(let $=0;$<s.components.length;++$){const j=s.components[$],tt=decodeParam({data:slice(o,_),param:j,position:b});b+=tt.consumed,g[d?$:j==null?void 0:j.name]=tt.value}return{consumed:32,value:g}}for(let _=0;_<s.components.length;++_){const $=s.components[_],j=decodeParam({data:o,param:$,position:c+b});b+=j.consumed,g[d?_:$==null?void 0:$.name]=j.value}return{consumed:b,value:g}}function hasDynamicChild(o){var d;const{type:s}=o;if(s==="string"||s==="bytes"||s.endsWith("[]"))return!0;if(s==="tuple")return(d=o.components)==null?void 0:d.some(hasDynamicChild);const c=getArrayComponents(o.type);return!!(c&&hasDynamicChild({...o,type:c[1]}))}function decodeErrorResult({abi:o,data:s}){const c=slice(s,0,4);if(c==="0x")throw new AbiDecodingZeroDataError;const g=[...o||[],solidityError,solidityPanic].find(b=>b.type==="error"&&c===getFunctionSelector(formatAbiItem(b)));if(!g)throw new AbiErrorSignatureNotFoundError(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:g,args:"inputs"in g&&g.inputs&&g.inputs.length>0?decodeAbiParameters(g.inputs,slice(s,4)):void 0,errorName:g.name}}const stringify=(o,s,c)=>JSON.stringify(o,(d,g)=>{const b=typeof g=="bigint"?g.toString():g;return typeof s=="function"?s(d,b):b},c);function formatAbiItemWithArgs({abiItem:o,args:s,includeFunctionName:c=!0,includeName:d=!1}){if("name"in o&&"inputs"in o&&o.inputs)return`${c?o.name:""}(${o.inputs.map((g,b)=>`${d&&g.name?`${g.name}: `:""}${typeof s[b]=="object"?stringify(s[b]):s[b]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(o,s){let c=o.toString();const d=c.startsWith("-");d&&(c=c.slice(1)),c=c.padStart(s,"0");let[g,b]=[c.slice(0,c.length-s),c.slice(c.length-s)];return b=b.replace(/(0+)$/,""),`${d?"-":""}${g||"0"}${b?`.${b}`:""}`}function formatEther(o,s="wei"){return formatUnits(o,etherUnits[s])}function formatGwei(o,s="wei"){return formatUnits(o,gweiUnits[s])}function prettyPrint(o){const s=Object.entries(o).map(([d,g])=>g===void 0||g===!1?null:[d,g]).filter(Boolean),c=s.reduce((d,[g])=>Math.max(d,g.length),0);return s.map(([d,g])=>`  ${`${d}:`.padEnd(c+1)}  ${g}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class TransactionExecutionError extends BaseError{constructor(s,{account:c,docsPath:d,chain:g,data:b,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot}){const ft=prettyPrint({chain:g&&`${g==null?void 0:g.name} (id: ${g==null?void 0:g.id})`,from:c==null?void 0:c.address,to:it,value:typeof ot<"u"&&`${formatEther(ot)} ${(g==null?void 0:g.nativeCurrency.symbol)||"ETH"}`,data:b,gas:_,gasPrice:typeof $<"u"&&`${formatGwei($)} gwei`,maxFeePerGas:typeof j<"u"&&`${formatGwei(j)} gwei`,maxPriorityFeePerGas:typeof tt<"u"&&`${formatGwei(tt)} gwei`,nonce:nt});super(s.shortMessage,{cause:s,docsPath:d,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Request Arguments:",ft].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=s}}class TransactionNotFoundError extends BaseError{constructor({blockHash:s,blockNumber:c,blockTag:d,hash:g,index:b}){let _="Transaction";d&&b!==void 0&&(_=`Transaction at block time "${d}" at index "${b}"`),s&&b!==void 0&&(_=`Transaction at block hash "${s}" at index "${b}"`),c&&b!==void 0&&(_=`Transaction at block number "${c}" at index "${b}"`),g&&(_=`Transaction with hash "${g}"`),super(`${_} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:s}){super(`Transaction receipt with hash "${s}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:s}){super(`Timed out while waiting for transaction with hash "${s}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(s,{account:c,docsPath:d,chain:g,data:b,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot}){const ft=c?parseAccount(c):void 0,yt=prettyPrint({from:ft==null?void 0:ft.address,to:it,value:typeof ot<"u"&&`${formatEther(ot)} ${(g==null?void 0:g.nativeCurrency.symbol)||"ETH"}`,data:b,gas:_,gasPrice:typeof $<"u"&&`${formatGwei($)} gwei`,maxFeePerGas:typeof j<"u"&&`${formatGwei(j)} gwei`,maxPriorityFeePerGas:typeof tt<"u"&&`${formatGwei(tt)} gwei`,nonce:nt});super(s.shortMessage,{cause:s,docsPath:d,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Raw Call Arguments:",yt].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=s}}class ContractFunctionExecutionError extends BaseError{constructor(s,{abi:c,args:d,contractAddress:g,docsPath:b,functionName:_,sender:$}){const j=getAbiItem({abi:c,args:d,name:_}),tt=j?formatAbiItemWithArgs({abiItem:j,args:d,includeFunctionName:!1,includeName:!1}):void 0,nt=j?formatAbiItem(j,{includeName:!0}):void 0,it=prettyPrint({address:g&&getContractAddress(g),function:nt,args:tt&&tt!=="()"&&`${[...Array((_==null?void 0:_.length)??0).keys()].map(()=>" ").join("")}${tt}`,sender:$});super(s.shortMessage||`An unknown error occurred while executing the contract function "${_}".`,{cause:s,docsPath:b,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Contract Call:",it].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=c,this.args=d,this.cause=s,this.contractAddress=g,this.functionName=_,this.sender=$}}class ContractFunctionRevertedError extends BaseError{constructor({abi:s,data:c,functionName:d,message:g}){let b,_,$;if(c&&c!=="0x"){b=decodeErrorResult({abi:s,data:c});const{abiItem:j,errorName:tt,args:nt}=b;if(tt==="Error")$=nt[0];else if(tt==="Panic"){const[it]=nt;$=panicReasons[it]}else{const it=j?formatAbiItem(j,{includeName:!0}):void 0,ot=j&&nt?formatAbiItemWithArgs({abiItem:j,args:nt,includeFunctionName:!1,includeName:!1}):void 0;_=[it?`Error: ${it}`:"",ot&&ot!=="()"?`       ${[...Array((tt==null?void 0:tt.length)??0).keys()].map(()=>" ").join("")}${ot}`:""]}}else g&&($=g);super($&&$!=="execution reverted"?[`The contract function "${d}" reverted with the following reason:`,$].join(`
`):`The contract function "${d}" reverted.`,{metaMessages:_}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=$,this.data=b}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:s}){super(`The contract function "${s}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${s}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:s,message:c}){super(c||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(o,{abi:s,address:c,args:d,docsPath:g,functionName:b,sender:_}){const{code:$,data:j,message:tt,shortMessage:nt}=o instanceof RawContractError?o:o instanceof BaseError?o.walk(ot=>"data"in ot):{};let it=o;return o instanceof AbiDecodingZeroDataError?it=new ContractFunctionZeroDataError({functionName:b}):$===EXECUTION_REVERTED_ERROR_CODE&&(j||tt||nt)&&(it=new ContractFunctionRevertedError({abi:s,data:typeof j=="object"?j.data:j,functionName:b,message:nt??tt})),new ContractFunctionExecutionError(it,{abi:s,args:d,contractAddress:c,docsPath:g,functionName:b,sender:_})}class AccountNotFoundError extends BaseError{constructor({docsPath:s}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:s,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(s,{account:c,docsPath:d,chain:g,data:b,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot}){const ft=prettyPrint({from:c==null?void 0:c.address,to:it,value:typeof ot<"u"&&`${formatEther(ot)} ${(g==null?void 0:g.nativeCurrency.symbol)||"ETH"}`,data:b,gas:_,gasPrice:typeof $<"u"&&`${formatGwei($)} gwei`,maxFeePerGas:typeof j<"u"&&`${formatGwei(j)} gwei`,maxPriorityFeePerGas:typeof tt<"u"&&`${formatGwei(tt)} gwei`,nonce:nt});super(s.shortMessage,{cause:s,docsPath:d,metaMessages:[...s.metaMessages?[...s.metaMessages," "]:[],"Estimate Gas Arguments:",ft].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=s}}class ExecutionRevertedError extends BaseError{constructor({cause:s,message:c}={}){var g;const d=(g=c==null?void 0:c.replace("execution reverted: ",""))==null?void 0:g.replace("execution reverted","");super(`Execution reverted ${d?`with reason: ${d}`:"for an unknown reason"}.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:s,maxFeePerGas:c}={}){super(`The fee cap (\`maxFeePerGas\`${c?` = ${formatGwei(c)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:s,maxFeePerGas:c}={}){super(`The fee cap (\`maxFeePerGas\`${c?` = ${formatGwei(c)}`:""} gwei) cannot be lower than the block base fee.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:s,nonce:c}={}){super(`Nonce provided for the transaction ${c?`(${c}) `:""}is higher than the next one expected.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:s,nonce:c}={}){super([`Nonce provided for the transaction ${c?`(${c}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class NonceMaxValueError extends BaseError{constructor({cause:s,nonce:c}={}){super(`Nonce provided for the transaction ${c?`(${c}) `:""}exceeds the maximum allowed nonce.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:s}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:s,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:s,gas:c}={}){super(`The amount of gas ${c?`(${c}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:s,gas:c}={}){super(`The amount of gas ${c?`(${c}) `:""}provided for the transaction is too low.`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:s}){super("The transaction type is not supported for this chain.",{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:s,maxPriorityFeePerGas:c,maxFeePerGas:d}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${c?` = ${formatGwei(c)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${d?` = ${formatGwei(d)} gwei`:""}).`].join(`
`),{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:s}){super(`An error occurred while executing: ${s==null?void 0:s.message}`,{cause:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class HttpRequestError extends BaseError{constructor({body:s,details:c,headers:d,status:g,url:b}){super("HTTP request failed.",{details:c,metaMessages:[g&&`Status: ${g}`,`URL: ${getUrl(b)}`,s&&`Request body: ${stringify(s)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=s,this.headers=d,this.status=g,this.url=b}}class WebSocketRequestError extends BaseError{constructor({body:s,details:c,url:d}){super("WebSocket request failed.",{details:c,metaMessages:[`URL: ${getUrl(d)}`,`Request body: ${stringify(s)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:s,error:c,url:d}){super("RPC Request failed.",{cause:c,details:c.message,metaMessages:[`URL: ${getUrl(d)}`,`Request body: ${stringify(s)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=c.code}}class TimeoutError extends BaseError{constructor({body:s,url:c}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(c)}`,`Request body: ${stringify(s)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(s,{code:c,docsPath:d,metaMessages:g,shortMessage:b}){super(b,{cause:s,docsPath:d,metaMessages:g||(s==null?void 0:s.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s.name,this.code=s instanceof RpcRequestError?s.code:c??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(s,c){super(s,c),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c.data}}class ParseRpcError extends RpcError{constructor(s){super(s,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class InvalidRequestRpcError extends RpcError{constructor(s){super(s,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class MethodNotFoundRpcError extends RpcError{constructor(s){super(s,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class InvalidParamsRpcError extends RpcError{constructor(s){super(s,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class InternalRpcError extends RpcError{constructor(s){super(s,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class InvalidInputRpcError extends RpcError{constructor(s){super(s,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class ResourceNotFoundRpcError extends RpcError{constructor(s){super(s,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class ResourceUnavailableRpcError extends RpcError{constructor(s){super(s,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class TransactionRejectedRpcError extends RpcError{constructor(s){super(s,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class MethodNotSupportedRpcError extends RpcError{constructor(s){super(s,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class LimitExceededRpcError extends RpcError{constructor(s){super(s,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class JsonRpcVersionUnsupportedError extends RpcError{constructor(s){super(s,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class UserRejectedRequestError extends ProviderRpcError{constructor(s){super(s,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class UnauthorizedProviderError extends ProviderRpcError{constructor(s){super(s,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class UnsupportedProviderMethodError extends ProviderRpcError{constructor(s){super(s,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class ProviderDisconnectedError extends ProviderRpcError{constructor(s){super(s,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class ChainDisconnectedError extends ProviderRpcError{constructor(s){super(s,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class SwitchChainError extends ProviderRpcError{constructor(s){super(s,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class UnknownRpcError extends RpcError{constructor(s){super(s,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function containsNodeError(o){return o instanceof TransactionRejectedRpcError||o instanceof InvalidInputRpcError||o instanceof RpcRequestError&&o.code===ExecutionRevertedError.code}function getNodeError(o,s){var d;const c=o.details.toLowerCase();return FeeCapTooHighError.nodeMessage.test(c)?new FeeCapTooHighError({cause:o,maxFeePerGas:s==null?void 0:s.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(c)?new FeeCapTooLowError({cause:o,maxFeePerGas:s==null?void 0:s.maxFeePerGas}):NonceTooHighError.nodeMessage.test(c)?new NonceTooHighError({cause:o,nonce:s==null?void 0:s.nonce}):NonceTooLowError.nodeMessage.test(c)?new NonceTooLowError({cause:o,nonce:s==null?void 0:s.nonce}):NonceMaxValueError.nodeMessage.test(c)?new NonceMaxValueError({cause:o,nonce:s==null?void 0:s.nonce}):InsufficientFundsError.nodeMessage.test(c)?new InsufficientFundsError({cause:o}):IntrinsicGasTooHighError.nodeMessage.test(c)?new IntrinsicGasTooHighError({cause:o,gas:s==null?void 0:s.gas}):IntrinsicGasTooLowError.nodeMessage.test(c)?new IntrinsicGasTooLowError({cause:o,gas:s==null?void 0:s.gas}):TransactionTypeNotSupportedError.nodeMessage.test(c)?new TransactionTypeNotSupportedError({cause:o}):TipAboveFeeCapError.nodeMessage.test(c)?new TipAboveFeeCapError({cause:o,maxFeePerGas:s==null?void 0:s.maxFeePerGas,maxPriorityFeePerGas:s==null?void 0:s.maxPriorityFeePerGas}):c.match(ExecutionRevertedError.nodeMessage)||"code"in o.cause&&((d=o.cause)==null?void 0:d.code)===ExecutionRevertedError.code?new ExecutionRevertedError({cause:o,message:o.cause.details||o.details}):new UnknownNodeError({cause:o.cause.cause})}function getEstimateGasError(o,{docsPath:s,...c}){let d=o;return containsNodeError(o)&&(d=getNodeError(o,c)),new EstimateGasExecutionError(d,{docsPath:s,...c})}function extract(o,{formatter:s}){return s?Object.keys(s({})).reduce((d,g)=>(o!=null&&o.hasOwnProperty(g)&&(d[g]=o[g]),d),{}):{}}function assertRequest(o){const{account:s,gasPrice:c,maxFeePerGas:d,maxPriorityFeePerGas:g,to:b}=o,_=s?parseAccount(s):void 0;if(_&&!isAddress(_.address))throw new InvalidAddressError({address:_.address});if(b&&!isAddress(b))throw new InvalidAddressError({address:b});if(typeof c<"u"&&(typeof d<"u"||typeof g<"u"))throw new FeeConflictError;if(d&&d>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:d});if(g&&d&&g>d)throw new TipAboveFeeCapError({maxFeePerGas:d,maxPriorityFeePerGas:g})}class BlockNotFoundError extends BaseError{constructor({blockHash:s,blockNumber:c}){let d="Block";s&&(d=`Block at hash "${s}"`),c&&(d=`Block at number "${c}"`),super(`${d} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function getBlock(o,{blockHash:s,blockNumber:c,blockTag:d="latest",includeTransactions:g=!1}={}){var $,j;const b=c!==void 0?numberToHex(c):void 0;let _=null;if(s?_=await o.request({method:"eth_getBlockByHash",params:[s,g]}):_=await o.request({method:"eth_getBlockByNumber",params:[b||d,g]}),!_)throw new BlockNotFoundError({blockHash:s,blockNumber:c});return format(_,{formatter:((j=($=o.chain)==null?void 0:$.formatters)==null?void 0:j.block)||formatBlock})}async function getGasPrice(o){const s=await o.request({method:"eth_gasPrice"});return BigInt(s)}async function getTransactionCount(o,{address:s,blockTag:c="latest",blockNumber:d}){const g=await o.request({method:"eth_getTransactionCount",params:[s,d?numberToHex(d):c]});return hexToNumber(g)}const defaultTip=1500000000n;async function prepareRequest(o,s){const{account:c,gas:d,gasPrice:g,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:$}=s;if(!c)throw new AccountNotFoundError;const j=parseAccount(c),tt=await getBlock(o,{blockTag:"latest"}),nt={...s,from:j.address};if(typeof $>"u"&&(nt.nonce=await getTransactionCount(o,{address:j.address,blockTag:"pending"})),tt.baseFeePerGas){if(typeof g<"u")throw new BaseError("Chain does not support legacy `gasPrice`.");if(typeof b>"u")nt.maxPriorityFeePerGas=_??defaultTip,nt.maxFeePerGas=tt.baseFeePerGas*120n/100n+nt.maxPriorityFeePerGas;else{if(typeof _>"u"&&b<defaultTip)throw new BaseError("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");nt.maxFeePerGas=b,nt.maxPriorityFeePerGas=_??defaultTip}}else{if(typeof b<"u"||typeof _<"u")throw new BaseError("Chain does not support EIP-1559 fees.");typeof g>"u"&&(nt.gasPrice=await getGasPrice(o)*120n/100n)}return typeof d>"u"&&(nt.gas=await estimateGas(o,{...nt,account:{address:j.address,type:"json-rpc"}})),assertRequest(nt),nt}async function estimateGas(o,s){var g,b;const c=s.account??o.account;if(!c)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const d=parseAccount(c);try{const{accessList:_,blockNumber:$,blockTag:j,data:tt,gas:nt,gasPrice:it,maxFeePerGas:ot,maxPriorityFeePerGas:ft,nonce:yt,to:xt,value:kt,...mt}=d.type==="local"?await prepareRequest(o,s):s,wt=($?numberToHex($):void 0)||j;assertRequest(s);const Ht=(b=(g=o.chain)==null?void 0:g.formatters)==null?void 0:b.transactionRequest,Vt=format({from:d.address,accessList:_,data:tt,gas:nt,gasPrice:it,maxFeePerGas:ot,maxPriorityFeePerGas:ft,nonce:yt,to:xt,value:kt,...extract(mt,{formatter:Ht})},{formatter:Ht||formatTransactionRequest}),St=await o.request({method:"eth_estimateGas",params:wt?[Vt,wt]:[Vt]});return BigInt(St)}catch(_){throw getEstimateGasError(_,{...s,account:d,chain:o.chain})}}async function estimateContractGas(o,{abi:s,address:c,args:d,functionName:g,...b}){const _=parseAccount(b.account),$=encodeFunctionData({abi:s,args:d,functionName:g});try{return await estimateGas(o,{data:$,to:c,...b})}catch(j){throw getContractError(j,{abi:s,address:c,args:d,docsPath:"/docs/contract/simulateContract",functionName:g,sender:_==null?void 0:_.address})}}const docsPath$2="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:o,args:s,functionName:c,data:d}){let g=o[0];if(c&&(g=getAbiItem({abi:o,args:s,name:c}),!g))throw new AbiFunctionNotFoundError(c,{docsPath:docsPath$2});if(g.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});if(!g.outputs)throw new AbiFunctionOutputsNotFoundError(g.name,{docsPath:docsPath$2});const b=decodeAbiParameters(g.outputs,d);if(b&&b.length>1)return b;if(b&&b.length===1)return b[0]}const scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function(s,c,d){if(!c||c.length===0)return s();const g=document.getElementsByTagName("link");return Promise.all(c.map(b=>{if(b=assetsURL(b),b in seen)return;seen[b]=!0;const _=b.endsWith(".css"),$=_?'[rel="stylesheet"]':"";if(!!d)for(let nt=g.length-1;nt>=0;nt--){const it=g[nt];if(it.href===b&&(!_||it.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${$}`))return;const tt=document.createElement("link");if(tt.rel=_?"stylesheet":scriptRel,_||(tt.as="script",tt.crossOrigin=""),tt.href=b,document.head.appendChild(tt),_)return new Promise((nt,it)=>{tt.addEventListener("load",nt),tt.addEventListener("error",()=>it(new Error(`Unable to preload CSS for ${b}`)))})})).then(()=>s()).catch(b=>{const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=b,window.dispatchEvent(_),!_.defaultPrevented)throw b})},multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverAbi=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],singleAddressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";function getCallError(o,{docsPath:s,...c}){let d=o;return containsNodeError(o)&&(d=getNodeError(o,c)),new CallExecutionError(d,{docsPath:s,...c})}const schedulerCache=new Map;function createBatchScheduler({fn:o,id:s,shouldSplitBatch:c,wait:d=0}){const g=async()=>{const tt=$();b();const nt=tt.map(({args:it})=>it);nt.length!==0&&o(nt).then(it=>{tt.forEach(({pendingPromise:ot},ft)=>{var yt;return(yt=ot.resolve)==null?void 0:yt.call(ot,[it[ft],it])})}).catch(it=>{tt.forEach(({pendingPromise:ot})=>{var ft;return(ft=ot.reject)==null?void 0:ft.call(ot,it)})})},b=()=>schedulerCache.delete(s),_=()=>$().map(({args:tt})=>tt),$=()=>schedulerCache.get(s)||[],j=tt=>schedulerCache.set(s,[...$(),tt]);return{flush:b,async schedule(tt){const nt={},it=new Promise((yt,xt)=>{nt.resolve=yt,nt.reject=xt});return(c==null?void 0:c([..._(),tt]))&&g(),$().length>0?(j({args:tt,pendingPromise:nt}),it):(j({args:tt,pendingPromise:nt}),setTimeout(g,d),it)}}}async function call(o,s){var mt,st,wt;const{account:c,batch:d=!!((mt=o.batch)!=null&&mt.multicall),blockNumber:g,blockTag:b="latest",accessList:_,data:$,gas:j,gasPrice:tt,maxFeePerGas:nt,maxPriorityFeePerGas:it,nonce:ot,to:ft,value:yt,...xt}=s,kt=c?parseAccount(c):void 0;try{assertRequest(s);const Vt=(g?numberToHex(g):void 0)||b,St=(wt=(st=o.chain)==null?void 0:st.formatters)==null?void 0:wt.transactionRequest,gt=format({from:kt==null?void 0:kt.address,accessList:_,data:$,gas:j,gasPrice:tt,maxFeePerGas:nt,maxPriorityFeePerGas:it,nonce:ot,to:ft,value:yt,...extract(xt,{formatter:St})},{formatter:St||formatTransactionRequest});if(d&&shouldPerformMulticall({request:gt}))try{return await scheduleMulticall(o,{...gt,blockNumber:g,blockTag:b})}catch(Ot){if(!(Ot instanceof ClientChainNotConfiguredError)&&!(Ot instanceof ChainDoesNotSupportContract))throw Ot}const Lt=await o.request({method:"eth_call",params:Vt?[gt,Vt]:[gt]});return Lt==="0x"?{data:void 0}:{data:Lt}}catch(Ht){const Vt=getRevertErrorData(Ht),{offchainLookup:St,offchainLookupSignature:gt}=await __vitePreload(()=>import("./ccip-80941385.js"),[]);if((Vt==null?void 0:Vt.slice(0,10))===gt&&ft)return{data:await St(o,{data:Vt,to:ft})};throw getCallError(Ht,{...s,account:kt,chain:o.chain})}}function shouldPerformMulticall({request:o}){const{data:s,to:c,...d}=o;return!(!s||s.startsWith(aggregate3Signature)||!c||Object.values(d).filter(g=>typeof g<"u").length>0)}async function scheduleMulticall(o,s){var xt,kt;const{batchSize:c=1024,wait:d=0}=typeof((xt=o.batch)==null?void 0:xt.multicall)=="object"?(kt=o.batch)==null?void 0:kt.multicall:{},{blockNumber:g,blockTag:b="latest",data:_,multicallAddress:$,to:j}=s;let tt=$;if(!tt){if(!o.chain)throw new ClientChainNotConfiguredError;tt=getChainContractAddress({blockNumber:g,chain:o.chain,contract:"multicall3"})}const it=(g?numberToHex(g):void 0)||b,{schedule:ot}=createBatchScheduler({id:`${o.uid}.${it}`,wait:d,shouldSplitBatch(mt){return mt.reduce((wt,{data:Ht})=>wt+(Ht.length-2),0)>c*2},fn:async mt=>{const st=mt.map(Vt=>({allowFailure:!0,callData:Vt.data,target:Vt.to})),wt=encodeFunctionData({abi:multicall3Abi,args:[st],functionName:"aggregate3"}),Ht=await o.request({method:"eth_call",params:[{data:wt,to:tt},it]});return decodeFunctionResult({abi:multicall3Abi,args:[st],functionName:"aggregate3",data:Ht||"0x"})}}),[{returnData:ft,success:yt}]=await ot({data:_,to:j});if(!yt)throw new RawContractError({data:ft});return ft==="0x"?{data:void 0}:{data:ft}}function getRevertErrorData(o){if(!(o instanceof BaseError))return;const s=o.walk();return typeof s.data=="object"?s.data.data:s.data}async function readContract(o,{abi:s,address:c,args:d,functionName:g,...b}){const _=encodeFunctionData({abi:s,args:d,functionName:g});try{const{data:$}=await call(o,{data:_,to:c,...b});return decodeFunctionResult({abi:s,args:d,functionName:g,data:$||"0x"})}catch($){throw getContractError($,{abi:s,address:c,args:d,docsPath:"/docs/contract/readContract",functionName:g})}}async function simulateContract(o,{abi:s,address:c,args:d,dataSuffix:g,functionName:b,..._}){const $=_.account?parseAccount(_.account):void 0,j=encodeFunctionData({abi:s,args:d,functionName:b});try{const{data:tt}=await call(o,{batch:!1,data:`${j}${g?g.replace("0x",""):""}`,to:c,..._});return{result:decodeFunctionResult({abi:s,args:d,functionName:b,data:tt||"0x"}),request:{abi:s,address:c,args:d,functionName:b,..._}}}catch(tt){throw getContractError(tt,{abi:s,address:c,args:d,docsPath:"/docs/contract/simulateContract",functionName:b,sender:$==null?void 0:$.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(o,s,c){const d=++callbackCount,g=()=>listenersCache.get(o)||[],b=()=>{const nt=g();listenersCache.set(o,nt.filter(it=>it.id!==d))},_=()=>{const nt=cleanupCache.get(o);g().length===1&&nt&&nt(),b()},$=g();if(listenersCache.set(o,[...$,{id:d,fns:s}]),$&&$.length>0)return _;const j={};for(const nt in s)j[nt]=(...it)=>{const ot=g();ot.length!==0&&ot.forEach(ft=>{var yt,xt;return(xt=(yt=ft.fns)[nt])==null?void 0:xt.call(yt,...it)})};const tt=c(j);return typeof tt=="function"&&cleanupCache.set(o,tt),_}async function wait(o){return new Promise(s=>setTimeout(s,o))}function poll(o,{emitOnBegin:s,initialWaitTime:c,interval:d}){let g=!0;const b=()=>g=!1;return(async()=>{let $;s&&($=await o({unpoll:b}));const j=await(c==null?void 0:c($))??d;await wait(j);const tt=async()=>{g&&(await o({unpoll:b}),await wait(d),tt())};tt()})(),b}const promiseCache=new Map,responseCache=new Map;function getCache(o){const s=(g,b)=>({clear:()=>b.delete(g),get:()=>b.get(g),set:_=>b.set(g,_)}),c=s(o,promiseCache),d=s(o,responseCache);return{clear:()=>{c.clear(),d.clear()},promise:c,response:d}}async function withCache(o,{cacheKey:s,maxAge:c=1/0}){const d=getCache(s),g=d.response.get();if(g&&c>0&&new Date().getTime()-g.created.getTime()<c)return g.data;let b=d.promise.get();b||(b=o(),d.promise.set(b));const _=await b;return d.promise.clear(),d.response.set({created:new Date,data:_}),_}const cacheKey=o=>`blockNumber.${o}`;async function getBlockNumber(o,{maxAge:s=o.pollingInterval}={}){const c=await withCache(()=>o.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(o.uid),maxAge:s});return BigInt(c)}const docsPath$1="/docs/contract/decodeEventLog";function decodeEventLog({abi:o,data:s,topics:c}){const[d,...g]=c;if(!d)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$1});const b=o.find(ot=>ot.type==="event"&&d===getEventSelector(formatAbiItem(ot)));if(!(b&&"name"in b))throw new AbiEventSignatureNotFoundError(d,{docsPath:docsPath$1});const{name:_,inputs:$}=b,j=$==null?void 0:$.some(ot=>!("name"in ot&&ot.name));let tt=j?[]:{};const nt=$.filter(ot=>"indexed"in ot&&ot.indexed);if(g.length>0)for(let ot=0;ot<nt.length;ot++){const ft=nt[ot],yt=g[ot];if(!yt)throw new DecodeLogTopicsMismatch({abiItem:b,param:ft});tt[ft.name||ot]=decodeTopic({param:ft,value:yt})}const it=$.filter(ot=>!("indexed"in ot&&ot.indexed));if(s&&s!=="0x")try{const ot=decodeAbiParameters(it,s);if(ot)if(j)tt=[...tt,...ot];else for(let ft=0;ft<it.length;ft++)tt[it[ft].name]=ot[ft]}catch(ot){throw ot instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({data:ot.data,params:ot.params,size:ot.size}):ot}return{eventName:_,args:Object.values(tt).length>0?tt:void 0}}function decodeTopic({param:o,value:s}){return o.type==="string"||o.type==="bytes"||o.type==="tuple"||o.type.match(/^(.*)\[(\d+)?\]$/)?s:(decodeAbiParameters([o],s)||[])[0]}async function getFilterChanges(o,{filter:s}){return(await s.request({method:"eth_getFilterChanges",params:[s.id]})).map(d=>{if(typeof d=="string")return d;try{const{eventName:g,args:b}="abi"in s&&s.abi?decodeEventLog({abi:s.abi,data:d.data,topics:d.topics}):{eventName:void 0,args:void 0};return formatLog(d,{args:b,eventName:g})}catch{return}}).filter(Boolean)}async function getLogs(o,{address:s,blockHash:c,fromBlock:d,toBlock:g,event:b,args:_}={}){let $=[];b&&($=encodeEventTopics({abi:[b],eventName:b.name,args:_}));let j;return c?j=await o.request({method:"eth_getLogs",params:[{address:s,topics:$,blockHash:c}]}):j=await o.request({method:"eth_getLogs",params:[{address:s,topics:$,fromBlock:typeof d=="bigint"?numberToHex(d):d,toBlock:typeof g=="bigint"?numberToHex(g):g}]}),j.map(tt=>{try{const{eventName:nt,args:it}=b?decodeEventLog({abi:[b],data:tt.data,topics:tt.topics}):{eventName:void 0,args:void 0};return formatLog(tt,{args:it,eventName:nt})}catch{return}}).filter(Boolean)}async function uninstallFilter(o,{filter:s}){return s.request({method:"eth_uninstallFilter",params:[s.id]})}function watchContractEvent(o,{abi:s,address:c,args:d,batch:g=!0,eventName:b,onError:_,onLogs:$,pollingInterval:j=o.pollingInterval}){const tt=stringify(["watchContractEvent",c,d,g,o.uid,b,j]);return observe(tt,{onLogs:$,onError:_},nt=>{let it,ot,ft=!1;const yt=poll(async()=>{var xt;if(!ft){try{ot=await createContractEventFilter(o,{abi:s,address:c,args:d,eventName:b})}catch{}ft=!0;return}try{let kt;if(ot)kt=await getFilterChanges(o,{filter:ot});else{const mt=await getBlockNumber(o);it&&it!==mt?kt=await getLogs(o,{address:c,args:d,fromBlock:it+1n,toBlock:mt,event:getAbiItem({abi:s,name:b})}):kt=[],it=mt}if(kt.length===0)return;g?nt.onLogs(kt):kt.forEach(mt=>nt.onLogs([mt]))}catch(kt){(xt=nt.onError)==null||xt.call(nt,kt)}},{emitOnBegin:!0,interval:j});return async()=>{ot&&await uninstallFilter(o,{filter:ot}),yt()}})}function getTransactionError(o,{docsPath:s,...c}){let d=o;return containsNodeError(o)&&(d=getNodeError(o,c)),new TransactionExecutionError(d,{docsPath:s,...c})}async function getChainId(o){const s=await o.request({method:"eth_chainId"});return hexToNumber(s)}async function sendTransaction(o,s){var xt;const{account:c=o.account,chain:d=o.chain,accessList:g,data:b,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot,...ft}=s;if(!c)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const yt=parseAccount(c);try{assertRequest(s);let kt;if(d!==null&&(kt=await getChainId(o),assertCurrentChain({currentChainId:kt,chain:d})),yt.type==="local"){const wt=await prepareRequest(o,{account:yt,accessList:g,chain:d,data:b,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot,...ft});kt||(kt=await getChainId(o));const Ht=await yt.signTransaction({chainId:kt,...wt});return await o.request({method:"eth_sendRawTransaction",params:[Ht]})}const mt=(xt=d==null?void 0:d.formatters)==null?void 0:xt.transactionRequest,st=format({accessList:g,data:b,from:yt.address,gas:_,gasPrice:$,maxFeePerGas:j,maxPriorityFeePerGas:tt,nonce:nt,to:it,value:ot,...extract(ft,{formatter:mt})},{formatter:mt||formatTransactionRequest});return await o.request({method:"eth_sendTransaction",params:[st]})}catch(kt){throw getTransactionError(kt,{...s,account:yt,chain:s.chain||void 0})}}async function writeContract(o,{abi:s,address:c,args:d,dataSuffix:g,functionName:b,..._}){const $=encodeFunctionData({abi:s,args:d,functionName:b});return await sendTransaction(o,{data:`${$}${g?g.replace("0x",""):""}`,to:c,..._})}async function createEventFilter(o,{address:s,args:c,event:d,fromBlock:g,toBlock:b}={}){const _=createFilterRequestScope(o,{method:"eth_newFilter"});let $=[];d&&($=encodeEventTopics({abi:[d],eventName:d.name,args:c}));const j=await o.request({method:"eth_newFilter",params:[{address:s,fromBlock:typeof g=="bigint"?numberToHex(g):g,toBlock:typeof b=="bigint"?numberToHex(b):b,...$.length?{topics:$}:{}}]});return{abi:d?[d]:void 0,args:c,eventName:d?d.name:void 0,id:j,request:_(j),type:"event"}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:o,args:s,bytecode:c}){if(!s||s.length===0)return c;const d=o.find(b=>"type"in b&&b.type==="constructor");if(!d)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in d))throw new AbiConstructorParamsNotFoundError({docsPath});if(!d.inputs||d.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const g=encodeAbiParameters(d.inputs,s);return concatHex([c,g])}function deployContract(o,{abi:s,args:c,bytecode:d,...g}){const b=encodeDeployData({abi:s,args:c,bytecode:d});return sendTransaction(o,{...g,data:b})}async function getBalance(o,{address:s,blockNumber:c,blockTag:d="latest"}){const g=c?numberToHex(c):void 0,b=await o.request({method:"eth_getBalance",params:[s,g||d]});return BigInt(b)}async function getBlockTransactionCount(o,{blockHash:s,blockNumber:c,blockTag:d="latest"}={}){const g=c!==void 0?numberToHex(c):void 0;let b=null;return s?b=await o.request({method:"eth_getBlockTransactionCountByHash",params:[s]}):b=await o.request({method:"eth_getBlockTransactionCountByNumber",params:[g||d]}),hexToNumber(b)}async function getBytecode(o,{address:s,blockNumber:c,blockTag:d="latest"}){const g=c!==void 0?numberToHex(c):void 0,b=await o.request({method:"eth_getCode",params:[s,g||d]});if(b!=="0x")return b}function namehash(o){let s=new Uint8Array(32).fill(0);if(!o)return bytesToHex(s);const c=o.split(".");for(let d=c.length-1;d>=0;d-=1){const g=keccak256(stringToBytes(c[d]),"bytes");s=keccak256(concat([s,g]),"bytes")}return bytesToHex(s)}function packetToBytes(o){function s(_){return _==="."||_===".."?1:stringToBytes(_.replace(/^\.|\.$/gm,"")).length+2}const c=new Uint8Array(s(o)),d=o.replace(/^\.|\.$/gm,"");if(!d.length)return c;let g=0;const b=d.split(".");for(let _=0;_<b.length;_++){const $=stringToBytes(b[_]);c[g]=$.length,c.set($,g+1),g+=$.length+1}return c}async function getEnsAddress(o,{blockNumber:s,blockTag:c,name:d,universalResolverAddress:g}){let b=g;if(!b){if(!o.chain)throw new Error("client chain not configured. universalResolverAddress is required.");b=getChainContractAddress({blockNumber:s,chain:o.chain,contract:"ensUniversalResolver"})}const _=await readContract(o,{address:b,abi:universalResolverAbi,functionName:"resolve",args:[toHex(packetToBytes(d)),encodeFunctionData({abi:singleAddressResolverAbi,functionName:"addr",args:[namehash(d)]})],blockNumber:s,blockTag:c});if(_[0]==="0x")return null;const $=decodeFunctionResult({abi:singleAddressResolverAbi,functionName:"addr",data:_[0]});return trim($)==="0x00"?null:$}async function getEnsName(o,{address:s,blockNumber:c,blockTag:d,universalResolverAddress:g}){let b=g;if(!b){if(!o.chain)throw new Error("client chain not configured. universalResolverAddress is required.");b=getChainContractAddress({blockNumber:c,chain:o.chain,contract:"ensUniversalResolver"})}const _=`${s.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(o,{address:b,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[toHex(packetToBytes(_))],blockNumber:c,blockTag:d}))[0]}catch($){if($ instanceof ContractFunctionExecutionError&&$.cause.reason===panicReasons[50])return null;throw $}}async function getEnsResolver(o,{blockNumber:s,blockTag:c,name:d,universalResolverAddress:g}){let b=g;if(!b){if(!o.chain)throw new Error("client chain not configured. universalResolverAddress is required.");b=getChainContractAddress({blockNumber:s,chain:o.chain,contract:"ensUniversalResolver"})}const[_]=await readContract(o,{address:b,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(d))],blockNumber:s,blockTag:c});return _}function formatFeeHistory(o){var s;return{baseFeePerGas:o.baseFeePerGas.map(c=>BigInt(c)),gasUsedRatio:o.gasUsedRatio,oldestBlock:BigInt(o.oldestBlock),reward:(s=o.reward)==null?void 0:s.map(c=>c.map(d=>BigInt(d)))}}async function getFeeHistory(o,{blockCount:s,blockNumber:c,blockTag:d="latest",rewardPercentiles:g}){const b=c?numberToHex(c):void 0,_=await o.request({method:"eth_feeHistory",params:[numberToHex(s),b||d,g]});return formatFeeHistory(_)}async function getFilterLogs(o,{filter:s}){return(await s.request({method:"eth_getFilterLogs",params:[s.id]})).map(d=>{try{const{eventName:g,args:b}="abi"in s&&s.abi?decodeEventLog({abi:s.abi,data:d.data,topics:d.topics}):{eventName:void 0,args:void 0};return formatLog(d,{args:b,eventName:g})}catch{return}}).filter(Boolean)}async function getStorageAt(o,{address:s,blockNumber:c,blockTag:d="latest",slot:g}){const b=c!==void 0?numberToHex(c):void 0;return await o.request({method:"eth_getStorageAt",params:[s,g,b||d]})}async function getTransaction(o,{blockHash:s,blockNumber:c,blockTag:d="latest",hash:g,index:b}){var j,tt;const _=c!==void 0?numberToHex(c):void 0;let $=null;if(g?$=await o.request({method:"eth_getTransactionByHash",params:[g]}):s?$=await o.request({method:"eth_getTransactionByBlockHashAndIndex",params:[s,numberToHex(b)]}):(_||d)&&($=await o.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[_||d,numberToHex(b)]})),!$)throw new TransactionNotFoundError({blockHash:s,blockNumber:c,blockTag:d,hash:g,index:b});return format($,{formatter:((tt=(j=o.chain)==null?void 0:j.formatters)==null?void 0:tt.transaction)||formatTransaction})}async function getTransactionConfirmations(o,{hash:s,transactionReceipt:c}){const[d,g]=await Promise.all([getBlockNumber(o),s?getTransaction(o,{hash:s}):void 0]),b=(c==null?void 0:c.blockNumber)||(g==null?void 0:g.blockNumber);return b?d-b+1n:0n}async function getTransactionReceipt(o,{hash:s}){var d,g;const c=await o.request({method:"eth_getTransactionReceipt",params:[s]});if(!c)throw new TransactionReceiptNotFoundError({hash:s});return format(c,{formatter:((g=(d=o.chain)==null?void 0:d.formatters)==null?void 0:g.transactionReceipt)||formatTransactionReceipt})}async function multicall(o,s){var xt;const{allowFailure:c=!0,batchSize:d,blockNumber:g,blockTag:b,contracts:_,multicallAddress:$}=s,j=d??(typeof((xt=o.batch)==null?void 0:xt.multicall)=="object"&&o.batch.multicall.batchSize||1024),tt=_;let nt=$;if(!nt){if(!o.chain)throw new Error("client chain not configured. multicallAddress is required.");nt=getChainContractAddress({blockNumber:g,chain:o.chain,contract:"multicall3"})}const it=[[]];let ot=0,ft=0;for(let kt=0;kt<tt.length;kt++){const{abi:mt,address:st,args:wt,functionName:Ht}=tt[kt];try{const Vt=encodeFunctionData({abi:mt,args:wt,functionName:Ht});ft+=Vt.length,j>0&&ft>j&&(ot++,ft=(Vt.length-2)/2,it[ot]=[]),it[ot]=[...it[ot],{allowFailure:!0,callData:Vt,target:st}]}catch(Vt){const St=getContractError(Vt,{abi:mt,address:st,args:wt,docsPath:"/docs/contract/multicall",functionName:Ht});if(!c)throw St;it[ot]=[...it[ot],{allowFailure:!0,callData:"0x",target:st}]}}return(await Promise.all(it.map(kt=>readContract(o,{abi:multicall3Abi,address:nt,args:[kt],blockNumber:g,blockTag:b,functionName:"aggregate3"})))).flat().map(({returnData:kt,success:mt},st)=>{const wt=it.flat(),{callData:Ht}=wt[st],{abi:Vt,address:St,functionName:gt,args:Lt}=tt[st];try{if(Ht==="0x")throw new AbiDecodingZeroDataError;if(!mt)throw new RawContractError({data:kt});const Ot=decodeFunctionResult({abi:Vt,data:kt,functionName:gt});return c?{result:Ot,status:"success"}:Ot}catch(Ot){const Kt=getContractError(Ot,{abi:Vt,address:St,args:Lt,docsPath:"/docs/contract/multicall",functionName:gt});if(!c)throw Kt;return{error:Kt,result:void 0,status:"failure"}}})}function watchBlocks(o,{blockTag:s="latest",emitMissed:c=!1,emitOnBegin:d=!1,onBlock:g,onError:b,includeTransactions:_=!1,poll:$,pollingInterval:j=o.pollingInterval}){const tt=typeof $<"u"?$:o.transport.type!=="webSocket";let nt;return tt?(()=>{const ft=stringify(["watchBlocks",o.uid,c,d,_,j]);return observe(ft,{onBlock:g,onError:b},yt=>poll(async()=>{var xt;try{const kt=await getBlock(o,{blockTag:s,includeTransactions:_});if(kt.number&&(nt!=null&&nt.number)){if(kt.number===nt.number)return;if(kt.number-nt.number>1&&c)for(let mt=(nt==null?void 0:nt.number)+1n;mt<kt.number;mt++){const st=await getBlock(o,{blockNumber:mt,includeTransactions:_});yt.onBlock(st,nt),nt=st}}(!(nt!=null&&nt.number)||s==="pending"&&!(kt!=null&&kt.number)||kt.number&&kt.number>nt.number)&&(yt.onBlock(kt,nt),nt=kt)}catch(kt){(xt=yt.onError)==null||xt.call(yt,kt)}},{emitOnBegin:d,interval:j}))})():(()=>{let ft=!0,yt=()=>ft=!1;return(async()=>{try{const{unsubscribe:xt}=await o.transport.subscribe({params:["newHeads"],onData(kt){if(!ft)return;const mt=kt.result;g(mt,nt),nt=mt},onError(kt){b==null||b(kt)}});yt=xt,ft||yt()}catch(xt){b==null||b(xt)}})(),yt})()}function watchBlockNumber(o,{emitOnBegin:s=!1,emitMissed:c=!1,onBlockNumber:d,onError:g,poll:b,pollingInterval:_=o.pollingInterval}){const $=typeof b<"u"?b:o.transport.type!=="webSocket";let j;return $?(()=>{const it=stringify(["watchBlockNumber",o.uid,s,c,_]);return observe(it,{onBlockNumber:d,onError:g},ot=>poll(async()=>{var ft;try{const yt=await getBlockNumber(o,{maxAge:0});if(j){if(yt===j)return;if(yt-j>1&&c)for(let xt=j+1n;xt<yt;xt++)ot.onBlockNumber(xt,j),j=xt}(!j||yt>j)&&(ot.onBlockNumber(yt,j),j=yt)}catch(yt){(ft=ot.onError)==null||ft.call(ot,yt)}},{emitOnBegin:s,interval:_}))})():(()=>{let it=!0,ot=()=>it=!1;return(async()=>{try{const{unsubscribe:ft}=await o.transport.subscribe({params:["newHeads"],onData(yt){var kt;if(!it)return;const xt=hexToBigInt((kt=yt.result)==null?void 0:kt.number);d(xt,j),j=xt},onError(yt){g==null||g(yt)}});ot=ft,it||ot()}catch(ft){g==null||g(ft)}})(),ot})()}function watchEvent(o,{address:s,args:c,batch:d=!0,event:g,onError:b,onLogs:_,pollingInterval:$=o.pollingInterval}){const j=stringify(["watchEvent",s,c,d,o.uid,g,$]);return observe(j,{onLogs:_,onError:b},tt=>{let nt,it,ot=!1;const ft=poll(async()=>{var yt;if(!ot){try{it=await createEventFilter(o,{address:s,args:c,event:g})}catch{}ot=!0;return}try{let xt;if(it)xt=await getFilterChanges(o,{filter:it});else{const kt=await getBlockNumber(o);nt&&nt!==kt?xt=await getLogs(o,{address:s,args:c,fromBlock:nt+1n,toBlock:kt,event:g}):xt=[],nt=kt}if(xt.length===0)return;d?tt.onLogs(xt):xt.forEach(kt=>tt.onLogs([kt]))}catch(xt){(yt=tt.onError)==null||yt.call(tt,xt)}},{emitOnBegin:!0,interval:$});return async()=>{it&&await uninstallFilter(o,{filter:it}),ft()}})}async function createPendingTransactionFilter(o){const s=createFilterRequestScope(o,{method:"eth_newPendingTransactionFilter"}),c=await o.request({method:"eth_newPendingTransactionFilter"});return{id:c,request:s(c),type:"transaction"}}function watchPendingTransactions(o,{batch:s=!0,onError:c,onTransactions:d,poll:g,pollingInterval:b=o.pollingInterval}){return(typeof g<"u"?g:o.transport.type!=="webSocket")?(()=>{const tt=stringify(["watchPendingTransactions",o.uid,s,b]);return observe(tt,{onTransactions:d,onError:c},nt=>{let it;const ot=poll(async()=>{var ft;try{if(!it)try{it=await createPendingTransactionFilter(o);return}catch(xt){throw ot(),xt}const yt=await getFilterChanges(o,{filter:it});if(yt.length===0)return;s?nt.onTransactions(yt):yt.forEach(xt=>nt.onTransactions([xt]))}catch(yt){(ft=nt.onError)==null||ft.call(nt,yt)}},{emitOnBegin:!0,interval:b});return async()=>{it&&await uninstallFilter(o,{filter:it}),ot()}})})():(()=>{let tt=!0,nt=()=>tt=!1;return(async()=>{try{const{unsubscribe:it}=await o.transport.subscribe({params:["newPendingTransactions"],onData(ot){if(!tt)return;const ft=ot.result;d([ft])},onError(ot){c==null||c(ot)}});nt=it,tt||nt()}catch(it){c==null||c(it)}})(),nt})()}function withRetry(o,{delay:s=100,retryCount:c=2,shouldRetry:d=()=>!0}={}){return new Promise((g,b)=>{const _=async({count:$=0}={})=>{const j=async({error:tt})=>{const nt=typeof s=="function"?s({count:$,error:tt}):s;nt&&await wait(nt),_({count:$+1})};try{const tt=await o();g(tt)}catch(tt){if($<c&&await d({count:$,error:tt}))return j({error:tt});b(tt)}};_()})}async function waitForTransactionReceipt(o,{confirmations:s=1,hash:c,onReplaced:d,pollingInterval:g=o.pollingInterval,timeout:b}){const _=stringify(["waitForTransactionReceipt",o.uid,c]);let $,j,tt,nt=!1;return new Promise((it,ot)=>{b&&setTimeout(()=>ot(new WaitForTransactionReceiptTimeoutError({hash:c})),b);const ft=observe(_,{onReplaced:d,resolve:it,reject:ot},yt=>{const xt=watchBlockNumber(o,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:g,async onBlockNumber(kt){if(nt)return;let mt=kt;const st=async wt=>{xt(),wt(),ft()};try{if(tt){if(mt-tt.blockNumber+1n<s)return;st(()=>yt.resolve(tt));return}if($||(nt=!0,await withRetry(async()=>{$=await getTransaction(o,{hash:c}),$.blockNumber&&(mt=$.blockNumber)},{delay:({count:wt})=>~~(1<<wt)*200,retryCount:6}),nt=!1),tt=await getTransactionReceipt(o,{hash:c}),s>0&&mt-tt.blockNumber+1n<s)return;st(()=>yt.resolve(tt))}catch(wt){if($&&(wt instanceof TransactionNotFoundError||wt instanceof TransactionReceiptNotFoundError)){j=$;const Vt=(await getBlock(o,{blockNumber:mt,includeTransactions:!0})).transactions.find(({from:gt,nonce:Lt})=>gt===j.from&&Lt===j.nonce);if(!Vt||(tt=await getTransactionReceipt(o,{hash:Vt.hash}),mt-tt.blockNumber+1n<s))return;let St="replaced";Vt.to===j.to&&Vt.value===j.value?St="repriced":Vt.from===Vt.to&&Vt.value===0n&&(St="cancelled"),st(()=>{var gt;(gt=yt.onReplaced)==null||gt.call(yt,{reason:St,replacedTransaction:j,transaction:Vt,transactionReceipt:tt}),yt.resolve(tt)})}else st(()=>yt.reject(wt))}}});return xt})})}async function requestPermissions(o,s){return o.request({method:"wallet_requestPermissions",params:[s]})}async function signMessage(o,{account:s=o.account,message:c}){if(!s)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const d=parseAccount(s);return d.type==="local"?d.signMessage({message:c}):o.request({method:"personal_sign",params:[toHex(c),d.address]})}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function validateTypedData({domain:o,message:s,primaryType:c,types:d}){const g=d,b=(_,$)=>{for(const j of _){const{name:tt,type:nt}=j,it=nt,ot=$[tt],ft=it.match(integerRegex);if(ft&&(typeof ot=="number"||typeof ot=="bigint")){const[kt,mt,st]=ft;numberToHex(ot,{signed:mt==="int",size:parseInt(st)/8})}if(it==="address"&&typeof ot=="string"&&!isAddress(ot))throw new InvalidAddressError({address:ot});const yt=it.match(bytesRegex);if(yt){const[kt,mt]=yt;if(mt&&size$1(ot)!==parseInt(mt))throw new BytesSizeMismatchError({expectedSize:parseInt(mt),givenSize:size$1(ot)})}const xt=g[it];xt&&b(xt,ot)}};if(g.EIP712Domain&&o&&b(g.EIP712Domain,o),c!=="EIP712Domain"){const _=g[c];b(_,s)}}async function signTypedData(o,{account:s=o.account,domain:c,message:d,primaryType:g,types:b}){if(!s)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const _=parseAccount(s),$={EIP712Domain:[(c==null?void 0:c.name)&&{name:"name",type:"string"},(c==null?void 0:c.version)&&{name:"version",type:"string"},(c==null?void 0:c.chainId)&&{name:"chainId",type:"uint256"},(c==null?void 0:c.verifyingContract)&&{name:"verifyingContract",type:"address"},(c==null?void 0:c.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...b};if(validateTypedData({domain:c,message:d,primaryType:g,types:$}),_.type==="local")return _.signTypedData({domain:c,primaryType:g,types:$,message:d});const j=stringify({domain:c??{},primaryType:g,types:$,message:d},(tt,nt)=>isHex(nt)?nt.toLowerCase():nt);return o.request({method:"eth_signTypedData_v4",params:[_.address,j]})}async function watchAsset(o,s){return await o.request({method:"wallet_watchAsset",params:s})}const size=256;let index$1=size,buffer;function uid(o=11){if(!buffer||index$1+o>size*2){buffer="",index$1=0;for(let s=0;s<size;s++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index$1,index$1+++o)}function createClient({chain:o,key:s="base",name:c="Base Client",pollingInterval:d=4e3,transport:g,type:b="base"}){const{config:_,request:$,value:j}=g({chain:o,pollingInterval:d});return{chain:o,key:s,name:c,pollingInterval:d,request:$,transport:{..._,...j},type:b,uid:uid()}}const isDeterministicError=o=>"code"in o?o.code!==-1&&o.code!==-32004&&o.code!==-32005&&o.code!==-32042&&o.code!==-32603:o instanceof HttpRequestError&&o.status?o.status!==403&&o.status!==408&&o.status!==413&&o.status!==429&&o.status!==500&&o.status!==502&&o.status!==503&&o.status!==504:!1;function buildRequest(o,{retryDelay:s=150,retryCount:c=3}={}){return async d=>withRetry(async()=>{try{return await o(d)}catch(g){const b=g;throw b.code===-32700?new ParseRpcError(b):b.code===-32600?new InvalidRequestRpcError(b):b.code===-32601?new MethodNotFoundRpcError(b):b.code===-32602?new InvalidParamsRpcError(b):b.code===-32603?new InternalRpcError(b):b.code===-32e3?new InvalidInputRpcError(b):b.code===-32001?new ResourceNotFoundRpcError(b):b.code===-32002?new ResourceUnavailableRpcError(b):b.code===-32003?new TransactionRejectedRpcError(b):b.code===-32004?new MethodNotSupportedRpcError(b):b.code===-32005?new LimitExceededRpcError(b):b.code===-32006?new JsonRpcVersionUnsupportedError(b):b.code===-32042?new MethodNotSupportedRpcError(b):b.code===4001?new UserRejectedRequestError(b):b.code===4100?new UnauthorizedProviderError(b):b.code===4200?new UnsupportedProviderMethodError(b):b.code===4900?new ProviderDisconnectedError(b):b.code===4901?new ChainDisconnectedError(b):b.code===4902?new SwitchChainError(b):g instanceof BaseError?g:new UnknownRpcError(b)}},{delay:({count:g,error:b})=>{var _;if(b&&b instanceof HttpRequestError){const $=(_=b==null?void 0:b.headers)==null?void 0:_.get("Retry-After");if($!=null&&$.match(/\d/))return parseInt($)*1e3}return~~(1<<g)*s},retryCount:c,shouldRetry:({error:g})=>!isDeterministicError(g)})}function createTransport({key:o,name:s,request:c,retryCount:d=3,retryDelay:g=150,timeout:b,type:_},$){return{config:{key:o,name:s,request:c,retryCount:d,retryDelay:g,timeout:b,type:_},request:buildRequest(c,{retryCount:d,retryDelay:g}),value:$}}function custom(o,s={}){const{key:c="custom",name:d="Custom Provider",retryDelay:g}=s;return({retryCount:b})=>createTransport({key:c,name:d,request:o.request.bind(o),retryCount:s.retryCount??b,retryDelay:g,type:"custom"})}function fallback(o,s={}){const{key:c="fallback",name:d="Fallback",rank:g=!1,retryCount:b,retryDelay:_}=s;return({chain:$,pollingInterval:j=4e3,timeout:tt})=>{let nt=o,it=()=>{};const ot=createTransport({key:c,name:d,async request({method:ft,params:yt}){const xt=async(kt=0)=>{const mt=nt[kt]({chain:$,retryCount:0,timeout:tt});try{const st=await mt.request({method:ft,params:yt});return it({method:ft,params:yt,response:st,transport:mt,status:"success"}),st}catch(st){if(it({error:st,method:ft,params:yt,transport:mt,status:"error"}),isDeterministicError(st)||kt===nt.length-1)throw st;return xt(kt+1)}};return xt()},retryCount:b,retryDelay:_,type:"fallback"},{onResponse:ft=>it=ft,transports:nt.map(ft=>ft({chain:$,retryCount:0}))});if(g){const ft=typeof g=="object"?g:{};rankTransports({chain:$,interval:ft.interval??j,onTransports:yt=>nt=yt,sampleCount:ft.sampleCount,timeout:ft.timeout,transports:nt,weights:ft.weights})}return ot}}function rankTransports({chain:o,interval:s=4e3,onTransports:c,sampleCount:d=10,timeout:g=1e3,transports:b,weights:_={}}){const{stability:$=.7,latency:j=.3}=_,tt=[],nt=async()=>{const it=await Promise.all(b.map(async yt=>{const xt=yt({chain:o,retryCount:0,timeout:g}),kt=Date.now();let mt,st;try{await xt.request({method:"net_listening"}),st=1}catch{st=0}finally{mt=Date.now()}return{latency:mt-kt,success:st}}));tt.push(it),tt.length>d&&tt.shift();const ot=Math.max(...tt.map(yt=>Math.max(...yt.map(({latency:xt})=>xt)))),ft=b.map((yt,xt)=>{const kt=tt.map(Vt=>Vt[xt].latency),st=1-kt.reduce((Vt,St)=>Vt+St,0)/kt.length/ot,wt=tt.map(Vt=>Vt[xt].success),Ht=wt.reduce((Vt,St)=>Vt+St,0)/wt.length;return Ht===0?[0,xt]:[j*st+$*Ht,xt]}).sort((yt,xt)=>xt[0]-yt[0]);c(ft.map(([,yt])=>b[yt])),await wait(s),nt()};nt()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function withTimeout(o,{errorInstance:s,timeout:c,signal:d}){return new Promise((g,b)=>{(async()=>{let _;try{const $=new AbortController;c>0&&(_=setTimeout(()=>{d?$.abort():b(s)},c)),g(await o({signal:$==null?void 0:$.signal}))}catch($){$.name==="AbortError"&&b(s),b($)}finally{clearTimeout(_)}})()})}let id$1=0;async function http$1(o,{body:s,fetchOptions:c={},timeout:d=1e4}){var $;const{headers:g,method:b,signal:_}=c;try{const j=await withTimeout(async({signal:nt})=>await fetch(o,{...c,body:stringify({jsonrpc:"2.0",id:id$1++,...s}),headers:{...g,"Content-Type":"application/json"},method:b||"POST",signal:_||(d>0?nt:void 0)}),{errorInstance:new TimeoutError({body:s,url:o}),timeout:d,signal:!0});let tt;if(($=j.headers.get("Content-Type"))!=null&&$.startsWith("application/json")?tt=await j.json():tt=await j.text(),!j.ok)throw new HttpRequestError({body:s,details:stringify(tt.error)||j.statusText,headers:j.headers,status:j.status,url:o});if(tt.error)throw new RpcRequestError({body:s,error:tt.error,url:o});return tt}catch(j){throw j instanceof HttpRequestError||j instanceof RpcRequestError||j instanceof TimeoutError?j:new HttpRequestError({body:s,details:j.message,url:o})}}const sockets=new Map;async function getSocket(o){const s=new URL(o),c=s.toString();let d=sockets.get(c);if(d)return d;const{schedule:g}=createBatchScheduler({id:c,fn:async()=>{var ft;let $=await __vitePreload(()=>import("./browser-6fd07e20.js"),[]);(ft=$.default)!=null&&ft.constructor?$=$.default:$=$.WebSocket;const j=new $(s),tt=new Map,nt=new Map,it=({data:yt})=>{const xt=JSON.parse(yt),kt=xt.method==="eth_subscription",mt=kt?xt.params.subscription:xt.id,st=kt?nt:tt,wt=st.get(mt);wt&&wt({data:yt}),kt||st.delete(mt)},ot=()=>{sockets.delete(c),j.removeEventListener("close",ot),j.removeEventListener("message",it)};return j.addEventListener("close",ot),j.addEventListener("message",it),j.readyState===$.CONNECTING&&await new Promise((yt,xt)=>{j&&(j.onopen=yt,j.onerror=xt)}),d=Object.assign(j,{requests:tt,subscriptions:nt}),sockets.set(c,d),[d]}}),[b,[_]]=await g();return _}function webSocket$1(o,{body:s,onData:c,onError:d}){if(o.readyState===o.CLOSED||o.readyState===o.CLOSING)throw new WebSocketRequestError({body:s,url:o.url,details:"Socket is closed."});const g=id$1++,b=({data:_})=>{var j;const $=JSON.parse(_);typeof $.id=="number"&&g!==$.id||($.error?d==null||d(new RpcRequestError({body:s,error:$.error,url:o.url})):c==null||c($),s.method==="eth_subscribe"&&typeof $.result=="string"&&o.subscriptions.set($.result,b),s.method==="eth_unsubscribe"&&o.subscriptions.delete((j=s.params)==null?void 0:j[0]))};return o.requests.set(g,b),o.send(JSON.stringify({jsonrpc:"2.0",...s,id:g})),o}async function webSocketAsync(o,{body:s,timeout:c=1e4}){return withTimeout(()=>new Promise((d,g)=>rpc.webSocket(o,{body:s,onData:d,onError:g})),{errorInstance:new TimeoutError({body:s,url:o.url}),timeout:c})}const rpc={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(o,s={}){const{fetchOptions:c,key:d="http",name:g="HTTP JSON-RPC",retryDelay:b}=s;return({chain:_,retryCount:$,timeout:j})=>{const tt=s.retryCount??$,nt=j??s.timeout??1e4,it=o||(_==null?void 0:_.rpcUrls.default.http[0]);if(!it)throw new UrlRequiredError;return createTransport({key:d,name:g,async request({method:ot,params:ft}){const{result:yt}=await rpc.http(it,{body:{method:ot,params:ft},fetchOptions:c,timeout:nt});return yt},retryCount:tt,retryDelay:b,timeout:nt,type:"http"},{url:o})}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:s}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(s)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:s}){super(`ENS NFT avatar URI is invalid. ${s}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:s}){super(`Unable to resolve ENS avatar URI "${s}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:s}){super(`ENS NFT avatar namespace "${s}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(o){try{const s=await fetch(o,{method:"HEAD"});if(s.status===200){const c=s.headers.get("content-type");return c==null?void 0:c.startsWith("image/")}return!1}catch(s){return typeof s=="object"&&typeof s.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(c=>{const d=new Image;d.onload=()=>{c(!0)},d.onerror=()=>{c(!1)},d.src=o})}}function getGateway(o,s){return o?o.endsWith("/")?o.slice(0,-1):o:s}function resolveAvatarUri({uri:o,gatewayUrls:s}){const c=base64Regex.test(o);if(c)return{uri:o,isOnChain:!0,isEncoded:c};const d=getGateway(s==null?void 0:s.ipfs,"https://ipfs.io"),g=getGateway(s==null?void 0:s.arweave,"https://arweave.net"),b=o.match(networkRegex),{protocol:_,subpath:$,target:j,subtarget:tt=""}=(b==null?void 0:b.groups)||{},nt=_==="ipns:/"||$==="ipns/",it=_==="ipfs:/"||$==="ipfs/"||ipfsHashRegex.test(o);if(o.startsWith("http")&&!nt&&!it){let ft=o;return s!=null&&s.arweave&&(ft=o.replace(/https:\/\/arweave.net/g,s==null?void 0:s.arweave)),{uri:ft,isOnChain:!1,isEncoded:!1}}if((nt||it)&&j)return{uri:`${d}/${nt?"ipns":"ipfs"}/${j}${tt}`,isOnChain:!1,isEncoded:!1};if(_==="ar:/"&&j)return{uri:`${g}/${j}${tt||""}`,isOnChain:!1,isEncoded:!1};let ot=o.replace(dataURIRegex,"");if(ot.startsWith("<svg")&&(ot=`data:image/svg+xml;base64,${btoa(ot)}`),ot.startsWith("data:")||ot.startsWith("{"))return{uri:ot,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:o})}function getJsonImage(o){if(typeof o!="object"||!("image"in o)&&!("image_url"in o)&&!("image_data"in o))throw new EnsAvatarInvalidMetadataError({data:o});return o.image||o.image_url||o.image_data}async function getMetadataAvatarUri({gatewayUrls:o,uri:s}){try{const c=await fetch(s).then(g=>g.json());return await parseAvatarUri({gatewayUrls:o,uri:getJsonImage(c)})}catch{throw new EnsAvatarUriResolutionError({uri:s})}}async function parseAvatarUri({gatewayUrls:o,uri:s}){const{uri:c,isOnChain:d}=resolveAvatarUri({uri:s,gatewayUrls:o});if(d||await isImageUri(c))return c;throw new EnsAvatarUriResolutionError({uri:s})}function parseNftUri(o){o.startsWith("did:nft:")&&(o=o.replace("did:nft:","").replace(/_/g,"/"));const[s,c,d]=o.split("/"),[g,b]=s.split(":"),[_,$]=c.split(":");if(!g||g.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!b)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!$)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!d)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!_)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(b),namespace:_.toLowerCase(),contractAddress:$,tokenID:d}}async function getNftTokenUri(o,{nft:s}){if(s.namespace==="erc721")return readContract(o,{address:s.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(s.tokenID)]});if(s.namespace==="erc1155")return readContract(o,{address:s.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(s.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:s.namespace})}async function parseAvatarRecord(o,{gatewayUrls:s,record:c}){return/eip155:/i.test(c)?parseNftAvatarUri(o,{gatewayUrls:s,record:c}):parseAvatarUri({uri:c,gatewayUrls:s})}async function parseNftAvatarUri(o,{gatewayUrls:s,record:c}){const d=parseNftUri(c),g=await getNftTokenUri(o,{nft:d}),{uri:b,isOnChain:_,isEncoded:$}=resolveAvatarUri({uri:g,gatewayUrls:s});if(_&&(b.includes("data:application/json;base64,")||b.startsWith("{"))){const tt=$?atob(b.replace("data:application/json;base64,","")):b,nt=JSON.parse(tt);return parseAvatarUri({uri:getJsonImage(nt),gatewayUrls:s})}let j=d.tokenID;return d.namespace==="erc1155"&&(j=j.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:s,uri:b.replace(/(?:0x)?{id}/,j)})}async function getEnsText(o,{blockNumber:s,blockTag:c,name:d,key:g,universalResolverAddress:b}){let _=b;if(!_){if(!o.chain)throw new Error("client chain not configured. universalResolverAddress is required.");_=getChainContractAddress({blockNumber:s,chain:o.chain,contract:"ensUniversalResolver"})}const $=await readContract(o,{address:_,abi:universalResolverAbi,functionName:"resolve",args:[toHex(packetToBytes(d)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(d),g]})],blockNumber:s,blockTag:c});if($[0]==="0x")return null;const j=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:$[0]});return j===""?null:j}async function getEnsAvatar(o,{blockNumber:s,blockTag:c,gatewayUrls:d,name:g,universalResolverAddress:b}){const _=await getEnsText(o,{blockNumber:s,blockTag:c,key:"avatar",name:g,universalResolverAddress:b});if(!_)return null;try{return await parseAvatarRecord(o,{record:_,gatewayUrls:d})}catch{return null}}async function createBlockFilter(o){const s=createFilterRequestScope(o,{method:"eth_newBlockFilter"}),c=await o.request({method:"eth_newBlockFilter"});return{id:c,request:s(c),type:"block"}}function hashTypedData({domain:o,message:s,primaryType:c,types:d}){const g=typeof o>"u"?{}:o,b={EIP712Domain:[(g==null?void 0:g.name)&&{name:"name",type:"string"},(g==null?void 0:g.version)&&{name:"version",type:"string"},(g==null?void 0:g.chainId)&&{name:"chainId",type:"uint256"},(g==null?void 0:g.verifyingContract)&&{name:"verifyingContract",type:"address"},(g==null?void 0:g.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...d};validateTypedData({domain:g,message:s,primaryType:c,types:b});const _=["0x1901"];return g&&_.push(hashDomain({domain:g,types:b})),c!=="EIP712Domain"&&_.push(hashStruct({data:s,primaryType:c,types:b})),keccak256(concat(_))}function hashDomain({domain:o,types:s}){return hashStruct({data:o,primaryType:"EIP712Domain",types:s})}function hashStruct({data:o,primaryType:s,types:c}){const d=encodeData({data:o,primaryType:s,types:c});return keccak256(d)}function encodeData({data:o,primaryType:s,types:c}){const d=[{type:"bytes32"}],g=[hashType({primaryType:s,types:c})];for(const b of c[s]){const[_,$]=encodeField({types:c,name:b.name,type:b.type,value:o[b.name]});d.push(_),g.push($)}return encodeAbiParameters(d,g)}function hashType({primaryType:o,types:s}){const c=toHex(encodeType({primaryType:o,types:s}));return keccak256(c)}function encodeType({primaryType:o,types:s}){let c="";const d=findTypeDependencies({primaryType:o,types:s});d.delete(o);const g=[o,...Array.from(d).sort()];for(const b of g)c+=`${b}(${s[b].map(({name:_,type:$})=>`${$} ${_}`).join(",")})`;return c}function findTypeDependencies({primaryType:o,types:s},c=new Set){const d=o.match(/^\w*/u),g=d==null?void 0:d[0];if(c.has(g)||s[g]===void 0)return c;c.add(g);for(const b of s[g])findTypeDependencies({primaryType:b.type,types:s},c);return c}function encodeField({types:o,name:s,type:c,value:d}){if(o[c]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:d,primaryType:c,types:o}))];if(c==="bytes")return d=`0x${(d.length%2?"0":"")+d.slice(2)}`,[{type:"bytes32"},keccak256(d)];if(c==="string")return[{type:"bytes32"},keccak256(toHex(d))];if(c.lastIndexOf("]")===c.length-1){const g=c.slice(0,c.lastIndexOf("[")),b=d.map(_=>encodeField({name:s,type:g,types:o,value:_}));return[{type:"bytes32"},keccak256(encodeAbiParameters(b.map(([_])=>_),b.map(([,_])=>_)))]}return[{type:c},d]}function hashMessage(o,s){const c=stringToBytes(o),d=stringToBytes(`Ethereum Signed Message:
${c.length}`);return keccak256(concat([d,c]),s)}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(o,s)=>s.toString(16).padStart(2,"0"));function equalBytes(o,s){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(o[c]!==s[c])return!1;return!0}function isBytesEqual(o,s){const c=isHex(o)?toBytes$1(o):o,d=isHex(s)?toBytes$1(s):s;return equalBytes(c,d)}async function verifyHash(o,{address:s,hash:c,signature:d,...g}){const b=isHex(d)?d:toHex(d);try{const{data:_}=await call(o,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[s,c,b],bytecode:universalSignatureValidatorByteCode}),...g});return isBytesEqual(_??"0x0","0x1")}catch(_){if(_ instanceof CallExecutionError)return!1;throw _}}async function verifyMessage(o,{address:s,message:c,signature:d,...g}){const b=hashMessage(c);return verifyHash(o,{address:s,hash:b,signature:d,...g})}async function verifyTypedData(o,{address:s,signature:c,message:d,primaryType:g,types:b,domain:_,...$}){const j=hashTypedData({message:d,primaryType:g,types:b,domain:_});return verifyHash(o,{address:s,hash:j,signature:c,...$})}const publicActions=o=>({call:s=>call(o,s),createBlockFilter:()=>createBlockFilter(o),createContractEventFilter:s=>createContractEventFilter(o,s),createEventFilter:s=>createEventFilter(o,s),createPendingTransactionFilter:()=>createPendingTransactionFilter(o),estimateContractGas:s=>estimateContractGas(o,s),estimateGas:s=>estimateGas(o,s),getBalance:s=>getBalance(o,s),getBlock:s=>getBlock(o,s),getBlockNumber:s=>getBlockNumber(o,s),getBlockTransactionCount:s=>getBlockTransactionCount(o,s),getBytecode:s=>getBytecode(o,s),getChainId:()=>getChainId(o),getEnsAddress:s=>getEnsAddress(o,s),getEnsAvatar:s=>getEnsAvatar(o,s),getEnsName:s=>getEnsName(o,s),getEnsResolver:s=>getEnsResolver(o,s),getEnsText:s=>getEnsText(o,s),getFeeHistory:s=>getFeeHistory(o,s),getFilterChanges:s=>getFilterChanges(o,s),getFilterLogs:s=>getFilterLogs(o,s),getGasPrice:()=>getGasPrice(o),getLogs:s=>getLogs(o,s),getStorageAt:s=>getStorageAt(o,s),getTransaction:s=>getTransaction(o,s),getTransactionConfirmations:s=>getTransactionConfirmations(o,s),getTransactionCount:s=>getTransactionCount(o,s),getTransactionReceipt:s=>getTransactionReceipt(o,s),multicall:s=>multicall(o,s),readContract:s=>readContract(o,s),simulateContract:s=>simulateContract(o,s),verifyMessage:s=>verifyMessage(o,s),verifyTypedData:s=>verifyTypedData(o,s),uninstallFilter:s=>uninstallFilter(o,s),waitForTransactionReceipt:s=>waitForTransactionReceipt(o,s),watchBlocks:s=>watchBlocks(o,s),watchBlockNumber:s=>watchBlockNumber(o,s),watchContractEvent:s=>watchContractEvent(o,s),watchEvent:s=>watchEvent(o,s),watchPendingTransactions:s=>watchPendingTransactions(o,s)});function createPublicClient({batch:o,chain:s,key:c="public",name:d="Public Client",transport:g,pollingInterval:b}){const _={batch:o,...createClient({chain:s,key:c,name:d,pollingInterval:b,transport:g,type:"publicClient"})};return{..._,...publicActions(_)}}async function addChain(o,{chain:s}){const{id:c,name:d,nativeCurrency:g,rpcUrls:b,blockExplorers:_}=s;await o.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(c),chainName:d,nativeCurrency:g,rpcUrls:b.default.http,blockExplorerUrls:_?Object.values(_).map(({url:$})=>$):void 0}]})}async function getAddresses(o){return(await o.request({method:"eth_accounts"})).map(c=>checksumAddress(c))}async function getPermissions(o){return await o.request({method:"wallet_getPermissions"})}async function requestAddresses(o){return(await o.request({method:"eth_requestAccounts"})).map(c=>getAddress(c))}async function switchChain(o,{id:s}){await o.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(s)}]})}const walletActions=o=>({addChain:s=>addChain(o,s),deployContract:s=>deployContract(o,s),getAddresses:()=>getAddresses(o),getChainId:()=>getChainId(o),getPermissions:()=>getPermissions(o),requestAddresses:()=>requestAddresses(o),requestPermissions:s=>requestPermissions(o,s),sendTransaction:s=>sendTransaction(o,s),signMessage:s=>signMessage(o,s),signTypedData:s=>signTypedData(o,s),switchChain:s=>switchChain(o,s),watchAsset:s=>watchAsset(o,s),writeContract:s=>writeContract(o,s)});function createWalletClient({account:o,chain:s,transport:c,key:d="wallet",name:g="Wallet Client",pollingInterval:b}){const _={...createClient({chain:s,key:d,name:g,pollingInterval:b,transport:$=>c({...$,retryCount:0}),type:"walletClient"}),account:o?parseAccount(o):void 0};return{..._,...walletActions(_)}}function webSocket(o,s={}){const{key:c="webSocket",name:d="WebSocket JSON-RPC",retryDelay:g}=s;return({chain:b,retryCount:_,timeout:$})=>{var it;const j=s.retryCount??_,tt=$??s.timeout??1e4,nt=o||((it=b==null?void 0:b.rpcUrls.default.webSocket)==null?void 0:it[0]);if(!nt)throw new UrlRequiredError;return createTransport({key:c,name:d,async request({method:ot,params:ft}){const yt=await getSocket(nt),{result:xt}=await rpc.webSocketAsync(yt,{body:{method:ot,params:ft},timeout:tt});return xt},retryCount:j,retryDelay:g,timeout:tt,type:"webSocket"},{getSocket(){return getSocket(nt)},async subscribe({params:ot,onData:ft,onError:yt}){const xt=await getSocket(nt),{result:kt}=await new Promise((mt,st)=>rpc.webSocket(xt,{body:{method:"eth_subscribe",params:ot},onData:wt=>{if(typeof wt.id=="number"){mt(wt);return}wt.method==="eth_subscription"&&ft(wt.params)},onError:wt=>{st(wt),yt==null||yt(wt)}}));return{subscriptionId:kt,async unsubscribe(){return new Promise((mt,st)=>rpc.webSocket(xt,{body:{method:"eth_unsubscribe",params:[kt]},onData:mt,onError:st}))}}}})}}function getInjectedName(o){var c;if(!o)return"Injected";const s=d=>{if(d.isApexWallet)return"Apex Wallet";if(d.isAvalanche)return"Core Wallet";if(d.isBackpack)return"Backpack";if(d.isBifrost)return"Bifrost Wallet";if(d.isBitKeep)return"BitKeep";if(d.isBitski)return"Bitski";if(d.isBlockWallet)return"BlockWallet";if(d.isBraveWallet)return"Brave Wallet";if(d.isCoinbaseWallet)return"Coinbase Wallet";if(d.isDawn)return"Dawn Wallet";if(d.isDefiant)return"Defiant";if(d.isEnkrypt)return"Enkrypt";if(d.isExodus)return"Exodus";if(d.isFrame)return"Frame";if(d.isFrontier)return"Frontier Wallet";if(d.isGamestop)return"GameStop Wallet";if(d.isHyperPay)return"HyperPay Wallet";if(d.isImToken)return"ImToken";if(d.isHaloWallet)return"Halo Wallet";if(d.isKuCoinWallet)return"KuCoin Wallet";if(d.isMathWallet)return"MathWallet";if(d.isOkxWallet||d.isOKExWallet)return"OKX Wallet";if(d.isOneInchIOSWallet||d.isOneInchAndroidWallet)return"1inch Wallet";if(d.isOpera)return"Opera";if(d.isPhantom)return"Phantom";if(d.isPortal)return"Ripio Portal";if(d.isRabby)return"Rabby Wallet";if(d.isRainbow)return"Rainbow";if(d.isStatus)return"Status";if(d.isTalisman)return"Talisman";if(d.isTally)return"Taho";if(d.isTokenPocket)return"TokenPocket";if(d.isTokenary)return"Tokenary";if(d.isTrust||d.isTrustWallet)return"Trust Wallet";if(d.isXDEFI)return"XDEFI Wallet";if(d.isZerion)return"Zerion";if(d.isMetaMask)return"MetaMask"};if((c=o.providers)!=null&&c.length){const d=new Set;let g=1;for(const _ of o.providers){let $=s(_);$||($=`Unknown Wallet #${g}`,g+=1),d.add($)}const b=[...d];return b.length?b:b[0]??"Injected"}return s(o)??"Injected"}var _provider$1,InjectedConnector=class extends Connector{constructor({chains:o,options:s}={}){const c={shimDisconnect:!0,getProvider(){if(typeof window>"u")return;const g=window.ethereum;return g!=null&&g.providers?g.providers[0]:g},...s};super({chains:o,options:c}),__publicField(this,"id","injected"),__publicField(this,"name"),__publicField(this,"ready"),__privateAdd$1(this,_provider$1,void 0),__publicField(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),__publicField(this,"onAccountsChanged",g=>{g.length===0?this.emit("disconnect"):this.emit("change",{account:getAddress(g[0])})}),__publicField(this,"onChainChanged",g=>{const b=normalizeChainId(g),_=this.isChainUnsupported(b);this.emit("change",{chain:{id:b,unsupported:_}})}),__publicField(this,"onDisconnect",async g=>{var b;g.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((b=this.storage)==null||b.removeItem(this.shimDisconnectKey)))});const d=c.getProvider();if(typeof c.name=="string")this.name=c.name;else if(d){const g=getInjectedName(d);c.name?this.name=c.name(g):typeof g=="string"?this.name=g:this.name=g[0]}else this.name="Injected";this.ready=!!d}async connect({chainId:o}={}){var s;try{const c=await this.getProvider();if(!c)throw new ConnectorNotFoundError;c.on&&(c.on("accountsChanged",this.onAccountsChanged),c.on("chainChanged",this.onChainChanged),c.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const d=await c.request({method:"eth_requestAccounts"}),g=getAddress(d[0]);let b=await this.getChainId(),_=this.isChainUnsupported(b);return o&&b!==o&&(b=(await this.switchChain(o)).id,_=this.isChainUnsupported(b)),this.options.shimDisconnect&&((s=this.storage)==null||s.setItem(this.shimDisconnectKey,!0)),{account:g,chain:{id:b,unsupported:_}}}catch(c){throw this.isUserRejectedRequestError(c)?new UserRejectedRequestError(c):c.code===-32002?new ResourceNotFoundRpcError(c):c}}async disconnect(){var s;const o=await this.getProvider();o!=null&&o.removeListener&&(o.removeListener("accountsChanged",this.onAccountsChanged),o.removeListener("chainChanged",this.onChainChanged),o.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((s=this.storage)==null||s.removeItem(this.shimDisconnectKey)))}async getAccount(){const o=await this.getProvider();if(!o)throw new ConnectorNotFoundError;const s=await o.request({method:"eth_accounts"});return getAddress(s[0])}async getChainId(){const o=await this.getProvider();if(!o)throw new ConnectorNotFoundError;return o.request({method:"eth_chainId"}).then(normalizeChainId)}async getProvider(){const o=this.options.getProvider();return o&&__privateSet$1(this,_provider$1,o),__privateGet$1(this,_provider$1)}async getWalletClient({chainId:o}={}){const[s,c]=await Promise.all([this.getProvider(),this.getAccount()]),d=this.chains.find(g=>g.id===o);if(!s)throw new Error("provider is required.");return createWalletClient({account:c,chain:d,transport:custom(s)})}async isAuthorized(){var o;try{if(this.options.shimDisconnect&&!((o=this.storage)!=null&&o.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new ConnectorNotFoundError;return!!await this.getAccount()}catch{return!1}}async switchChain(o){var d,g,b;const s=await this.getProvider();if(!s)throw new ConnectorNotFoundError;const c=numberToHex(o);try{return await Promise.all([s.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]}),new Promise(_=>this.on("change",({chain:$})=>{($==null?void 0:$.id)===o&&_()}))]),this.chains.find(_=>_.id===o)??{id:o,name:`Chain ${c}`,network:`${c}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(_){const $=this.chains.find(j=>j.id===o);if(!$)throw new ChainNotConfiguredForConnectorError({chainId:o,connectorId:this.id});if(_.code===4902||((g=(d=_==null?void 0:_.data)==null?void 0:d.originalError)==null?void 0:g.code)===4902)try{if(await s.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:$.name,nativeCurrency:$.nativeCurrency,rpcUrls:[((b=$.rpcUrls.public)==null?void 0:b.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls($)}]}),await this.getChainId()!==o)throw new UserRejectedRequestError(new Error("User rejected switch after adding network."));return $}catch(j){throw new UserRejectedRequestError(j)}throw this.isUserRejectedRequestError(_)?new UserRejectedRequestError(_):new SwitchChainError(_)}}async watchAsset({address:o,decimals:s=18,image:c,symbol:d}){const g=await this.getProvider();if(!g)throw new ConnectorNotFoundError;return g.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:o,decimals:s,image:c,symbol:d}}})}isUserRejectedRequestError(o){return o.code===4001}};_provider$1=new WeakMap;var __accessCheck=(o,s,c)=>{if(!s.has(o))throw TypeError("Cannot "+c)},__privateGet=(o,s,c)=>(__accessCheck(o,s,"read from private field"),c?c.call(o):s.get(o)),__privateAdd=(o,s,c)=>{if(s.has(o))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(o):s.set(o,c)},__privateSet=(o,s,c,d)=>(__accessCheck(o,s,"write to private field"),d?d.call(o,c):s.set(o,c),c),__privateMethod=(o,s,c)=>(__accessCheck(o,s,"access private method"),c);const subscribeWithSelectorImpl=o=>(s,c,d)=>{const g=d.subscribe;return d.subscribe=(_,$,j)=>{let tt=_;if($){const nt=(j==null?void 0:j.equalityFn)||Object.is;let it=_(d.getState());tt=ot=>{const ft=_(ot);if(!nt(it,ft)){const yt=it;$(it=ft,yt)}},j!=null&&j.fireImmediately&&$(it,it)}return g(tt)},o(s,c,d)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(o,s){let c;try{c=o()}catch{return}return{getItem:g=>{var b;const _=j=>j===null?null:JSON.parse(j,s==null?void 0:s.reviver),$=(b=c.getItem(g))!=null?b:null;return $ instanceof Promise?$.then(_):_($)},setItem:(g,b)=>c.setItem(g,JSON.stringify(b,s==null?void 0:s.replacer)),removeItem:g=>c.removeItem(g)}}const toThenable=o=>s=>{try{const c=o(s);return c instanceof Promise?c:{then(d){return toThenable(d)(c)},catch(d){return this}}}catch(c){return{then(d){return this},catch(d){return toThenable(d)(c)}}}},oldImpl=(o,s)=>(c,d,g)=>{let b={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:kt=>kt,version:0,merge:(kt,mt)=>({...mt,...kt}),...s},_=!1;const $=new Set,j=new Set;let tt;try{tt=b.getStorage()}catch{}if(!tt)return o((...kt)=>{console.warn(`[zustand persist middleware] Unable to update item '${b.name}', the given storage is currently unavailable.`),c(...kt)},d,g);const nt=toThenable(b.serialize),it=()=>{const kt=b.partialize({...d()});let mt;const st=nt({state:kt,version:b.version}).then(wt=>tt.setItem(b.name,wt)).catch(wt=>{mt=wt});if(mt)throw mt;return st},ot=g.setState;g.setState=(kt,mt)=>{ot(kt,mt),it()};const ft=o((...kt)=>{c(...kt),it()},d,g);let yt;const xt=()=>{var kt;if(!tt)return;_=!1,$.forEach(st=>st(d()));const mt=((kt=b.onRehydrateStorage)==null?void 0:kt.call(b,d()))||void 0;return toThenable(tt.getItem.bind(tt))(b.name).then(st=>{if(st)return b.deserialize(st)}).then(st=>{if(st)if(typeof st.version=="number"&&st.version!==b.version){if(b.migrate)return b.migrate(st.state,st.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return st.state}).then(st=>{var wt;return yt=b.merge(st,(wt=d())!=null?wt:ft),c(yt,!0),it()}).then(()=>{mt==null||mt(yt,void 0),_=!0,j.forEach(st=>st(yt))}).catch(st=>{mt==null||mt(void 0,st)})};return g.persist={setOptions:kt=>{b={...b,...kt},kt.getStorage&&(tt=kt.getStorage())},clearStorage:()=>{tt==null||tt.removeItem(b.name)},getOptions:()=>b,rehydrate:()=>xt(),hasHydrated:()=>_,onHydrate:kt=>($.add(kt),()=>{$.delete(kt)}),onFinishHydration:kt=>(j.add(kt),()=>{j.delete(kt)})},xt(),yt||ft},newImpl=(o,s)=>(c,d,g)=>{let b={storage:createJSONStorage(()=>localStorage),partialize:xt=>xt,version:0,merge:(xt,kt)=>({...kt,...xt}),...s},_=!1;const $=new Set,j=new Set;let tt=b.storage;if(!tt)return o((...xt)=>{console.warn(`[zustand persist middleware] Unable to update item '${b.name}', the given storage is currently unavailable.`),c(...xt)},d,g);const nt=()=>{const xt=b.partialize({...d()});return tt.setItem(b.name,{state:xt,version:b.version})},it=g.setState;g.setState=(xt,kt)=>{it(xt,kt),nt()};const ot=o((...xt)=>{c(...xt),nt()},d,g);let ft;const yt=()=>{var xt,kt;if(!tt)return;_=!1,$.forEach(st=>{var wt;return st((wt=d())!=null?wt:ot)});const mt=((kt=b.onRehydrateStorage)==null?void 0:kt.call(b,(xt=d())!=null?xt:ot))||void 0;return toThenable(tt.getItem.bind(tt))(b.name).then(st=>{if(st)if(typeof st.version=="number"&&st.version!==b.version){if(b.migrate)return b.migrate(st.state,st.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return st.state}).then(st=>{var wt;return ft=b.merge(st,(wt=d())!=null?wt:ot),c(ft,!0),nt()}).then(()=>{mt==null||mt(ft,void 0),ft=d(),_=!0,j.forEach(st=>st(ft))}).catch(st=>{mt==null||mt(void 0,st)})};return g.persist={setOptions:xt=>{b={...b,...xt},xt.storage&&(tt=xt.storage)},clearStorage:()=>{tt==null||tt.removeItem(b.name)},getOptions:()=>b,rehydrate:()=>yt(),hasHydrated:()=>_,onHydrate:xt=>($.add(xt),()=>{$.delete(xt)}),onFinishHydration:xt=>(j.add(xt),()=>{j.delete(xt)})},b.skipHydration||yt(),ft||ot},persistImpl=(o,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?oldImpl(o,s):newImpl(o,s),persist=persistImpl,createStoreImpl=o=>{let s;const c=new Set,d=(j,tt)=>{const nt=typeof j=="function"?j(s):j;if(!Object.is(nt,s)){const it=s;s=tt??typeof nt!="object"?nt:Object.assign({},s,nt),c.forEach(ot=>ot(s,it))}},g=()=>s,$={setState:d,getState:g,subscribe:j=>(c.add(j),()=>c.delete(j)),destroy:()=>{c.clear()}};return s=o(d,g,$),$},createStore=o=>o?createStoreImpl(o):createStoreImpl;function configureChains(o,s,{batch:c={multicall:{wait:32}},pollingInterval:d=4e3,rank:g,retryCount:b,retryDelay:_,stallTimeout:$}={}){if(!o.length)throw new Error("must have at least one chain");let j=[];const tt={},nt={};for(const it of o){let ot=!1;for(const ft of s){const yt=ft(it);yt&&(ot=!0,j.some(({id:xt})=>xt===it.id)||(j=[...j,yt.chain]),tt[it.id]=[...tt[it.id]||[],...yt.rpcUrls.http],yt.rpcUrls.webSocket&&(nt[it.id]=[...nt[it.id]||[],...yt.rpcUrls.webSocket]))}if(!ot)throw new Error([`Could not find valid provider configuration for chain "${it.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:j,publicClient:({chainId:it})=>{const ot=j.find(xt=>xt.id===it)??o[0],ft=tt[ot.id];if(!ft||!ft[0])throw new Error(`No providers configured for chain "${ot.id}"`);const yt=createPublicClient({batch:c,chain:ot,transport:fallback(ft.map(xt=>http(xt,{timeout:$})),{rank:g,retryCount:b,retryDelay:_}),pollingInterval:d});return Object.assign(yt,{chains:j})},webSocketPublicClient:({chainId:it})=>{const ot=j.find(xt=>xt.id===it)??o[0],ft=nt[ot.id];if(!ft||!ft[0])return;const yt=createPublicClient({batch:c,chain:ot,transport:fallback(ft.map(xt=>webSocket(xt,{timeout:$})),{rank:g,retryCount:b,retryDelay:_}),pollingInterval:d});return Object.assign(yt,{chains:j})}}}function deepEqual(o,s){if(o===s)return!0;if(o&&s&&typeof o=="object"&&typeof s=="object"){if(o.constructor!==s.constructor)return!1;let c,d;if(Array.isArray(o)&&Array.isArray(s)){if(c=o.length,c!=s.length)return!1;for(d=c;d--!==0;)if(!deepEqual(o[d],s[d]))return!1;return!0}if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===s.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===s.toString();const g=Object.keys(o);if(c=g.length,c!==Object.keys(s).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(s,g[d]))return!1;for(d=c;d--!==0;){const b=g[d];if(b&&!deepEqual(o[b],s[b]))return!1}return!0}return o!==o&&s!==s}var findAndReplace=(o,{find:s,replace:c})=>o&&s(o)?c(o):typeof o!="object"?o:Array.isArray(o)?o.map(d=>findAndReplace(d,{find:s,replace:c})):o instanceof Object?Object.entries(o).reduce((d,[g,b])=>({...d,[g]:findAndReplace(b,{find:s,replace:c})}),{}):o;function deserialize(o){const s=JSON.parse(o);return findAndReplace(s,{find:d=>typeof d=="string"&&d.startsWith("#bigint."),replace:d=>BigInt(d.replace("#bigint.",""))})}function getReferenceKey(o,s){return o.slice(0,s).join(".")||"."}function getCutoff(o,s){const{length:c}=o;for(let d=0;d<c;++d)if(o[d]===s)return d+1;return 0}function createReplacer(o,s){const c=typeof o=="function",d=typeof s=="function",g=[],b=[];return function($,j){if(typeof j=="object")if(g.length){const tt=getCutoff(g,this);tt===0?g[g.length]=this:(g.splice(tt),b.splice(tt)),b[b.length]=$;const nt=getCutoff(g,j);if(nt!==0)return d?s.call(this,$,j,getReferenceKey(b,nt)):`[ref=${getReferenceKey(b,nt)}]`}else g[0]=j,b[0]=$;return c?o.call(this,$,j):j}}function serialize(o,s,c,d){return JSON.stringify(o,createReplacer((g,b)=>{const _=typeof b=="bigint"?`#bigint.${b.toString()}`:b;return(s==null?void 0:s(g,_))||_},d),c??void 0)}var noopStorage={getItem:o=>"",setItem:(o,s)=>null,removeItem:o=>null};function createStorage({deserialize:o=deserialize,key:s="wagmi",serialize:c=serialize,storage:d}){return{...d,getItem:(g,b=null)=>{const _=d.getItem(`${s}.${g}`);try{return _?o(_):b}catch($){return console.warn($),b}},setItem:(g,b)=>{if(b===null)d.removeItem(`${s}.${g}`);else try{d.setItem(`${s}.${g}`,c(b))}catch(_){console.error(_)}},removeItem:g=>d.removeItem(`${s}.${g}`)}}var storeKey="store",_isAutoConnecting,_lastUsedConnector,_addEffects,addEffects_fn,Config=class{constructor({autoConnect:o=!1,connectors:s=[new InjectedConnector],publicClient:c,storage:d=createStorage({storage:typeof window<"u"?window.localStorage:noopStorage}),logger:g={warn:console.warn},webSocketPublicClient:b}){var tt,nt;__privateAdd(this,_addEffects),this.publicClients=new Map,this.webSocketPublicClients=new Map,__privateAdd(this,_isAutoConnecting,void 0),__privateAdd(this,_lastUsedConnector,void 0),this.args={autoConnect:o,connectors:s,logger:g,publicClient:c,storage:d,webSocketPublicClient:b};let _="disconnected",$;if(o)try{const it=d.getItem(storeKey),ot=(tt=it==null?void 0:it.state)==null?void 0:tt.data;_=ot!=null&&ot.account?"reconnecting":"connecting",$=(nt=ot==null?void 0:ot.chain)==null?void 0:nt.id}catch{}const j=typeof s=="function"?s():s;j.forEach(it=>it.setStorage(d)),this.store=createStore(subscribeWithSelector(persist(()=>({connectors:j,publicClient:this.getPublicClient({chainId:$}),status:_,webSocketPublicClient:this.getWebSocketPublicClient({chainId:$})}),{name:storeKey,storage:d,partialize:it=>{var ot,ft;return{...o&&{data:{account:(ot=it==null?void 0:it.data)==null?void 0:ot.account,chain:(ft=it==null?void 0:it.data)==null?void 0:ft.chain}},chains:it==null?void 0:it.chains}},version:2}))),this.storage=d,__privateSet(this,_lastUsedConnector,d==null?void 0:d.getItem("wallet")),__privateMethod(this,_addEffects,addEffects_fn).call(this),o&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var o,s;return(s=(o=this.data)==null?void 0:o.chain)==null?void 0:s.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(o){const s=typeof o=="function"?o(this.store.getState()):o;this.store.setState(s,!0)}clearState(){this.setState(o=>({...o,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var o,s;this.connector&&await((s=(o=this.connector).disconnect)==null?void 0:s.call(o)),__privateSet(this,_isAutoConnecting,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(__privateGet(this,_isAutoConnecting))return;__privateSet(this,_isAutoConnecting,!0),this.setState(c=>{var d;return{...c,status:(d=c.data)!=null&&d.account?"reconnecting":"connecting"}});const o=__privateGet(this,_lastUsedConnector)?[...this.connectors].sort(c=>c.id===__privateGet(this,_lastUsedConnector)?-1:1):this.connectors;let s=!1;for(const c of o){if(!c.ready||!c.isAuthorized||!await c.isAuthorized())continue;const g=await c.connect();this.setState(b=>({...b,connector:c,chains:c==null?void 0:c.chains,data:g,status:"connected"})),s=!0;break}return s||this.setState(c=>({...c,data:void 0,status:"disconnected"})),__privateSet(this,_isAutoConnecting,!1),this.data}setConnectors(o){this.args={...this.args,connectors:o};const s=typeof o=="function"?o():o;s.forEach(c=>c.setStorage(this.args.storage)),this.setState(c=>({...c,connectors:s}))}getPublicClient({chainId:o}={}){let s=this.publicClients.get(-1);if(s&&(s==null?void 0:s.chain.id)===o||(s=this.publicClients.get(o??-1),s))return s;const{publicClient:c}=this.args;return s=typeof c=="function"?c({chainId:o}):c,this.publicClients.set(o??-1,s),s}setPublicClient(o){var c,d;const s=(d=(c=this.data)==null?void 0:c.chain)==null?void 0:d.id;this.args={...this.args,publicClient:o},this.publicClients.clear(),this.setState(g=>({...g,publicClient:this.getPublicClient({chainId:s})}))}getWebSocketPublicClient({chainId:o}={}){let s=this.webSocketPublicClients.get(-1);if(s&&(s==null?void 0:s.chain.id)===o||(s=this.webSocketPublicClients.get(o??-1),s))return s;const{webSocketPublicClient:c}=this.args;return s=typeof c=="function"?c({chainId:o}):c,s&&this.webSocketPublicClients.set(o??-1,s),s}setWebSocketPublicClient(o){var c,d;const s=(d=(c=this.data)==null?void 0:c.chain)==null?void 0:d.id;this.args={...this.args,webSocketPublicClient:o},this.webSocketPublicClients.clear(),this.setState(g=>({...g,webSocketPublicClient:this.getWebSocketPublicClient({chainId:s})}))}setLastUsedConnector(o=null){var s;(s=this.storage)==null||s.setItem("wallet",o)}};_isAutoConnecting=new WeakMap;_lastUsedConnector=new WeakMap;_addEffects=new WeakSet;addEffects_fn=function(){const o=$=>{this.setState(j=>({...j,data:{...j.data,...$}}))},s=()=>{this.clearState()},c=$=>{this.setState(j=>({...j,error:$}))};this.store.subscribe(({connector:$})=>$,($,j)=>{var tt,nt,it,ot,ft,yt;(tt=j==null?void 0:j.off)==null||tt.call(j,"change",o),(nt=j==null?void 0:j.off)==null||nt.call(j,"disconnect",s),(it=j==null?void 0:j.off)==null||it.call(j,"error",c),$&&((ot=$.on)==null||ot.call($,"change",o),(ft=$.on)==null||ft.call($,"disconnect",s),(yt=$.on)==null||yt.call($,"error",c))});const{publicClient:d,webSocketPublicClient:g}=this.args;(typeof d=="function"||typeof g=="function")&&this.store.subscribe(({data:$})=>{var j;return(j=$==null?void 0:$.chain)==null?void 0:j.id},$=>{this.setState(j=>({...j,publicClient:this.getPublicClient({chainId:$}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:$})}))})};var config$1;function createConfig$1(o){const s=new Config(o);return config$1=s,s}function getConfig(){if(!config$1)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return config$1}function getAccount(){const{data:o,connector:s,status:c}=getConfig();switch(c){case"connected":return{address:o==null?void 0:o.account,connector:s,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:c};case"reconnecting":return{address:o==null?void 0:o.account,connector:s,isConnected:!!(o!=null&&o.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:c};case"connecting":return{address:o==null?void 0:o.account,connector:s,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:c};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:c}}}var mainnet={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xE4Acdd618deED4e6d2f03b9bf62dc6118FC9A4da",blockCreated:16773775},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(o,s,c,d,g){var b=t(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=v(function(){function j(ft){if(!tt){if(tt=!0,nt=ft,ft=d(ft),g!==void 0&&_.hasValue){var yt=_.value;if(g(yt,ft))return it=yt}return it=ft}if(yt=it,q(nt,ft))return yt;var xt=d(ft);return g!==void 0&&g(yt,xt)?yt:(nt=ft,it=xt)}var tt=!1,nt,it,ot=c===void 0?null:c;return[function(){return j(s())},ot===null?void 0:function(){return j(ot())}]},[s,c,d,g]);var $=r(o,b[0],b[1]);return u(function(){_.hasValue=!0,_.value=$},[$]),w($),$};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;function createConfig({queryClient:o=new QueryClient({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}),storage:s=createStorage({storage:typeof window<"u"&&window.localStorage?window.localStorage:noopStorage}),persister:c=typeof window<"u"?createSyncStoragePersister({key:"cache",storage:s,serialize:g=>g,deserialize:g=>g}):void 0,...d}){const g=createConfig$1({...d,storage:s});return c&&persistQueryClient({queryClient:o,persister:c,dehydrateOptions:{shouldDehydrateQuery:b=>b.cacheTime!==0&&b.queryKey[0].persist!==!1}}),Object.assign(g,{queryClient:o})}var Context=reactExports.createContext(void 0),queryClientContext=reactExports.createContext(void 0);function WagmiConfig({children:o,config:s}){return reactExports.createElement(Context.Provider,{children:reactExports.createElement(QueryClientProvider,{children:o,client:s.queryClient,context:queryClientContext}),value:s})}var isPlainObject2=o=>typeof o=="object"&&!Array.isArray(o);function useSyncExternalStoreWithTracked(o,s,c=s,d=deepEqual){const g=reactExports.useRef([]),b=withSelectorExports.useSyncExternalStoreWithSelector(o,s,c,_=>_,(_,$)=>{if(isPlainObject2(_)&&isPlainObject2($)&&g.current.length){for(const j of g.current)if(!d(_[j],$[j]))return!1;return!0}return d(_,$)});if(isPlainObject2(b)){const _={...b};return Object.defineProperties(_,Object.entries(_).reduce(($,[j,tt])=>({...$,[j]:{configurable:!1,enumerable:!0,get:()=>(g.current.includes(j)||g.current.push(j),tt)}}),{})),_}return b}function useAccount({onConnect:o,onDisconnect:s}={}){const c=reactExports.useCallback(j=>getConfig().subscribe(it=>{var ot;return{address:(ot=it.data)==null?void 0:ot.account,connector:it.connector,status:it.status}},(it,ot)=>(o&&ot.status!=="connected"&&it.status==="connected"&&o({address:it.address,connector:it.connector,isReconnected:ot.status==="reconnecting"}),s&&ot.status==="connected"&&it.status==="disconnected"&&s(),j(getAccount()))),[o,s]),d=useSyncExternalStoreWithTracked(c,getAccount),g=reactExports.useRef(),{address:b,connector:_,status:$}=d;return reactExports.useEffect(()=>{o&&g.current===void 0&&$==="connected"&&o({address:b,connector:_,isReconnected:!0}),g.current=$},[]),d}const index="",galleryContent=[{title:"futurETH 1",code:`s0.initImage("https://pbs.twimg.com/profile_images/1698661488578203648/vt1aAxbJ_400x400.jpg")
        shape(4, (0.01, .4),1.4)
        .mult(src(s0).modulate(osc(5,.2,3)))
        .color(1,2,4)
        .saturate(1.2)
        .luma(1.2,1.05, (1, ()=> Math.sin(time)))
        .scale(0.8, ()=> Math.sin(time*.3)+.1)
        .diff(src(o0).modulate(noise(.03)))
        .out(o0)
        render(o0)`,thumbnail:"../public/assets/img/1.png"},{title:"futurETH 2",code:`s0.initImage("https://pbs.twimg.com/profile_images/1698661488578203648/vt1aAxbJ_400x400.jpg")
        osc(({time})=> 5+2*Math.sin(time*.03),.02)
        .modulateRepeat(o1)
        .modulateScale(osc(2,.4))
        //.rotate(({time})=>-time*.07)
        .blend(o0)
        .out(o0)

        osc(({time})=>6+3*Math.sin(time*.5),.02)
        .modulateRepeat(o0)
        .rotate(({time})=>time*.01)
        .blend(o1,.25)
        .out(o1)

        osc(1,.05,({time})=>2*Math.sin(time*.11))
        .kaleid(6)
        .diff(o1)
        .mult(shape(4,.9))
        .mask(src(o0).thresh())
        .out(o2)

        src(o3)
        //.color(2,0,-2)
        //.scale(.99)
        .modulateScale(noise(1,.08))
        .blend(o3)
        .layer(o2)
        .blend(s0,()=>.1+1.5*Math.sin(time/2))
        .out(o3)

        render(o3)`,thumbnail:"../public/assets/img/2.png"},{title:"Excursions 1",code:`s1.initImage("https://nyc3.digitaloceanspaces.com/rilfun-lidlen/rilfun-lidlen/2023.9.16..11.41.19-Tabloid%20-%202.svg")
        src(o0)
            .blend(src(s1)
                .mult(src(o1)),1.49)
            .modulate(noise(.4))
            .out(o0)
        
        shape(4, .8, 1e-6)
            .scale(1.11)
                    .modulateKaleid(src(o1).scale(.09).blend(osc(()=>Math.sin(time/10)),3.01))
                    .scale(() => Math.sin(time) + .2)
                    .kaleid(3)
                    .rotate(0, .2)
                    .diff(osc(1, 1, 3)
                        .scale(.35))
        .blend(o1,.39)
        .out(o1)
        
        speed = .4
        
        render(o0)`,thumbnail:"../public/assets/img/3.png"},{title:"Excursions 2",code:`a.setSmooth(.9)
        s0.initImage("https://nyc3.digitaloceanspaces.com/rilfun-lidlen/rilfun-lidlen/2023.9.16..11.41.19-Tabloid%20-%202.svg")
        src(o0)
            .blend(src(s0)
                .modulate(osc(2,.3))
                .scale(.88)
                .mult(o0), .8)
            .blend(osc(10,.4,5.6)
                .color(1.1, .4, 9), .01)
            .scale(1.0011)
            .blend(
                shape([3, 8].smooth(), () => a.fft[1] + .45, 1e-6)
                .mult(osc(10, .1, 2)
                    .color(1.1, .4, 9)
                    .luma(-.4)
                    .kaleid(40)
                )
                //.repeat()
                , .017)
            .out(o0)
        
        speed = .6`,thumbnail:"../public/assets/img/4.png"},{title:"CRT Zones",code:`src(o0)
        .shift(.01,-.03,.005)
        //.colorama(.004)
        .scrollX(.002)
        .scale(.99)
        .diff(noise(.03).scale(.2).rotate(0))
        .blend(o0,.4)
        //.rotate(0,1)
        .out()
        
        
        
        speed=.9`,thumbnail:"../public/assets/img/5.png"},{title:"Drippy Lights",code:`shape(4, .4,1.4)
        .mult(osc(10,.2,4).modulate(osc(5,.2,3)))
        .color(1.7,2,4)
        .saturate(1.1)
        .luma(1.2,1.05)
        .scale(0.8)
        .diff(src(o0).modulate(noise(.7)))
        .out(o0)
        
        speed=1`,thumbnail:"../public/assets/img/6.png"},{title:"Kaleidcam",code:`a.setSmooth(.9)
        s0.initCam()
        src(o0)
            .blend(src(s0)
                .modulate(osc(2,.3))
                .scale(.88)
                .mult(s0), .18)
            .blend(src(s0)
                .color(1.1, .4, 9), .01)
            .scale(1.0011)
            .blend(
                shape([3, 8].smooth(), () => a.fft[0] + .95, 1e-6)
                .mult(src(s0)
                    .color(1.1, .4, 9)
                    //.luma(-.4)
                    .rotate(0,()=>(a.fft[0]/800)+1)
                    .kaleid(4)
                )
                  .modulateRotate(src(s0).scale(1.01)
                    .color(1.1, .4, 9)
                    //.luma(-.4)
                    .rotate(0,()=>(a.fft[0]/800)+1)
                    .kaleid(1)
                , .01)
                //.repeat()
                , .06)
            .modulateScale(o0,.001)
            .out(o0)
        
        speed = .3
        `,thumbnail:"../public/assets/img/7.png"},{title:"Flying Feedback",code:`src(o0)
        .scale(1.1)
        .blend(
          osc(10,.1,2).mult(shape(4,.3,1e-6).rotate(.01,.01).modulate(o0,.102).color(1.12,4.04,1.31))
            .modulate(osc(11,.1))
          .blend(o0,0.1)
        ,.05)
        .out()
      
      speed=.4`,thumbnail:"../public/assets/img/8.png"},{title:"Hallway",code:`osc(({time})=> 5+2*Math.sin(time*.03),.02)
        .modulateRepeat(o1)
        .modulateScale(osc(2,.4))
        //.rotate(({time})=>-time*.07)
        .blend(o0)
        .out(o0)
        
        osc(({time})=>6+3*Math.sin(time*.5),.02)
        .modulateRepeat(o0)
        .rotate(({time})=>time*.01)
        .blend(o1,.25)
        .out(o1)
        
        osc(1,.05,({time})=>2*Math.sin(time*.11))
        .kaleid(6)
        .diff(o1)
        .mult(shape(4,.9))
        .mask(src(o0).thresh())
        .out(o2)
        
        src(o3)
        //.color(2,0,-2)
        //.scale(.99)
        .modulateScale(noise(1,.08))
        .blend(o3)
        .layer(o2)
        .out(o3)
        
        render(o3)
        
        speed=1.3`,thumbnail:"../public/assets/img/9.png"}];var Output=function({regl:o,precision:s,label:c="",width:d,height:g}){this.regl=o,this.precision=s,this.label=c,this.positionBuffer=this.regl.buffer([[-2,0],[0,-2],[2,2]]),this.draw=()=>{},this.init(),this.pingPongIndex=0,this.fbos=Array(2).fill().map(()=>this.regl.framebuffer({color:this.regl.texture({mag:"nearest",width:d,height:g,format:"rgba"}),depthStencil:!1}))};Output.prototype.resize=function(o,s){this.fbos.forEach(c=>{c.resize(o,s)})};Output.prototype.getCurrent=function(){return this.fbos[this.pingPongIndex]};Output.prototype.getTexture=function(){var o=this.pingPongIndex?0:1;return this.fbos[o]};Output.prototype.init=function(){return this.transformIndex=0,this.fragHeader=`
  precision ${this.precision} float;

  uniform float time;
  varying vec2 uv;
  `,this.fragBody="",this.vert=`
  precision ${this.precision} float;
  attribute vec2 position;
  varying vec2 uv;

  void main () {
    uv = position;
    gl_Position = vec4(2.0 * position - 1.0, 0, 1);
  }`,this.attributes={position:this.positionBuffer},this.uniforms={time:this.regl.prop("time"),resolution:this.regl.prop("resolution")},this.frag=`
       ${this.fragHeader}

      void main () {
        vec4 c = vec4(0, 0, 0, 0);
        vec2 st = uv;
        ${this.fragBody}
        gl_FragColor = c;
      }
  `,this};Output.prototype.render=function(o){let s=o[0];var c=this,d=Object.assign(s.uniforms,{prevBuffer:()=>c.fbos[c.pingPongIndex]});c.draw=c.regl({frag:s.frag,vert:c.vert,attributes:c.attributes,uniforms:d,count:3,framebuffer:()=>(c.pingPongIndex=c.pingPongIndex?0:1,c.fbos[c.pingPongIndex])})};Output.prototype.tick=function(o){this.draw(o)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(s,c){c&&(s.super_=c,s.prototype=Object.create(c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,c){if(c){s.super_=c;var d=function(){};d.prototype=c.prototype,s.prototype=new d,s.prototype.constructor=s}};var inherits_browserExports=inherits_browser.exports;function EventEmitter$1(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var events=EventEmitter$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._maxListeners=void 0;EventEmitter$1.defaultMaxListeners=10;EventEmitter$1.prototype.setMaxListeners=function(o){if(!isNumber(o)||o<0||isNaN(o))throw TypeError("n must be a positive number");return this._maxListeners=o,this};EventEmitter$1.prototype.emit=function(o){var s,c,d,g,b,_;if(this._events||(this._events={}),o==="error"&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(s=arguments[1],s instanceof Error)throw s;var $=new Error('Uncaught, unspecified "error" event. ('+s+")");throw $.context=s,$}if(c=this._events[o],isUndefined(c))return!1;if(isFunction(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:g=Array.prototype.slice.call(arguments,1),c.apply(this,g)}else if(isObject(c))for(g=Array.prototype.slice.call(arguments,1),_=c.slice(),d=_.length,b=0;b<d;b++)_[b].apply(this,g);return!0};EventEmitter$1.prototype.addListener=function(o,s){var c;if(!isFunction(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",o,isFunction(s.listener)?s.listener:s),this._events[o]?isObject(this._events[o])?this._events[o].push(s):this._events[o]=[this._events[o],s]:this._events[o]=s,isObject(this._events[o])&&!this._events[o].warned&&(isUndefined(this._maxListeners)?c=EventEmitter$1.defaultMaxListeners:c=this._maxListeners,c&&c>0&&this._events[o].length>c&&(this._events[o].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[o].length),typeof console.trace=="function"&&console.trace())),this};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.once=function(o,s){if(!isFunction(s))throw TypeError("listener must be a function");var c=!1;function d(){this.removeListener(o,d),c||(c=!0,s.apply(this,arguments))}return d.listener=s,this.on(o,d),this};EventEmitter$1.prototype.removeListener=function(o,s){var c,d,g,b;if(!isFunction(s))throw TypeError("listener must be a function");if(!this._events||!this._events[o])return this;if(c=this._events[o],g=c.length,d=-1,c===s||isFunction(c.listener)&&c.listener===s)delete this._events[o],this._events.removeListener&&this.emit("removeListener",o,s);else if(isObject(c)){for(b=g;b-- >0;)if(c[b]===s||c[b].listener&&c[b].listener===s){d=b;break}if(d<0)return this;c.length===1?(c.length=0,delete this._events[o]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",o,s)}return this};EventEmitter$1.prototype.removeAllListeners=function(o){var s,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[o]&&delete this._events[o],this;if(arguments.length===0){for(s in this._events)s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[o],isFunction(c))this.removeListener(o,c);else if(c)for(;c.length;)this.removeListener(o,c[c.length-1]);return delete this._events[o],this};EventEmitter$1.prototype.listeners=function(o){var s;return!this._events||!this._events[o]?s=[]:isFunction(this._events[o])?s=[this._events[o]]:s=this._events[o].slice(),s};EventEmitter$1.prototype.listenerCount=function(o){if(this._events){var s=this._events[o];if(isFunction(s))return 1;if(s)return s.length}return 0};EventEmitter$1.listenerCount=function(o,s){return o.listenerCount(s)};function isFunction(o){return typeof o=="function"}function isNumber(o){return typeof o=="number"}function isObject(o){return typeof o=="object"&&o!==null}function isUndefined(o){return o===void 0}var browser=globalThis.performance&&globalThis.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},raf$2={exports:{}},performanceNow={exports:{}};(function(){var o,s,c,d,g,b;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(o()-g)/1e6},s=process.hrtime,o=function(){var _;return _=s(),_[0]*1e9+_[1]},d=o(),b=process.uptime()*1e9,g=d-b):Date.now?(performanceNow.exports=function(){return Date.now()-c},c=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(commonjsGlobal);var performanceNowExports=performanceNow.exports,now$1=performanceNowExports,root=typeof window>"u"?globalThis:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf$1=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i=0;!raf$1&&i<vendors.length;i++)raf$1=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf$1||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf$1=function(o){if(queue.length===0){var s=now$1(),c=Math.max(0,frameDuration-(s-last));last=c+s,setTimeout(function(){var d=queue.slice(0);queue.length=0;for(var g=0;g<d.length;g++)if(!d[g].cancelled)try{d[g].callback(last)}catch(b){setTimeout(function(){throw b},0)}},Math.round(c))}return queue.push({handle:++id,callback:o,cancelled:!1}),id},caf=function(o){for(var s=0;s<queue.length;s++)queue[s].handle===o&&(queue[s].cancelled=!0)}}raf$2.exports=function(o){return raf$1.call(root,o)};raf$2.exports.cancel=function(){caf.apply(root,arguments)};raf$2.exports.polyfill=function(o){o||(o=root),o.requestAnimationFrame=raf$1,o.cancelAnimationFrame=caf};var rafExports=raf$2.exports,inherits=inherits_browserExports,EventEmitter=events.EventEmitter,now=browser,raf=rafExports,rafLoop=Engine;function Engine(o){if(!(this instanceof Engine))return new Engine(o);this.running=!1,this.last=now(),this._frame=0,this._tick=this.tick.bind(this),o&&this.on("tick",o)}inherits(Engine,EventEmitter);Engine.prototype.start=function(){if(!this.running)return this.running=!0,this.last=now(),this._frame=raf(this._tick),this};Engine.prototype.stop=function(){return this.running=!1,this._frame!==0&&raf.cancel(this._frame),this._frame=0,this};Engine.prototype.tick=function(){this._frame=raf(this._tick);var o=now(),s=o-this.last;this.emit("tick",s),this.last=o};const loop=getDefaultExportFromCjs(rafLoop);function Webcam(o){return navigator.mediaDevices.enumerateDevices().then(s=>s.filter(c=>c.kind==="videoinput")).then(s=>{let c={audio:!1,video:!0};return s[o]&&(c.video={deviceId:{exact:s[o].deviceId}}),window.navigator.mediaDevices.getUserMedia(c)}).then(s=>{const c=document.createElement("video");return c.setAttribute("autoplay",""),c.setAttribute("muted",""),c.setAttribute("playsinline",""),c.srcObject=s,new Promise((d,g)=>{c.addEventListener("loadedmetadata",()=>{c.play().then(()=>d({video:c}))})})}).catch(console.log.bind(console))}function Screen(o){return new Promise(function(s,c){navigator.mediaDevices.getDisplayMedia(o).then(d=>{const g=document.createElement("video");g.srcObject=d,g.addEventListener("loadedmetadata",()=>{g.play(),s({video:g})})}).catch(d=>c(d))})}class HydraSource{constructor({regl:s,width:c,height:d,pb:g,label:b=""}){this.label=b,this.regl=s,this.src=null,this.dynamic=!0,this.width=c,this.height=d,this.tex=this.regl.texture({shape:[1,1]}),this.pb=g}init(s,c){"src"in s&&(this.src=s.src,this.tex=this.regl.texture({data:this.src,...c})),"dynamic"in s&&(this.dynamic=s.dynamic)}initCam(s,c){const d=this;Webcam(s).then(g=>{d.src=g.video,d.dynamic=!0,d.tex=d.regl.texture({data:d.src,...c})}).catch(g=>console.log("could not get camera",g))}initVideo(s="",c){const d=document.createElement("video");d.crossOrigin="anonymous",d.autoplay=!0,d.loop=!0,d.muted=!0,d.addEventListener("loadeddata",()=>{this.src=d,d.play(),this.tex=this.regl.texture({data:this.src,...c}),this.dynamic=!0}),d.src=s}initImage(s="",c){const d=document.createElement("img");d.crossOrigin="anonymous",d.src=s,d.onload=()=>{this.src=d,this.dynamic=!1,this.tex=this.regl.texture({data:this.src,...c})}}initStream(s,c){let d=this;s&&this.pb&&(this.pb.initSource(s),this.pb.on("got video",function(g,b){g===s&&(d.src=b,d.dynamic=!0,d.tex=d.regl.texture({data:d.src,...c}))}))}initScreen(s=0,c){const d=this;Screen().then(function(g){d.src=g.video,d.tex=d.regl.texture({data:d.src,...c}),d.dynamic=!0}).catch(g=>console.log("could not get screen",g))}resize(s,c){this.width=s,this.height=c}clear(){this.src&&this.src.srcObject&&this.src.srcObject.getTracks&&this.src.srcObject.getTracks().forEach(s=>s.stop()),this.src=null,this.tex=this.regl.texture({shape:[1,1]})}tick(s){this.src!==null&&this.dynamic===!0&&(this.src.videoWidth&&this.src.videoWidth!==this.tex.width&&(console.log(this.src.videoWidth,this.src.videoHeight,this.tex.width,this.tex.height),this.tex.resize(this.src.videoWidth,this.src.videoHeight)),this.src.width&&this.src.width!==this.tex.width&&this.tex.resize(this.src.width,this.src.height),this.tex.subimage(this.src))}getTexture(){return this.tex}}const mouse={};function mouseButtons(o){if(typeof o=="object"){if("buttons"in o)return o.buttons;if("which"in o){var s=o.which;if(s===2)return 4;if(s===3)return 2;if(s>0)return 1<<s-1}else if("button"in o){var s=o.button;if(s===1)return 4;if(s===2)return 2;if(s>=0)return 1<<s}}return 0}mouse.buttons=mouseButtons;function mouseElement(o){return o.target||o.srcElement||window}mouse.element=mouseElement;function mouseRelativeX(o){return typeof o=="object"&&"pageX"in o?o.pageX:0}mouse.x=mouseRelativeX;function mouseRelativeY(o){return typeof o=="object"&&"pageY"in o?o.pageY:0}mouse.y=mouseRelativeY;function mouseListen(o,s){s||(s=o,o=window);var c=0,d=0,g=0,b={shift:!1,alt:!1,control:!1,meta:!1},_=!1;function $(st){var wt=!1;return"altKey"in st&&(wt=wt||st.altKey!==b.alt,b.alt=!!st.altKey),"shiftKey"in st&&(wt=wt||st.shiftKey!==b.shift,b.shift=!!st.shiftKey),"ctrlKey"in st&&(wt=wt||st.ctrlKey!==b.control,b.control=!!st.ctrlKey),"metaKey"in st&&(wt=wt||st.metaKey!==b.meta,b.meta=!!st.metaKey),wt}function j(st,wt){var Ht=mouse.x(wt),Vt=mouse.y(wt);"buttons"in wt&&(st=wt.buttons|0),(st!==c||Ht!==d||Vt!==g||$(wt))&&(c=st|0,d=Ht||0,g=Vt||0,s&&s(c,d,g,b))}function tt(st){j(0,st)}function nt(){(c||d||g||b.shift||b.alt||b.meta||b.control)&&(d=g=0,c=0,b.shift=b.alt=b.control=b.meta=!1,s&&s(0,0,0,b))}function it(st){$(st)&&s&&s(c,d,g,b)}function ot(st){mouse.buttons(st)===0?j(0,st):j(c,st)}function ft(st){j(c|mouse.buttons(st),st)}function yt(st){j(c&~mouse.buttons(st),st)}function xt(){_||(_=!0,o.addEventListener("mousemove",ot),o.addEventListener("mousedown",ft),o.addEventListener("mouseup",yt),o.addEventListener("mouseleave",tt),o.addEventListener("mouseenter",tt),o.addEventListener("mouseout",tt),o.addEventListener("mouseover",tt),o.addEventListener("blur",nt),o.addEventListener("keyup",it),o.addEventListener("keydown",it),o.addEventListener("keypress",it),o!==window&&(window.addEventListener("blur",nt),window.addEventListener("keyup",it),window.addEventListener("keydown",it),window.addEventListener("keypress",it)))}function kt(){_&&(_=!1,o.removeEventListener("mousemove",ot),o.removeEventListener("mousedown",ft),o.removeEventListener("mouseup",yt),o.removeEventListener("mouseleave",tt),o.removeEventListener("mouseenter",tt),o.removeEventListener("mouseout",tt),o.removeEventListener("mouseover",tt),o.removeEventListener("blur",nt),o.removeEventListener("keyup",it),o.removeEventListener("keydown",it),o.removeEventListener("keypress",it),o!==window&&(window.removeEventListener("blur",nt),window.removeEventListener("keyup",it),window.removeEventListener("keydown",it),window.removeEventListener("keypress",it)))}xt();var mt={element:o};return Object.defineProperties(mt,{enabled:{get:function(){return _},set:function(st){st?xt():kt()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return b},enumerable:!0}}),mt}var meyda_min={exports:{}},dct_1,hasRequiredDct$1;function requireDct$1(){if(hasRequiredDct$1)return dct_1;hasRequiredDct$1=1;var o=null,s=function(d){o=o||{},o[d]=new Array(d*d);for(var g=Math.PI/d,b=0;b<d;b++)for(var _=0;_<d;_++)o[d][_+b*d]=Math.cos(g*(_+.5)*b)};function c(d,g){var b=d.length;g=g||2,(!o||!o[b])&&s(b);var _=d.map(function(){return 0});return _.map(function($,j){return g*d.reduce(function(tt,nt,it,ot){return tt+nt*o[b][it+j*b]},0)})}return dct_1=c,dct_1}var dct,hasRequiredDct;function requireDct(){return hasRequiredDct||(hasRequiredDct=1,dct=requireDct$1()),dct}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;function o(nt){if(Array.isArray(nt)){for(var it=0,ot=Array(nt.length);it<nt.length;it++)ot[it]=nt[it];return ot}else return Array.from(nt)}var s={},c={},d=function(it){var ot={};ot.real=it.real===void 0?it.slice():it.real.slice();var ft=ot.real.length;return c[ft]===void 0&&(c[ft]=Array.apply(null,Array(ft)).map(Number.prototype.valueOf,0)),ot.imag=c[ft].slice(),ot},g=function(it){if(s[it]===void 0){for(var ot=(it-1).toString(2).length,ft="0".repeat(ot),yt={},xt=0;xt<it;xt++){var kt=xt.toString(2);kt=ft.substr(kt.length)+kt,kt=[].concat(o(kt)).reverse().join(""),yt[xt]=parseInt(kt,2)}s[it]=yt}return s[it]},b=function(it,ot){return{real:it.real*ot.real-it.imag*ot.imag,imag:it.real*ot.imag+it.imag*ot.real}},_=function(it,ot){return{real:it.real+ot.real,imag:it.imag+ot.imag}},$=function(it,ot){return{real:it.real-ot.real,imag:it.imag-ot.imag}},j=function(it,ot){var ft=-2*Math.PI*it/ot;return{real:Math.cos(ft),imag:Math.sin(ft)}},tt=function(it){return it.imag*=-1,it};return utils={bitReverseArray:g,multiply:b,add:_,subtract:$,euler:j,conj:tt,constructComplexArray:d},utils}var fft_1,hasRequiredFft;function requireFft(){if(hasRequiredFft)return fft_1;hasRequiredFft=1;var o=requireUtils(),s=function(g){var b={};g.real===void 0||g.imag===void 0?b=o.constructComplexArray(g):(b.real=g.real.slice(),b.imag=g.imag.slice());var _=b.real.length,$=Math.log2(_);if(Math.round($)!=$)throw new Error("Input size must be a power of 2.");if(b.real.length!=b.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var j=o.bitReverseArray(_),tt={real:[],imag:[]},nt=0;nt<_;nt++)tt.real[j[nt]]=b.real[nt],tt.imag[j[nt]]=b.imag[nt];for(var it=0;it<_;it++)b.real[it]=tt.real[it],b.imag[it]=tt.imag[it];for(var ot=1;ot<=$;ot++)for(var ft=Math.pow(2,ot),yt=0;yt<ft/2;yt++)for(var xt=o.euler(yt,ft),kt=0;kt<_/ft;kt++){var mt=ft*kt+yt,st=ft*kt+yt+ft/2,wt={real:b.real[mt],imag:b.imag[mt]},Ht={real:b.real[st],imag:b.imag[st]},Vt=o.multiply(xt,Ht),St=o.subtract(wt,Vt);b.real[st]=St.real,b.imag[st]=St.imag;var gt=o.add(Vt,wt);b.real[mt]=gt.real,b.imag[mt]=gt.imag}return b},c=function(g){if(g.real===void 0||g.imag===void 0)throw new Error("IFFT only accepts a complex input.");for(var b=g.real.length,_={real:[],imag:[]},$=0;$<b;$++){var j={real:g.real[$],imag:g.imag[$]},tt=o.conj(j);_.real[$]=tt.real,_.imag[$]=tt.imag}var nt=s(_);return _.real=nt.real.map(function(it){return it/b}),_.imag=nt.imag.map(function(it){return it/b}),_};return fft_1={fft:s,ifft:c},fft_1}(function(o,s){(function(c,d){o.exports=d(requireDct(),requireFft())})(commonjsGlobal,function(c,d){function g(St,gt,Lt){if(Lt||arguments.length===2)for(var Ot,Kt=0,_r=gt.length;Kt<_r;Kt++)!Ot&&Kt in gt||(Ot||(Ot=Array.prototype.slice.call(gt,0,Kt)),Ot[Kt]=gt[Kt]);return St.concat(Ot||Array.prototype.slice.call(gt))}var b=Object.freeze({__proto__:null,blackman:function(St){for(var gt=new Float32Array(St),Lt=2*Math.PI/(St-1),Ot=2*Lt,Kt=0;Kt<St/2;Kt++)gt[Kt]=.42-.5*Math.cos(Kt*Lt)+.08*Math.cos(Kt*Ot);for(Kt=Math.ceil(St/2);Kt>0;Kt--)gt[St-Kt]=gt[Kt-1];return gt},hamming:function(St){for(var gt=new Float32Array(St),Lt=0;Lt<St;Lt++)gt[Lt]=.54-.46*Math.cos(2*Math.PI*(Lt/St-1));return gt},hanning:function(St){for(var gt=new Float32Array(St),Lt=0;Lt<St;Lt++)gt[Lt]=.5-.5*Math.cos(2*Math.PI*Lt/(St-1));return gt},sine:function(St){for(var gt=Math.PI/(St-1),Lt=new Float32Array(St),Ot=0;Ot<St;Ot++)Lt[Ot]=Math.sin(gt*Ot);return Lt}}),_={};function $(St){for(;St%2==0&&St>1;)St/=2;return St===1}function j(St,gt){if(gt!=="rect"){if(gt!==""&&gt||(gt="hanning"),_[gt]||(_[gt]={}),!_[gt][St.length])try{_[gt][St.length]=b[gt](St.length)}catch{throw new Error("Invalid windowing function")}St=function(Lt,Ot){for(var Kt=[],_r=0;_r<Math.min(Lt.length,Ot.length);_r++)Kt[_r]=Lt[_r]*Ot[_r];return Kt}(St,_[gt][St.length])}return St}function tt(St,gt,Lt){for(var Ot=new Float32Array(St),Kt=0;Kt<Ot.length;Kt++)Ot[Kt]=Kt*gt/Lt,Ot[Kt]=13*Math.atan(Ot[Kt]/1315.8)+3.5*Math.atan(Math.pow(Ot[Kt]/7518,2));return Ot}function nt(St){return Float32Array.from(St)}function it(St){return 1125*Math.log(1+St/700)}function ot(St,gt,Lt){for(var Ot,Kt=new Float32Array(St+2),_r=new Float32Array(St+2),qr=gt/2,Vr=it(0),Rr=(it(qr)-Vr)/(St+1),Lr=new Array(St+2),Qr=0;Qr<Kt.length;Qr++)Kt[Qr]=Qr*Rr,_r[Qr]=(Ot=Kt[Qr],700*(Math.exp(Ot/1125)-1)),Lr[Qr]=Math.floor((Lt+1)*_r[Qr]/gt);for(var yn=new Array(St),hr=0;hr<yn.length;hr++){for(yn[hr]=new Array(Lt/2+1).fill(0),Qr=Lr[hr];Qr<Lr[hr+1];Qr++)yn[hr][Qr]=(Qr-Lr[hr])/(Lr[hr+1]-Lr[hr]);for(Qr=Lr[hr+1];Qr<Lr[hr+2];Qr++)yn[hr][Qr]=(Lr[hr+2]-Qr)/(Lr[hr+2]-Lr[hr+1])}return yn}function ft(St,gt,Lt,Ot,Kt,_r,qr){Ot===void 0&&(Ot=5),Kt===void 0&&(Kt=2),_r===void 0&&(_r=!0),qr===void 0&&(qr=440);var Vr=Math.floor(Lt/2)+1,Rr=new Array(Lt).fill(0).map(function(on,an){return St*function(xn,vn){return Math.log2(16*xn/vn)}(gt*an/Lt,qr)});Rr[0]=Rr[1]-1.5*St;var Lr,Qr,yn,hr=Rr.slice(1).map(function(on,an){return Math.max(on-Rr[an])},1).concat([1]),Nr=Math.round(St/2),Ir=new Array(St).fill(0).map(function(on,an){return Rr.map(function(xn){return(10*St+Nr+xn-an)%St-Nr})}),Br=Ir.map(function(on,an){return on.map(function(xn,vn){return Math.exp(-.5*Math.pow(2*Ir[an][vn]/hr[vn],2))})});if(Qr=(Lr=Br)[0].map(function(){return 0}),yn=Lr.reduce(function(on,an){return an.forEach(function(xn,vn){on[vn]+=Math.pow(xn,2)}),on},Qr).map(Math.sqrt),Br=Lr.map(function(on,an){return on.map(function(xn,vn){return xn/(yn[vn]||1)})}),Kt){var Zr=Rr.map(function(on){return Math.exp(-.5*Math.pow((on/St-Ot)/Kt,2))});Br=Br.map(function(on){return on.map(function(an,xn){return an*Zr[xn]})})}return _r&&(Br=g(g([],Br.slice(3),!0),Br.slice(0,3),!0)),Br.map(function(on){return on.slice(0,Vr)})}function yt(St,gt){for(var Lt=0,Ot=0,Kt=0;Kt<gt.length;Kt++)Lt+=Math.pow(Kt,St)*Math.abs(gt[Kt]),Ot+=gt[Kt];return Lt/Ot}function xt(St){var gt=St.ampSpectrum,Lt=St.barkScale,Ot=St.numberOfBarkBands,Kt=Ot===void 0?24:Ot;if(typeof gt!="object"||typeof Lt!="object")throw new TypeError;var _r=Kt,qr=new Float32Array(_r),Vr=0,Rr=gt,Lr=new Int32Array(_r+1);Lr[0]=0;for(var Qr=Lt[Rr.length-1]/_r,yn=1,hr=0;hr<Rr.length;hr++)for(;Lt[hr]>Qr;)Lr[yn++]=hr,Qr=yn*Lt[Rr.length-1]/_r;for(Lr[_r]=Rr.length-1,hr=0;hr<_r;hr++){for(var Nr=0,Ir=Lr[hr];Ir<Lr[hr+1];Ir++)Nr+=Rr[Ir];qr[hr]=Math.pow(Nr,.23)}for(hr=0;hr<qr.length;hr++)Vr+=qr[hr];return{specific:qr,total:Vr}}function kt(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;for(var Lt=new Float32Array(gt.length),Ot=0;Ot<Lt.length;Ot++)Lt[Ot]=Math.pow(gt[Ot],2);return Lt}function mt(St){var gt=St.ampSpectrum,Lt=St.melFilterBank,Ot=St.bufferSize;if(typeof gt!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof Lt!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var Kt=kt({ampSpectrum:gt}),_r=Lt.length,qr=Array(_r),Vr=new Float32Array(_r),Rr=0;Rr<Vr.length;Rr++){qr[Rr]=new Float32Array(Ot/2),Vr[Rr]=0;for(var Lr=0;Lr<Ot/2;Lr++)qr[Rr][Lr]=Lt[Rr][Lr]*Kt[Lr],Vr[Rr]+=qr[Rr][Lr];Vr[Rr]=Math.log(Vr[Rr]+1)}return Array.prototype.slice.call(Vr)}var st=Object.freeze({__proto__:null,amplitudeSpectrum:function(St){return St.ampSpectrum},buffer:function(St){return St.signal},chroma:function(St){var gt=St.ampSpectrum,Lt=St.chromaFilterBank;if(typeof gt!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof Lt!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var Ot=Lt.map(function(_r,qr){return gt.reduce(function(Vr,Rr,Lr){return Vr+Rr*_r[Lr]},0)}),Kt=Math.max.apply(Math,Ot);return Kt?Ot.map(function(_r){return _r/Kt}):Ot},complexSpectrum:function(St){return St.complexSpectrum},energy:function(St){var gt=St.signal;if(typeof gt!="object")throw new TypeError;for(var Lt=0,Ot=0;Ot<gt.length;Ot++)Lt+=Math.pow(Math.abs(gt[Ot]),2);return Lt},loudness:xt,melBands:mt,mfcc:function(St){var gt=St.ampSpectrum,Lt=St.melFilterBank,Ot=St.numberOfMFCCCoefficients,Kt=St.bufferSize,_r=Math.min(40,Math.max(1,Ot||13));if(Lt.length<_r)throw new Error("Insufficient filter bank for requested number of coefficients");var qr=mt({ampSpectrum:gt,melFilterBank:Lt,bufferSize:Kt});return c(qr).slice(0,_r)},perceptualSharpness:function(St){for(var gt=xt({ampSpectrum:St.ampSpectrum,barkScale:St.barkScale}),Lt=gt.specific,Ot=0,Kt=0;Kt<Lt.length;Kt++)Ot+=Kt<15?(Kt+1)*Lt[Kt+1]:.066*Math.exp(.171*(Kt+1));return Ot*=.11/gt.total},perceptualSpread:function(St){for(var gt=xt({ampSpectrum:St.ampSpectrum,barkScale:St.barkScale}),Lt=0,Ot=0;Ot<gt.specific.length;Ot++)gt.specific[Ot]>Lt&&(Lt=gt.specific[Ot]);return Math.pow((gt.total-Lt)/gt.total,2)},powerSpectrum:kt,rms:function(St){var gt=St.signal;if(typeof gt!="object")throw new TypeError;for(var Lt=0,Ot=0;Ot<gt.length;Ot++)Lt+=Math.pow(gt[Ot],2);return Lt/=gt.length,Lt=Math.sqrt(Lt)},spectralCentroid:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;return yt(1,gt)},spectralCrest:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;var Lt=0,Ot=-1/0;return gt.forEach(function(Kt){Lt+=Math.pow(Kt,2),Ot=Kt>Ot?Kt:Ot}),Lt/=gt.length,Lt=Math.sqrt(Lt),Ot/Lt},spectralFlatness:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;for(var Lt=0,Ot=0,Kt=0;Kt<gt.length;Kt++)Lt+=Math.log(gt[Kt]),Ot+=gt[Kt];return Math.exp(Lt/gt.length)*gt.length/Ot},spectralFlux:function(St){var gt=St.signal,Lt=St.previousSignal,Ot=St.bufferSize;if(typeof gt!="object"||typeof Lt!="object")throw new TypeError;for(var Kt=0,_r=-Ot/2;_r<gt.length/2-1;_r++)x=Math.abs(gt[_r])-Math.abs(Lt[_r]),Kt+=(x+Math.abs(x))/2;return Kt},spectralKurtosis:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;var Lt=gt,Ot=yt(1,Lt),Kt=yt(2,Lt),_r=yt(3,Lt),qr=yt(4,Lt);return(-3*Math.pow(Ot,4)+6*Ot*Kt-4*Ot*_r+qr)/Math.pow(Math.sqrt(Kt-Math.pow(Ot,2)),4)},spectralRolloff:function(St){var gt=St.ampSpectrum,Lt=St.sampleRate;if(typeof gt!="object")throw new TypeError;for(var Ot=gt,Kt=Lt/(2*(Ot.length-1)),_r=0,qr=0;qr<Ot.length;qr++)_r+=Ot[qr];for(var Vr=.99*_r,Rr=Ot.length-1;_r>Vr&&Rr>=0;)_r-=Ot[Rr],--Rr;return(Rr+1)*Kt},spectralSkewness:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;var Lt=yt(1,gt),Ot=yt(2,gt),Kt=yt(3,gt);return(2*Math.pow(Lt,3)-3*Lt*Ot+Kt)/Math.pow(Math.sqrt(Ot-Math.pow(Lt,2)),3)},spectralSlope:function(St){var gt=St.ampSpectrum,Lt=St.sampleRate,Ot=St.bufferSize;if(typeof gt!="object")throw new TypeError;for(var Kt=0,_r=0,qr=new Float32Array(gt.length),Vr=0,Rr=0,Lr=0;Lr<gt.length;Lr++){Kt+=gt[Lr];var Qr=Lr*Lt/Ot;qr[Lr]=Qr,Vr+=Qr*Qr,_r+=Qr,Rr+=Qr*gt[Lr]}return(gt.length*Rr-_r*Kt)/(Kt*(Vr-Math.pow(_r,2)))},spectralSpread:function(St){var gt=St.ampSpectrum;if(typeof gt!="object")throw new TypeError;return Math.sqrt(yt(2,gt)-Math.pow(yt(1,gt),2))},zcr:function(St){var gt=St.signal;if(typeof gt!="object")throw new TypeError;for(var Lt=0,Ot=1;Ot<gt.length;Ot++)(gt[Ot-1]>=0&&gt[Ot]<0||gt[Ot-1]<0&&gt[Ot]>=0)&&Lt++;return Lt}}),wt=function(){function St(gt,Lt){var Ot=this;if(this._m=Lt,!gt.audioContext)throw this._m.errors.noAC;if(gt.bufferSize&&!$(gt.bufferSize))throw this._m._errors.notPow2;if(!gt.source)throw this._m._errors.noSource;this._m.audioContext=gt.audioContext,this._m.bufferSize=gt.bufferSize||this._m.bufferSize||256,this._m.hopSize=gt.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=gt.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=gt.callback,this._m.windowingFunction=gt.windowingFunction||"hanning",this._m.featureExtractors=st,this._m.EXTRACTION_STARTED=gt.startImmediately||!1,this._m.channel=typeof gt.channel=="number"?gt.channel:0,this._m.inputs=gt.inputs||1,this._m.outputs=gt.outputs||1,this._m.numberOfMFCCCoefficients=gt.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=gt.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=gt.featureExtractors||[],this._m.barkScale=tt(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=ot(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(gt.source),this._m.spn.onaudioprocess=function(Kt){var _r;Ot._m.inputData!==null&&(Ot._m.previousInputData=Ot._m.inputData),Ot._m.inputData=Kt.inputBuffer.getChannelData(Ot._m.channel),Ot._m.previousInputData?((_r=new Float32Array(Ot._m.previousInputData.length+Ot._m.inputData.length-Ot._m.hopSize)).set(Ot._m.previousInputData.slice(Ot._m.hopSize)),_r.set(Ot._m.inputData,Ot._m.previousInputData.length-Ot._m.hopSize)):_r=Ot._m.inputData;var qr=function(Vr,Rr,Lr){if(Vr.length<Rr)throw new Error("Buffer is too short for frame length");if(Lr<1)throw new Error("Hop length cannot be less that 1");if(Rr<1)throw new Error("Frame length cannot be less that 1");var Qr=1+Math.floor((Vr.length-Rr)/Lr);return new Array(Qr).fill(0).map(function(yn,hr){return Vr.slice(hr*Lr,hr*Lr+Rr)})}(_r,Ot._m.bufferSize,Ot._m.hopSize);qr.forEach(function(Vr){Ot._m.frame=Vr;var Rr=Ot._m.extract(Ot._m._featuresToExtract,Ot._m.frame,Ot._m.previousFrame);typeof Ot._m.callback=="function"&&Ot._m.EXTRACTION_STARTED&&Ot._m.callback(Rr),Ot._m.previousFrame=Ot._m.frame})}}return St.prototype.start=function(gt){this._m._featuresToExtract=gt||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},St.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},St.prototype.setSource=function(gt){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=gt,this._m.source.connect(this._m.spn)},St.prototype.setChannel=function(gt){gt<=this._m.inputs?this._m.channel=gt:console.error("Channel ".concat(gt," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(gt," when instantiating the MeydaAnalyzer"))},St.prototype.get=function(gt){return this._m.inputData?this._m.extract(gt||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},St}(),Ht={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:st,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:j,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(St){return new wt(St,Object.assign({},Ht))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(St,gt,Lt){var Ot=this;if(!gt)throw this._errors.invalidInput;if(typeof gt!="object")throw this._errors.invalidInput;if(!St)throw this._errors.featureUndef;if(!$(gt.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=tt(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=ot(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=ft(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in gt&&gt.buffer===void 0?this.signal=nt(gt):this.signal=gt;var Kt=Vt(gt,this.windowingFunction,this.bufferSize);if(this.signal=Kt.windowedSignal,this.complexSpectrum=Kt.complexSpectrum,this.ampSpectrum=Kt.ampSpectrum,Lt){var _r=Vt(Lt,this.windowingFunction,this.bufferSize);this.previousSignal=_r.windowedSignal,this.previousComplexSpectrum=_r.complexSpectrum,this.previousAmpSpectrum=_r.ampSpectrum}var qr=function(Vr){return Ot.featureExtractors[Vr]({ampSpectrum:Ot.ampSpectrum,chromaFilterBank:Ot.chromaFilterBank,complexSpectrum:Ot.complexSpectrum,signal:Ot.signal,bufferSize:Ot.bufferSize,sampleRate:Ot.sampleRate,barkScale:Ot.barkScale,melFilterBank:Ot.melFilterBank,previousSignal:Ot.previousSignal,previousAmpSpectrum:Ot.previousAmpSpectrum,previousComplexSpectrum:Ot.previousComplexSpectrum,numberOfMFCCCoefficients:Ot.numberOfMFCCCoefficients,numberOfBarkBands:Ot.numberOfBarkBands})};if(typeof St=="object")return St.reduce(function(Vr,Rr){var Lr;return Object.assign({},Vr,((Lr={})[Rr]=qr(Rr),Lr))},{});if(typeof St=="string")return qr(St);throw this._errors.invalidFeatureFmt}},Vt=function(St,gt,Lt){var Ot={};St.buffer===void 0?Ot.signal=nt(St):Ot.signal=St,Ot.windowedSignal=j(Ot.signal,gt),Ot.complexSpectrum=d.fft(Ot.windowedSignal),Ot.ampSpectrum=new Float32Array(Lt/2);for(var Kt=0;Kt<Lt/2;Kt++)Ot.ampSpectrum[Kt]=Math.sqrt(Math.pow(Ot.complexSpectrum.real[Kt],2)+Math.pow(Ot.complexSpectrum.imag[Kt],2));return Ot};return typeof window<"u"&&(window.Meyda=Ht),Ht})})(meyda_min);var meyda_minExports=meyda_min.exports;const Meyda=getDefaultExportFromCjs(meyda_minExports);class Audio{constructor({numBins:s=4,cutoff:c=2,smooth:d=.4,max:g=15,scale:b=10,isDrawing:_=!1,parentEl:$=document.body}){this.vol=0,this.scale=b,this.max=g,this.cutoff=c,this.smooth=d,this.setBins(s),this.beat={holdFrames:20,threshold:40,_cutoff:0,decay:.98,_framesSinceBeat:0},this.onBeat=()=>{},this.canvas=document.createElement("canvas"),this.canvas.width=100,this.canvas.height=80,this.canvas.style.width="100px",this.canvas.style.height="80px",this.canvas.style.position="absolute",this.canvas.style.right="0px",this.canvas.style.bottom="0px",$.appendChild(this.canvas),this.isDrawing=_,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#DFFFFF",this.ctx.strokeStyle="#0ff",this.ctx.lineWidth=.5,window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(j=>{this.stream=j,this.context=new AudioContext;let tt=this.context.createMediaStreamSource(j);this.meyda=Meyda.createMeydaAnalyzer({audioContext:this.context,source:tt,featureExtractors:["loudness"]})}).catch(j=>console.log("ERROR",j))}detectBeat(s){s>this.beat._cutoff&&s>this.beat.threshold?(this.onBeat(),this.beat._cutoff=s*1.2,this.beat._framesSinceBeat=0):this.beat._framesSinceBeat<=this.beat.holdFrames?this.beat._framesSinceBeat++:(this.beat._cutoff*=this.beat.decay,this.beat._cutoff=Math.max(this.beat._cutoff,this.beat.threshold))}tick(){if(this.meyda){var s=this.meyda.get();if(s&&s!==null){this.vol=s.loudness.total,this.detectBeat(this.vol);const c=(g,b)=>g+b;let d=Math.floor(s.loudness.specific.length/this.bins.length);this.prevBins=this.bins.slice(0),this.bins=this.bins.map((g,b)=>s.loudness.specific.slice(b*d,(b+1)*d).reduce(c)).map((g,b)=>g*(1-this.settings[b].smooth)+this.prevBins[b]*this.settings[b].smooth),this.fft=this.bins.map((g,b)=>Math.max(0,(g-this.settings[b].cutoff)/this.settings[b].scale)),this.isDrawing&&this.draw()}}}setCutoff(s){this.cutoff=s,this.settings=this.settings.map(c=>(c.cutoff=s,c))}setSmooth(s){this.smooth=s,this.settings=this.settings.map(c=>(c.smooth=s,c))}setBins(s){this.bins=Array(s).fill(0),this.prevBins=Array(s).fill(0),this.fft=Array(s).fill(0),this.settings=Array(s).fill(0).map(()=>({cutoff:this.cutoff,scale:this.scale,smooth:this.smooth})),this.bins.forEach((c,d)=>{window["a"+d]=(g=1,b=0)=>()=>a.fft[d]*g+b})}setScale(s){this.scale=s,this.settings=this.settings.map(c=>(c.scale=s,c))}setMax(s){this.max=s,console.log("set max is deprecated")}hide(){this.isDrawing=!1,this.canvas.style.display="none"}show(){this.isDrawing=!0,this.canvas.style.display="block"}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var s=this.canvas.width/this.bins.length,c=this.canvas.height/(this.max*2);this.bins.forEach((d,g)=>{var b=d*c;this.ctx.fillRect(g*s,this.canvas.height-b,s,b);var _=this.canvas.height-c*this.settings[g].cutoff;this.ctx.beginPath(),this.ctx.moveTo(g*s,_),this.ctx.lineTo((g+1)*s,_),this.ctx.stroke();var $=this.canvas.height-c*(this.settings[g].scale+this.settings[g].cutoff);this.ctx.beginPath(),this.ctx.moveTo(g*s,$),this.ctx.lineTo((g+1)*s,$),this.ctx.stroke()})}}class VideoRecorder{constructor(s){this.mediaSource=new MediaSource,this.stream=s,this.output=document.createElement("video"),this.output.autoplay=!0,this.output.loop=!0;let c=this;this.mediaSource.addEventListener("sourceopen",()=>{console.log("MediaSource opened"),c.sourceBuffer=c.mediaSource.addSourceBuffer('video/webm; codecs="vp8"'),console.log("Source buffer: ",sourceBuffer)})}start(){let s={mimeType:"video/webm;codecs=vp9"};this.recordedBlobs=[];try{this.mediaRecorder=new MediaRecorder(this.stream,s)}catch(c){console.log("Unable to create MediaRecorder with options Object: ",c);try{s={mimeType:"video/webm,codecs=vp9"},this.mediaRecorder=new MediaRecorder(this.stream,s)}catch(d){console.log("Unable to create MediaRecorder with options Object: ",d);try{s="video/vp8",this.mediaRecorder=new MediaRecorder(this.stream,s)}catch(g){alert(`MediaRecorder is not supported by this browser.

Try Firefox 29 or later, or Chrome 47 or later, with Enable experimental Web Platform features enabled from chrome://flags.`),console.error("Exception while creating MediaRecorder:",g);return}}}console.log("Created MediaRecorder",this.mediaRecorder,"with options",s),this.mediaRecorder.onstop=this._handleStop.bind(this),this.mediaRecorder.ondataavailable=this._handleDataAvailable.bind(this),this.mediaRecorder.start(100),console.log("MediaRecorder started",this.mediaRecorder)}stop(){this.mediaRecorder.stop()}_handleStop(){const s=new Blob(this.recordedBlobs,{type:this.mediaRecorder.mimeType}),c=window.URL.createObjectURL(s);this.output.src=c;const d=document.createElement("a");d.style.display="none",d.href=c;let g=new Date;d.download=`hydra-${g.getFullYear()}-${g.getMonth()+1}-${g.getDate()}-${g.getHours()}.${g.getMinutes()}.${g.getSeconds()}.webm`,document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),window.URL.revokeObjectURL(c)},300)}_handleDataAvailable(s){s.data&&s.data.size>0&&this.recordedBlobs.push(s.data)}}const easing={linear:function(o){return o},easeInQuad:function(o){return o*o},easeOutQuad:function(o){return o*(2-o)},easeInOutQuad:function(o){return o<.5?2*o*o:-1+(4-2*o)*o},easeInCubic:function(o){return o*o*o},easeOutCubic:function(o){return--o*o*o+1},easeInOutCubic:function(o){return o<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1},easeInQuart:function(o){return o*o*o*o},easeOutQuart:function(o){return 1- --o*o*o*o},easeInOutQuart:function(o){return o<.5?8*o*o*o*o:1-8*--o*o*o*o},easeInQuint:function(o){return o*o*o*o*o},easeOutQuint:function(o){return 1+--o*o*o*o*o},easeInOutQuint:function(o){return o<.5?16*o*o*o*o*o:1+16*--o*o*o*o*o},sin:function(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}};var map=(o,s,c,d,g)=>(o-s)*(g-d)/(c-s)+d;const ArrayUtils={init:()=>{Array.prototype.fast=function(o=1){return this._speed=o,this},Array.prototype.smooth=function(o=1){return this._smooth=o,this},Array.prototype.ease=function(o="linear"){return typeof o=="function"?(this._smooth=1,this._ease=o):easing[o]&&(this._smooth=1,this._ease=easing[o]),this},Array.prototype.offset=function(o=.5){return this._offset=o%1,this},Array.prototype.fit=function(o=0,s=1){let c=Math.min(...this),d=Math.max(...this);var g=this.map(b=>map(b,c,d,o,s));return g._speed=this._speed,g._smooth=this._smooth,g._ease=this._ease,g}},getValue:(o=[])=>({time:s,bpm:c})=>{let d=o._speed?o._speed:1,g=o._smooth?o._smooth:0,b=s*d*(c/60)+(o._offset||0);if(g!==0){let _=o._ease?o._ease:easing.linear,$=b-g/2,j=o[Math.floor($%o.length)],tt=o[Math.floor(($+1)%o.length)],nt=Math.min($%1/g,1);return _(nt)*(tt-j)+j}else return o[Math.floor(b%o.length)],o[Math.floor(b%o.length)]}},Sandbox=parent=>{var initialCode="",sandbox=createSandbox(initialCode),addToContext=(o,s)=>{initialCode+=`
      var ${o} = ${s}
    `,sandbox=createSandbox(initialCode)};return{addToContext,eval:o=>sandbox.eval(o)};function createSandbox(initial){eval(initial);var localEval=function(code){eval(code)};return{eval:localEval}}};class EvalSandbox{constructor(s,c,d=[]){this.makeGlobal=c,this.sandbox=Sandbox(),this.parent=s;var g=Object.keys(s);g.forEach(b=>this.add(b)),this.userProps=d}add(s){this.makeGlobal&&(window[s]=this.parent[s]),this.sandbox.addToContext(s,`parent.${s}`)}set(s,c){this.makeGlobal&&(window[s]=c),this.parent[s]=c}tick(){this.makeGlobal&&this.userProps.forEach(s=>{this.parent[s]=window[s]})}eval(s){this.sandbox.eval(s)}}const DEFAULT_CONVERSIONS={float:{vec4:{name:"sum",args:[[1,1,1,1]]},vec2:{name:"sum",args:[[1,1]]}}},ensure_decimal_dot=o=>(o=o.toString(),o.indexOf(".")<0&&(o+="."),o);function formatArguments(o,s,c){const d=o.transform.inputs,g=o.userArgs,{generators:b}=o.synth,{src:_}=b;return d.map(($,j)=>{const tt={value:$.default,type:$.type,isUniform:!1,name:$.name,vecLen:0};if(tt.type==="float"&&(tt.value=ensure_decimal_dot($.default)),$.type.startsWith("vec"))try{tt.vecLen=Number.parseInt($.type.substr(3))}catch{console.log(`Error determining length of vector input type ${$.type} (${$.name})`)}if(g.length>j&&(tt.value=g[j],typeof g[j]=="function"?(tt.value=(ot,ft,yt)=>{try{const xt=g[j](ft);return typeof xt=="number"?xt:(console.warn("function does not return a number",g[j]),$.default)}catch(xt){return console.warn("ERROR",xt),$.default}},tt.isUniform=!0):g[j].constructor===Array&&(tt.value=(ot,ft,yt)=>ArrayUtils.getValue(g[j])(ft),tt.isUniform=!0)),!(s<0)){if(tt.value&&tt.value.transforms){const ot=tt.value.transforms[tt.value.transforms.length-1];if(ot.transform.glsl_return_type!==$.type){const ft=DEFAULT_CONVERSIONS[$.type];if(typeof ft<"u"){const yt=ft[ot.transform.glsl_return_type];if(typeof yt<"u"){const{name:xt,args:kt}=yt;tt.value=tt.value[xt](...kt)}}}tt.isUniform=!1}else if(tt.type==="float"&&typeof tt.value=="number")tt.value=ensure_decimal_dot(tt.value);else if(tt.type.startsWith("vec")&&typeof tt.value=="object"&&Array.isArray(tt.value))tt.isUniform=!1,tt.value=`${tt.type}(${tt.value.map(ensure_decimal_dot).join(", ")})`;else if($.type==="sampler2D"){var nt=tt.value;tt.value=()=>nt.getTexture(),tt.isUniform=!0}else if(tt.value.getTexture&&$.type==="vec4"){var it=tt.value;tt.value=_(it),tt.isUniform=!1}tt.isUniform&&(tt.name+=s)}return tt})}function generateGlsl(o){var s={uniforms:[],glslFunctions:[],fragColor:""},c=generateGlsl$1(o,s)("st");s.fragColor=c;let d={};return s.uniforms.forEach(g=>d[g.name]=g),s.uniforms=Object.values(d),s}function generateGlsl$1(o,s){var c=()=>"";return o.forEach(d=>{var g=formatArguments(d,s.uniforms.length);g.forEach($=>{$.isUniform&&s.uniforms.push($)}),contains(d,s.glslFunctions)||s.glslFunctions.push(d);var b=c;if(d.transform.type==="src")c=$=>`${shaderString($,d.name,g,s)}`;else if(d.transform.type==="coord")c=$=>`${b(`${shaderString($,d.name,g,s)}`)}`;else if(d.transform.type==="color")c=$=>`${shaderString(`${b($)}`,d.name,g,s)}`;else if(d.transform.type==="combine"){var _=g[0].value&&g[0].value.transforms?$=>`${generateGlsl$1(g[0].value.transforms,s)($)}`:g[0].isUniform?()=>g[0].name:()=>g[0].value;c=$=>`${shaderString(`${b($)}, ${_($)}`,d.name,g.slice(1),s)}`}else if(d.transform.type==="combineCoord"){var _=g[0].value&&g[0].value.transforms?j=>`${generateGlsl$1(g[0].value.transforms,s)(j)}`:g[0].isUniform?()=>g[0].name:()=>g[0].value;c=j=>`${b(`${shaderString(`${j}, ${_(j)}`,d.name,g.slice(1),s)}`)}`}}),c}function shaderString(o,s,c,d){const g=c.map(b=>b.isUniform?b.name:b.value&&b.value.transforms?`${generateGlsl$1(b.value.transforms,d)("st")}`:b.value).reduce((b,_)=>`${b}, ${_}`,"");return`${s}(${o}${g})`}function contains(o,s){for(var c=0;c<s.length;c++)if(o.name==s[c].name)return!0;return!1}const utilityGlsl={_luminance:{type:"util",glsl:`float _luminance(vec3 rgb){
      const vec3 W = vec3(0.2125, 0.7154, 0.0721);
      return dot(rgb, W);
    }`},_noise:{type:"util",glsl:`
    //	Simplex 3D Noise
    //	by Ian McEwan, Ashima Arts
    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float _noise(vec3 v){
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );

    //  x0 = x0 - 0. + 0.0 * C
    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
    i = mod(i, 289.0 );
    vec4 p = permute( permute( permute(
               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
    float n_ = 1.0/7.0; // N=7
    vec3  ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

  // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
  }
    `},_rgbToHsv:{type:"util",glsl:`vec3 _rgbToHsv(vec3 c){
            vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
            vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
            vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));

            float d = q.x - min(q.w, q.y);
            float e = 1.0e-10;
            return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
        }`},_hsvToRgb:{type:"util",glsl:`vec3 _hsvToRgb(vec3 c){
        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
    }`}};var GlslSource=function(o){return this.transforms=[],this.transforms.push(o),this.defaultOutput=o.defaultOutput,this.synth=o.synth,this.type="GlslSource",this.defaultUniforms=o.defaultUniforms,this};GlslSource.prototype.addTransform=function(o){this.transforms.push(o)};GlslSource.prototype.out=function(o){var s=o||this.defaultOutput,c=this.glsl(s);if(this.synth.currentFunctions=[],s)try{s.render(c)}catch(d){console.log("shader could not compile",d)}};GlslSource.prototype.glsl=function(){var o=[],s=[];return this.transforms.forEach(c=>{c.transform.type==="renderpass"?console.warn("no support for renderpass"):s.push(c)}),s.length>0&&o.push(this.compile(s)),o};GlslSource.prototype.compile=function(o){var s=generateGlsl(o,this.synth),c={};s.uniforms.forEach(g=>{c[g.name]=g.value});var d=`
  precision ${this.defaultOutput.precision} float;
  ${Object.values(s.uniforms).map(g=>{let b=g.type;switch(g.type){case"texture":b="sampler2D";break}return`
      uniform ${b} ${g.name};`}).join("")}
  uniform float time;
  uniform vec2 resolution;
  varying vec2 uv;
  uniform sampler2D prevBuffer;

  ${Object.values(utilityGlsl).map(g=>`
            ${g.glsl}
          `).join("")}

  ${s.glslFunctions.map(g=>`
            ${g.transform.glsl}
          `).join("")}

  void main () {
    vec4 c = vec4(1, 0, 0, 1);
    vec2 st = gl_FragCoord.xy/resolution.xy;
    gl_FragColor = ${s.fragColor};
  }
  `;return{frag:d,uniforms:Object.assign({},this.defaultUniforms,c)}};const glslFunctions=()=>[{name:"noise",type:"src",inputs:[{type:"float",name:"scale",default:10},{type:"float",name:"offset",default:.1}],glsl:"   return vec4(vec3(_noise(vec3(_st*scale, offset*time))), 1.0);"},{name:"voronoi",type:"src",inputs:[{type:"float",name:"scale",default:5},{type:"float",name:"speed",default:.3},{type:"float",name:"blending",default:.3}],glsl:`   vec3 color = vec3(.0);
   // Scale
   _st *= scale;
   // Tile the space
   vec2 i_st = floor(_st);
   vec2 f_st = fract(_st);
   float m_dist = 10.;  // minimun distance
   vec2 m_point;        // minimum point
   for (int j=-1; j<=1; j++ ) {
   for (int i=-1; i<=1; i++ ) {
   vec2 neighbor = vec2(float(i),float(j));
   vec2 p = i_st + neighbor;
   vec2 point = fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);
   point = 0.5 + 0.5*sin(time*speed + 6.2831*point);
   vec2 diff = neighbor + point - f_st;
   float dist = length(diff);
   if( dist < m_dist ) {
   m_dist = dist;
   m_point = point;
   }
   }
   }
   // Assign a color using the closest point position
   color += dot(m_point,vec2(.3,.6));
   color *= 1.0 - blending*m_dist;
   return vec4(color, 1.0);`},{name:"osc",type:"src",inputs:[{type:"float",name:"frequency",default:60},{type:"float",name:"sync",default:.1},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st;
   float r = sin((st.x-offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   float g = sin((st.x+time*sync)*frequency)*0.5 + 0.5;
   float b = sin((st.x+offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   return vec4(r, g, b, 1.0);`},{name:"shape",type:"src",inputs:[{type:"float",name:"sides",default:3},{type:"float",name:"radius",default:.3},{type:"float",name:"smoothing",default:.01}],glsl:`   vec2 st = _st * 2. - 1.;
   // Angle and radius from the current pixel
   float a = atan(st.x,st.y)+3.1416;
   float r = (2.*3.1416)/sides;
   float d = cos(floor(.5+a/r)*r-a)*length(st);
   return vec4(vec3(1.0-smoothstep(radius,radius + smoothing + 0.0000001,d)), 1.0);`},{name:"gradient",type:"src",inputs:[{type:"float",name:"speed",default:0}],glsl:"   return vec4(_st, sin(time*speed), 1.0);"},{name:"src",type:"src",inputs:[{type:"sampler2D",name:"tex",default:NaN}],glsl:`   //  vec2 uv = gl_FragCoord.xy/vec2(1280., 720.);
   return texture2D(tex, fract(_st));`},{name:"solid",type:"src",inputs:[{type:"float",name:"r",default:0},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:1}],glsl:"   return vec4(r, g, b, a);"},{name:"rotate",type:"coord",inputs:[{type:"float",name:"angle",default:10},{type:"float",name:"speed",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float ang = angle + speed *time;
   xy = mat2(cos(ang),-sin(ang), sin(ang),cos(ang))*xy;
   xy += 0.5;
   return xy;`},{name:"scale",type:"coord",inputs:[{type:"float",name:"amount",default:1.5},{type:"float",name:"xMult",default:1},{type:"float",name:"yMult",default:1},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 xy = _st - vec2(offsetX, offsetY);
   xy*=(1.0/vec2(amount*xMult, amount*yMult));
   xy+=vec2(offsetX, offsetY);
   return xy;
   `},{name:"pixelate",type:"coord",inputs:[{type:"float",name:"pixelX",default:20},{type:"float",name:"pixelY",default:20}],glsl:`   vec2 xy = vec2(pixelX, pixelY);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"posterize",type:"color",inputs:[{type:"float",name:"bins",default:3},{type:"float",name:"gamma",default:.6}],glsl:`   vec4 c2 = pow(_c0, vec4(gamma));
   c2 *= vec4(bins);
   c2 = floor(c2);
   c2/= vec4(bins);
   c2 = pow(c2, vec4(1.0/gamma));
   return vec4(c2.xyz, _c0.a);`},{name:"shift",type:"color",inputs:[{type:"float",name:"r",default:.5},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:0}],glsl:`   vec4 c2 = vec4(_c0);
   c2.r = fract(c2.r + r);
   c2.g = fract(c2.g + g);
   c2.b = fract(c2.b + b);
   c2.a = fract(c2.a + a);
   return vec4(c2.rgba);`},{name:"repeat",type:"coord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:0},{type:"float",name:"offsetY",default:0}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) * offsetX;
   st.y += step(1., mod(st.x,2.0)) * offsetY;
   return fract(st);`},{name:"modulateRepeat",type:"combineCoord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offsetX;
   st.y += step(1., mod(st.x,2.0)) + _c0.g * offsetY;
   return fract(st);`},{name:"repeatX",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatX",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"repeatY",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(1.0, reps);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatY",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"kaleid",type:"coord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st;
   st -= 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return r*vec2(cos(a), sin(a));`},{name:"modulateKaleid",type:"combineCoord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st - 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return (_c0.r+r)*vec2(cos(a), sin(a));`},{name:"scroll",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"scrollY",default:.5},{type:"float",name:"speedX",default:0},{type:"float",name:"speedY",default:0}],glsl:`
   _st.x += scrollX + time*speedX;
   _st.y += scrollY + time*speedY;
   return fract(_st);`},{name:"scrollX",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += scrollX + time*speed;
   return fract(_st);`},{name:"modulateScrollX",type:"combineCoord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += _c0.r*scrollX + time*speed;
   return fract(_st);`},{name:"scrollY",type:"coord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += scrollY + time*speed;
   return fract(_st);`},{name:"modulateScrollY",type:"combineCoord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += _c0.r*scrollY + time*speed;
   return fract(_st);`},{name:"add",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0+_c1)*amount + _c0*(1.0-amount);"},{name:"sub",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0-_c1)*amount + _c0*(1.0-amount);"},{name:"layer",type:"combine",inputs:[],glsl:"   return vec4(mix(_c0.rgb, _c1.rgb, _c1.a), clamp(_c0.a + _c1.a, 0.0, 1.0));"},{name:"blend",type:"combine",inputs:[{type:"float",name:"amount",default:.5}],glsl:"   return _c0*(1.0-amount)+_c1*amount;"},{name:"mult",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _c0*(1.0-amount)+(_c0*_c1)*amount;"},{name:"diff",type:"combine",inputs:[],glsl:"   return vec4(abs(_c0.rgb-_c1.rgb), max(_c0.a, _c1.a));"},{name:"modulate",type:"combineCoord",inputs:[{type:"float",name:"amount",default:.1}],glsl:`   //  return fract(st+(_c0.xy-0.5)*amount);
   return _st + _c0.xy*amount;`},{name:"modulateScale",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:1}],glsl:`   vec2 xy = _st - vec2(0.5);
   xy*=(1.0/vec2(offset + multiple*_c0.r, offset + multiple*_c0.g));
   xy+=vec2(0.5);
   return xy;`},{name:"modulatePixelate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:10},{type:"float",name:"offset",default:3}],glsl:`   vec2 xy = vec2(offset + _c0.x*multiple, offset + _c0.y*multiple);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"modulateRotate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float angle = offset + _c0.x * multiple;
   xy = mat2(cos(angle),-sin(angle), sin(angle),cos(angle))*xy;
   xy += 0.5;
   return xy;`},{name:"modulateHue",type:"combineCoord",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _st + (vec2(_c0.g - _c0.r, _c0.b - _c0.g) * amount * 1.0/resolution);"},{name:"invert",type:"color",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return vec4((1.0-_c0.rgb)*amount + _c0.rgb*(1.0-amount), _c0.a);"},{name:"contrast",type:"color",inputs:[{type:"float",name:"amount",default:1.6}],glsl:`   vec4 c = (_c0-vec4(0.5))*vec4(amount) + vec4(0.5);
   return vec4(c.rgb, _c0.a);`},{name:"brightness",type:"color",inputs:[{type:"float",name:"amount",default:.4}],glsl:"   return vec4(_c0.rgb + vec3(amount), _c0.a);"},{name:"mask",type:"combine",inputs:[],glsl:`   float a = _luminance(_c1.rgb);
  return vec4(_c0.rgb*a, a*_c0.a);`},{name:"luma",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.1}],glsl:`   float a = smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb));
   return vec4(_c0.rgb*a, a);`},{name:"thresh",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.04}],glsl:"   return vec4(vec3(smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb))), _c0.a);"},{name:"color",type:"color",inputs:[{type:"float",name:"r",default:1},{type:"float",name:"g",default:1},{type:"float",name:"b",default:1},{type:"float",name:"a",default:1}],glsl:`   vec4 c = vec4(r, g, b, a);
   vec4 pos = step(0.0, c); // detect whether negative
   // if > 0, return r * _c0
   // if < 0 return (1.0-r) * _c0
   return vec4(mix((1.0-_c0)*abs(c), c*_c0, pos));`},{name:"saturate",type:"color",inputs:[{type:"float",name:"amount",default:2}],glsl:`   const vec3 W = vec3(0.2125, 0.7154, 0.0721);
   vec3 intensity = vec3(dot(_c0.rgb, W));
   return vec4(mix(intensity, _c0.rgb, amount), _c0.a);`},{name:"hue",type:"color",inputs:[{type:"float",name:"hue",default:.4}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c.r += hue;
   //  c.r = fract(c.r);
   return vec4(_hsvToRgb(c), _c0.a);`},{name:"colorama",type:"color",inputs:[{type:"float",name:"amount",default:.005}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c += vec3(amount);
   c = _hsvToRgb(c);
   c = fract(c);
   return vec4(c, _c0.a);`},{name:"prev",type:"src",inputs:[],glsl:"   return texture2D(prevBuffer, fract(_st));"},{name:"sum",type:"color",inputs:[{type:"vec4",name:"scale",default:1}],glsl:`   vec4 v = _c0 * s;
   return v.r + v.g + v.b + v.a;
   }
   float sum(vec2 _st, vec4 s) { // vec4 is not a typo, because argument type is not overloaded
   vec2 v = _st.xy * s.xy;
   return v.x + v.y;`},{name:"r",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.r * scale + offset);"},{name:"g",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.g * scale + offset);"},{name:"b",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.b * scale + offset);"},{name:"a",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.a * scale + offset);"}];class GeneratorFactory{constructor({defaultUniforms:s,defaultOutput:c,extendTransforms:d=[],changeListener:g=()=>{}}={}){this.defaultOutput=c,this.defaultUniforms=s,this.changeListener=g,this.extendTransforms=d,this.generators={},this.init()}init(){const s=glslFunctions();return this.glslTransforms={},this.generators=Object.entries(this.generators).reduce((c,[d,g])=>(this.changeListener({type:"remove",synth:this,method:d}),c),{}),this.sourceClass=(()=>class extends GlslSource{})(),Array.isArray(this.extendTransforms)?s.concat(this.extendTransforms):typeof this.extendTransforms=="object"&&this.extendTransforms.type&&s.push(this.extendTransforms),s.map(c=>this.setFunction(c))}_addMethod(s,c){const d=this;if(this.glslTransforms[s]=c,c.type==="src"){const g=(...b)=>new this.sourceClass({name:s,transform:c,userArgs:b,defaultOutput:this.defaultOutput,defaultUniforms:this.defaultUniforms,synth:d});return this.generators[s]=g,this.changeListener({type:"add",synth:this,method:s}),g}else this.sourceClass.prototype[s]=function(...g){return this.transforms.push({name:s,transform:c,userArgs:g,synth:d}),this}}setFunction(s){var c=processGlsl(s);c&&this._addMethod(s.name,c)}}const typeLookup={src:{returnType:"vec4",args:["vec2 _st"]},coord:{returnType:"vec2",args:["vec2 _st"]},color:{returnType:"vec4",args:["vec4 _c0"]},combine:{returnType:"vec4",args:["vec4 _c0","vec4 _c1"]},combineCoord:{returnType:"vec2",args:["vec2 _st","vec4 _c0"]}};function processGlsl(o){let s=typeLookup[o.type];if(s){let c=s.args.map(_=>_).join(", "),d=o.inputs.map(_=>`${_.type} ${_.name}`).join(", "),g=`${c}${d.length>0?", "+d:""}`,b=`
  ${s.returnType} ${o.name}(${g}) {
      ${o.glsl}
  }
`;return(o.type==="combine"||o.type==="combineCoord")&&o.inputs.unshift({name:"color",type:"vec4"}),Object.assign({},o,{glsl:b})}else console.warn(`type ${o.type} not recognized`,o)}var regl$1={exports:{}};(function(o,s){(function(c,d){o.exports=d()})(commonjsGlobal,function(){var c=function(et){return et instanceof Uint8Array||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Float32Array||et instanceof Float64Array||et instanceof Uint8ClampedArray},d=function(et,lt){for(var Et=Object.keys(lt),jt=0;jt<Et.length;++jt)et[Et[jt]]=lt[Et[jt]];return et},g=`
`;function b(et){return typeof atob<"u"?atob(et):"base64:"+et}function _(et){var lt=new Error("(regl) "+et);throw console.error(lt),lt}function $(et,lt){et||_(lt)}function j(et){return et?": "+et:""}function tt(et,lt,Et){et in lt||_("unknown parameter ("+et+")"+j(Et)+". possible values: "+Object.keys(lt).join())}function nt(et,lt){c(et)||_("invalid parameter type"+j(lt)+". must be a typed array")}function it(et,lt){switch(lt){case"number":return typeof et=="number";case"object":return typeof et=="object";case"string":return typeof et=="string";case"boolean":return typeof et=="boolean";case"function":return typeof et=="function";case"undefined":return typeof et>"u";case"symbol":return typeof et=="symbol"}}function ot(et,lt,Et){it(et,lt)||_("invalid parameter type"+j(Et)+". expected "+lt+", got "+typeof et)}function ft(et,lt){et>=0&&(et|0)===et||_("invalid parameter type, ("+et+")"+j(lt)+". must be a nonnegative integer")}function yt(et,lt,Et){lt.indexOf(et)<0&&_("invalid value"+j(Et)+". must be one of: "+lt)}var xt=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function kt(et){Object.keys(et).forEach(function(lt){xt.indexOf(lt)<0&&_('invalid regl constructor argument "'+lt+'". must be one of '+xt)})}function mt(et,lt){for(et=et+"";et.length<lt;)et=" "+et;return et}function st(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function wt(et,lt){this.number=et,this.line=lt,this.errors=[]}function Ht(et,lt,Et){this.file=et,this.line=lt,this.message=Et}function Vt(){var et=new Error,lt=(et.stack||et).toString(),Et=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(lt);if(Et)return Et[1];var jt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(lt);return jt?jt[1]:"unknown"}function St(){var et=new Error,lt=(et.stack||et).toString(),Et=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(lt);if(Et)return Et[1];var jt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(lt);return jt?jt[1]:"unknown"}function gt(et,lt){var Et=et.split(`
`),jt=1,Xt=0,Dt={unknown:new st,0:new st};Dt.unknown.name=Dt[0].name=lt||Vt(),Dt.unknown.lines.push(new wt(0,""));for(var zt=0;zt<Et.length;++zt){var rr=Et[zt],or=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(rr);if(or)switch(or[1]){case"line":var lr=/(\d+)(\s+\d+)?/.exec(or[2]);lr&&(jt=lr[1]|0,lr[2]&&(Xt=lr[2]|0,Xt in Dt||(Dt[Xt]=new st)));break;case"define":var ar=/SHADER_NAME(_B64)?\s+(.*)$/.exec(or[2]);ar&&(Dt[Xt].name=ar[1]?b(ar[2]):ar[2]);break}Dt[Xt].lines.push(new wt(jt++,rr))}return Object.keys(Dt).forEach(function(fr){var yr=Dt[fr];yr.lines.forEach(function(nr){yr.index[nr.number]=nr})}),Dt}function Lt(et){var lt=[];return et.split(`
`).forEach(function(Et){if(!(Et.length<5)){var jt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Et);jt?lt.push(new Ht(jt[1]|0,jt[2]|0,jt[3].trim())):Et.length>0&&lt.push(new Ht("unknown",0,Et))}}),lt}function Ot(et,lt){lt.forEach(function(Et){var jt=et[Et.file];if(jt){var Xt=jt.index[Et.line];if(Xt){Xt.errors.push(Et),jt.hasErrors=!0;return}}et.unknown.hasErrors=!0,et.unknown.lines[0].errors.push(Et)})}function Kt(et,lt,Et,jt,Xt){if(!et.getShaderParameter(lt,et.COMPILE_STATUS)){var Dt=et.getShaderInfoLog(lt),zt=jt===et.FRAGMENT_SHADER?"fragment":"vertex";yn(Et,"string",zt+" shader source must be a string",Xt);var rr=gt(Et,Xt),or=Lt(Dt);Ot(rr,or),Object.keys(rr).forEach(function(lr){var ar=rr[lr];if(!ar.hasErrors)return;var fr=[""],yr=[""];function nr(dr,It){fr.push(dr),yr.push(It||"")}nr("file number "+lr+": "+ar.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ar.lines.forEach(function(dr){if(dr.errors.length>0){nr(mt(dr.number,4)+"|  ","background-color:yellow; font-weight:bold"),nr(dr.line+g,"color:red; background-color:yellow; font-weight:bold");var It=0;dr.errors.forEach(function(Gt){var ur=Gt.message,gr=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ur);if(gr){var Jt=gr[1];switch(ur=gr[2],Jt){case"assign":Jt="=";break}It=Math.max(dr.line.indexOf(Jt,It),0)}else It=0;nr(mt("| ",6)),nr(mt("^^^",It+3)+g,"font-weight:bold"),nr(mt("| ",6)),nr(ur+g,"font-weight:bold")}),nr(mt("| ",6)+g)}else nr(mt(dr.number,4)+"|  "),nr(dr.line+g,"color:red")}),typeof document<"u"&&!window.chrome?(yr[0]=fr.join("%c"),console.log.apply(console,yr)):console.log(fr.join(""))}),$.raise("Error compiling "+zt+" shader, "+rr[0].name)}}function _r(et,lt,Et,jt,Xt){if(!et.getProgramParameter(lt,et.LINK_STATUS)){var Dt=et.getProgramInfoLog(lt),zt=gt(Et,Xt),rr=gt(jt,Xt),or='Error linking program with vertex shader, "'+rr[0].name+'", and fragment shader "'+zt[0].name+'"';typeof document<"u"?console.log("%c"+or+g+"%c"+Dt,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(or+g+Dt),$.raise(or)}}function qr(et){et._commandRef=Vt()}function Vr(et,lt,Et,jt){qr(et);function Xt(or){return or?jt.id(or):0}et._fragId=Xt(et.static.frag),et._vertId=Xt(et.static.vert);function Dt(or,lr){Object.keys(lr).forEach(function(ar){or[jt.id(ar)]=!0})}var zt=et._uniformSet={};Dt(zt,lt.static),Dt(zt,lt.dynamic);var rr=et._attributeSet={};Dt(rr,Et.static),Dt(rr,Et.dynamic),et._hasCount="count"in et.static||"count"in et.dynamic||"elements"in et.static||"elements"in et.dynamic}function Rr(et,lt){var Et=St();_(et+" in command "+(lt||Vt())+(Et==="unknown"?"":" called from "+Et))}function Lr(et,lt,Et){et||Rr(lt,Et||Vt())}function Qr(et,lt,Et,jt){et in lt||Rr("unknown parameter ("+et+")"+j(Et)+". possible values: "+Object.keys(lt).join(),jt||Vt())}function yn(et,lt,Et,jt){it(et,lt)||Rr("invalid parameter type"+j(Et)+". expected "+lt+", got "+typeof et,jt||Vt())}function hr(et){et()}function Nr(et,lt,Et){et.texture?yt(et.texture._texture.internalformat,lt,"unsupported texture format for attachment"):yt(et.renderbuffer._renderbuffer.format,Et,"unsupported renderbuffer format for attachment")}var Ir=33071,Br=9728,Zr=9984,on=9985,an=9986,xn=9987,vn=5120,Gn=5121,Wn=5122,Ro=5123,Ko=5124,xs=5125,Po=5126,Hn=32819,Qn=32820,Xo=33635,Yo=34042,Fo=36193,An={};An[vn]=An[Gn]=1,An[Wn]=An[Ro]=An[Fo]=An[Xo]=An[Hn]=An[Qn]=2,An[Ko]=An[xs]=An[Po]=An[Yo]=4;function Zo(et,lt){return et===Qn||et===Hn||et===Xo?2:et===Yo?4:An[et]*lt}function _i(et){return!(et&et-1)&&!!et}function fo(et,lt,Et){var jt,Xt=lt.width,Dt=lt.height,zt=lt.channels;$(Xt>0&&Xt<=Et.maxTextureSize&&Dt>0&&Dt<=Et.maxTextureSize,"invalid texture shape"),(et.wrapS!==Ir||et.wrapT!==Ir)&&$(_i(Xt)&&_i(Dt),"incompatible wrap mode for texture, both width and height must be power of 2"),lt.mipmask===1?Xt!==1&&Dt!==1&&$(et.minFilter!==Zr&&et.minFilter!==an&&et.minFilter!==on&&et.minFilter!==xn,"min filter requires mipmap"):($(_i(Xt)&&_i(Dt),"texture must be a square power of 2 to support mipmapping"),$(lt.mipmask===(Xt<<1)-1,"missing or incomplete mipmap data")),lt.type===Po&&(Et.extensions.indexOf("oes_texture_float_linear")<0&&$(et.minFilter===Br&&et.magFilter===Br,"filter not supported, must enable oes_texture_float_linear"),$(!et.genMipmaps,"mipmap generation not supported with float textures"));var rr=lt.images;for(jt=0;jt<16;++jt)if(rr[jt]){var or=Xt>>jt,lr=Dt>>jt;$(lt.mipmask&1<<jt,"missing mipmap data");var ar=rr[jt];if($(ar.width===or&&ar.height===lr,"invalid shape for mip images"),$(ar.format===lt.format&&ar.internalformat===lt.internalformat&&ar.type===lt.type,"incompatible type for mip image"),!ar.compressed)if(ar.data){var fr=Math.ceil(Zo(ar.type,zt)*or/ar.unpackAlignment)*ar.unpackAlignment;$(ar.data.byteLength===fr*lr,"invalid data for image, buffer size is inconsistent with image format")}else ar.element||ar.copy}else et.genMipmaps||$((lt.mipmask&1<<jt)===0,"extra mipmap data");lt.compressed&&$(!et.genMipmaps,"mipmap generation for compressed images not supported")}function Ln(et,lt,Et,jt){var Xt=et.width,Dt=et.height,zt=et.channels;$(Xt>0&&Xt<=jt.maxTextureSize&&Dt>0&&Dt<=jt.maxTextureSize,"invalid texture shape"),$(Xt===Dt,"cube map must be square"),$(lt.wrapS===Ir&&lt.wrapT===Ir,"wrap mode not supported by cube map");for(var rr=0;rr<Et.length;++rr){var or=Et[rr];$(or.width===Xt&&or.height===Dt,"inconsistent cube map face shape"),lt.genMipmaps&&($(!or.compressed,"can not generate mipmap for compressed textures"),$(or.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var lr=or.images,ar=0;ar<16;++ar){var fr=lr[ar];if(fr){var yr=Xt>>ar,nr=Dt>>ar;$(or.mipmask&1<<ar,"missing mipmap data"),$(fr.width===yr&&fr.height===nr,"invalid shape for mip images"),$(fr.format===et.format&&fr.internalformat===et.internalformat&&fr.type===et.type,"incompatible type for mip image"),fr.compressed||(fr.data?$(fr.data.byteLength===yr*nr*Math.max(Zo(fr.type,zt),fr.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):fr.element||fr.copy)}}}}var dt=d($,{optional:hr,raise:_,commandRaise:Rr,command:Lr,parameter:tt,commandParameter:Qr,constructor:kt,type:ot,commandType:yn,isTypedArray:nt,nni:ft,oneOf:yt,shaderError:Kt,linkError:_r,callSite:St,saveCommandRef:qr,saveDrawInfo:Vr,framebufferFormat:Nr,guessCommand:Vt,texture2D:fo,textureCube:Ln}),_s=0,Dn=0,Ss=5,ut=6;function _e(et,lt){this.id=_s++,this.type=et,this.data=lt}function rt(et){return et.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function bt(et){if(et.length===0)return[];var lt=et.charAt(0),Et=et.charAt(et.length-1);if(et.length>1&&lt===Et&&(lt==='"'||lt==="'"))return['"'+rt(et.substr(1,et.length-2))+'"'];var jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(et);if(jt)return bt(et.substr(0,jt.index)).concat(bt(jt[1])).concat(bt(et.substr(jt.index+jt[0].length)));var Xt=et.split(".");if(Xt.length===1)return['"'+rt(et)+'"'];for(var Dt=[],zt=0;zt<Xt.length;++zt)Dt=Dt.concat(bt(Xt[zt]));return Dt}function Bt(et){return"["+bt(et).join("][")+"]"}function Wt(et,lt){return new _e(et,Bt(lt+""))}function ir(et){return typeof et=="function"&&!et._reglType||et instanceof _e}function Wr(et,lt){if(typeof et=="function")return new _e(Dn,et);if(typeof et=="number"||typeof et=="boolean")return new _e(Ss,et);if(Array.isArray(et))return new _e(ut,et.map((Et,jt)=>Wr(Et,lt+"["+jt+"]")));if(et instanceof _e)return et;dt(!1,"invalid option type in uniform "+lt)}var Jr={DynamicVariable:_e,define:Wt,isDynamic:ir,unbox:Wr,accessor:Bt},rn={next:typeof requestAnimationFrame=="function"?function(et){return requestAnimationFrame(et)}:function(et){return setTimeout(et,16)},cancel:typeof cancelAnimationFrame=="function"?function(et){return cancelAnimationFrame(et)}:clearTimeout},sn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function tn(){var et={"":0},lt=[""];return{id:function(Et){var jt=et[Et];return jt||(jt=et[Et]=lt.length,lt.push(Et),jt)},str:function(Et){return lt[Et]}}}function Lp(et,lt,Et){var jt=document.createElement("canvas");d(jt.style,{border:0,margin:0,padding:0,top:0,left:0}),et.appendChild(jt),et===document.body&&(jt.style.position="absolute",d(et.style,{margin:0,padding:0}));function Xt(){var rr=window.innerWidth,or=window.innerHeight;if(et!==document.body){var lr=et.getBoundingClientRect();rr=lr.right-lr.left,or=lr.bottom-lr.top}jt.width=Et*rr,jt.height=Et*or,d(jt.style,{width:rr+"px",height:or+"px"})}var Dt;et!==document.body&&typeof ResizeObserver=="function"?(Dt=new ResizeObserver(function(){setTimeout(Xt)}),Dt.observe(et)):window.addEventListener("resize",Xt,!1);function zt(){Dt?Dt.disconnect():window.removeEventListener("resize",Xt),et.removeChild(jt)}return Xt(),{canvas:jt,onDestroy:zt}}function Ip(et,lt){function Et(jt){try{return et.getContext(jt,lt)}catch{return null}}return Et("webgl")||Et("experimental-webgl")||Et("webgl-experimental")}function Bp(et){return typeof et.nodeName=="string"&&typeof et.appendChild=="function"&&typeof et.getBoundingClientRect=="function"}function Np(et){return typeof et.drawArrays=="function"||typeof et.drawElements=="function"}function wu(et){return typeof et=="string"?et.split():(dt(Array.isArray(et),"invalid extension array"),et)}function Eu(et){return typeof et=="string"?(dt(typeof document<"u","not supported outside of DOM"),document.querySelector(et)):et}function $p(et){var lt=et||{},Et,jt,Xt,Dt,zt={},rr=[],or=[],lr=typeof window>"u"?1:window.devicePixelRatio,ar=!1,fr=function(dr){dr&&dt.raise(dr)},yr=function(){};if(typeof lt=="string"?(dt(typeof document<"u","selector queries only supported in DOM enviroments"),Et=document.querySelector(lt),dt(Et,"invalid query string for element")):typeof lt=="object"?Bp(lt)?Et=lt:Np(lt)?(Dt=lt,Xt=Dt.canvas):(dt.constructor(lt),"gl"in lt?Dt=lt.gl:"canvas"in lt?Xt=Eu(lt.canvas):"container"in lt&&(jt=Eu(lt.container)),"attributes"in lt&&(zt=lt.attributes,dt.type(zt,"object","invalid context attributes")),"extensions"in lt&&(rr=wu(lt.extensions)),"optionalExtensions"in lt&&(or=wu(lt.optionalExtensions)),"onDone"in lt&&(dt.type(lt.onDone,"function","invalid or missing onDone callback"),fr=lt.onDone),"profile"in lt&&(ar=!!lt.profile),"pixelRatio"in lt&&(lr=+lt.pixelRatio,dt(lr>0,"invalid pixel ratio"))):dt.raise("invalid arguments to regl"),Et&&(Et.nodeName.toLowerCase()==="canvas"?Xt=Et:jt=Et),!Dt){if(!Xt){dt(typeof document<"u","must manually specify webgl context outside of DOM environments");var nr=Lp(jt||document.body,fr,lr);if(!nr)return null;Xt=nr.canvas,yr=nr.onDestroy}zt.premultipliedAlpha===void 0&&(zt.premultipliedAlpha=!0),Dt=Ip(Xt,zt)}return Dt?{gl:Dt,canvas:Xt,container:jt,extensions:rr,optionalExtensions:or,pixelRatio:lr,profile:ar,onDone:fr,onDestroy:yr}:(yr(),fr("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Mp(et,lt){var Et={};function jt(zt){dt.type(zt,"string","extension name must be string");var rr=zt.toLowerCase(),or;try{or=Et[rr]=et.getExtension(rr)}catch{}return!!or}for(var Xt=0;Xt<lt.extensions.length;++Xt){var Dt=lt.extensions[Xt];if(!jt(Dt))return lt.onDestroy(),lt.onDone('"'+Dt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return lt.optionalExtensions.forEach(jt),{extensions:Et,restore:function(){Object.keys(Et).forEach(function(zt){if(Et[zt]&&!jt(zt))throw new Error("(regl): error restoring extension "+zt)})}}}function Pn(et,lt){for(var Et=Array(et),jt=0;jt<et;++jt)Et[jt]=lt(jt);return Et}var Dp=5120,jp=5121,Up=5122,zp=5123,Gp=5124,Hp=5125,qp=5126;function Vp(et){for(var lt=16;lt<=1<<28;lt*=16)if(et<=lt)return lt;return 0}function xu(et){var lt,Et;return lt=(et>65535)<<4,et>>>=lt,Et=(et>255)<<3,et>>>=Et,lt|=Et,Et=(et>15)<<2,et>>>=Et,lt|=Et,Et=(et>3)<<1,et>>>=Et,lt|=Et,lt|et>>1}function _u(){var et=Pn(8,function(){return[]});function lt(Dt){var zt=Vp(Dt),rr=et[xu(zt)>>2];return rr.length>0?rr.pop():new ArrayBuffer(zt)}function Et(Dt){et[xu(Dt.byteLength)>>2].push(Dt)}function jt(Dt,zt){var rr=null;switch(Dt){case Dp:rr=new Int8Array(lt(zt),0,zt);break;case jp:rr=new Uint8Array(lt(zt),0,zt);break;case Up:rr=new Int16Array(lt(2*zt),0,zt);break;case zp:rr=new Uint16Array(lt(2*zt),0,zt);break;case Gp:rr=new Int32Array(lt(4*zt),0,zt);break;case Hp:rr=new Uint32Array(lt(4*zt),0,zt);break;case qp:rr=new Float32Array(lt(4*zt),0,zt);break;default:return null}return rr.length!==zt?rr.subarray(0,zt):rr}function Xt(Dt){Et(Dt.buffer)}return{alloc:lt,free:Et,allocType:jt,freeType:Xt}}var dn=_u();dn.zero=_u();var Wp=3408,Qp=3410,Kp=3411,Xp=3412,Yp=3413,Zp=3414,Jp=3415,em=33901,tm=33902,rm=3379,nm=3386,im=34921,om=36347,am=36348,sm=35661,um=35660,lm=34930,cm=36349,fm=34076,dm=34024,hm=7936,pm=7937,mm=7938,ym=35724,vm=34047,gm=36063,bm=34852,Jo=3553,Su=34067,wm=34069,Em=33984,Oo=6408,Ts=5126,Tu=5121,Cs=36160,xm=36053,_m=36064,Sm=16384,Tm=function(et,lt){var Et=1;lt.ext_texture_filter_anisotropic&&(Et=et.getParameter(vm));var jt=1,Xt=1;lt.webgl_draw_buffers&&(jt=et.getParameter(bm),Xt=et.getParameter(gm));var Dt=!!lt.oes_texture_float;if(Dt){var zt=et.createTexture();et.bindTexture(Jo,zt),et.texImage2D(Jo,0,Oo,1,1,0,Oo,Ts,null);var rr=et.createFramebuffer();if(et.bindFramebuffer(Cs,rr),et.framebufferTexture2D(Cs,_m,Jo,zt,0),et.bindTexture(Jo,null),et.checkFramebufferStatus(Cs)!==xm)Dt=!1;else{et.viewport(0,0,1,1),et.clearColor(1,0,0,1),et.clear(Sm);var or=dn.allocType(Ts,4);et.readPixels(0,0,1,1,Oo,Ts,or),et.getError()?Dt=!1:(et.deleteFramebuffer(rr),et.deleteTexture(zt),Dt=or[0]===1),dn.freeType(or)}}var lr=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ar=!0;if(!lr){var fr=et.createTexture(),yr=dn.allocType(Tu,36);et.activeTexture(Em),et.bindTexture(Su,fr),et.texImage2D(wm,0,Oo,3,3,0,Oo,Tu,yr),dn.freeType(yr),et.bindTexture(Su,null),et.deleteTexture(fr),ar=!et.getError()}return{colorBits:[et.getParameter(Qp),et.getParameter(Kp),et.getParameter(Xp),et.getParameter(Yp)],depthBits:et.getParameter(Zp),stencilBits:et.getParameter(Jp),subpixelBits:et.getParameter(Wp),extensions:Object.keys(lt).filter(function(nr){return!!lt[nr]}),maxAnisotropic:Et,maxDrawbuffers:jt,maxColorAttachments:Xt,pointSizeDims:et.getParameter(em),lineWidthDims:et.getParameter(tm),maxViewportDims:et.getParameter(nm),maxCombinedTextureUnits:et.getParameter(sm),maxCubeMapSize:et.getParameter(fm),maxRenderbufferSize:et.getParameter(dm),maxTextureUnits:et.getParameter(lm),maxTextureSize:et.getParameter(rm),maxAttributes:et.getParameter(im),maxVertexUniforms:et.getParameter(om),maxVertexTextureUnits:et.getParameter(um),maxVaryingVectors:et.getParameter(am),maxFragmentUniforms:et.getParameter(cm),glsl:et.getParameter(ym),renderer:et.getParameter(pm),vendor:et.getParameter(hm),version:et.getParameter(mm),readFloat:Dt,npotTextureCube:ar}};function Nn(et){return!!et&&typeof et=="object"&&Array.isArray(et.shape)&&Array.isArray(et.stride)&&typeof et.offset=="number"&&et.shape.length===et.stride.length&&(Array.isArray(et.data)||c(et.data))}var On=function(et){return Object.keys(et).map(function(lt){return et[lt]})},na={shape:Rm,flatten:km};function Cm(et,lt,Et){for(var jt=0;jt<lt;++jt)Et[jt]=et[jt]}function Am(et,lt,Et,jt){for(var Xt=0,Dt=0;Dt<lt;++Dt)for(var zt=et[Dt],rr=0;rr<Et;++rr)jt[Xt++]=zt[rr]}function Cu(et,lt,Et,jt,Xt,Dt){for(var zt=Dt,rr=0;rr<lt;++rr)for(var or=et[rr],lr=0;lr<Et;++lr)for(var ar=or[lr],fr=0;fr<jt;++fr)Xt[zt++]=ar[fr]}function Au(et,lt,Et,jt,Xt){for(var Dt=1,zt=Et+1;zt<lt.length;++zt)Dt*=lt[zt];var rr=lt[Et];if(lt.length-Et===4){var or=lt[Et+1],lr=lt[Et+2],ar=lt[Et+3];for(zt=0;zt<rr;++zt)Cu(et[zt],or,lr,ar,jt,Xt),Xt+=Dt}else for(zt=0;zt<rr;++zt)Au(et[zt],lt,Et+1,jt,Xt),Xt+=Dt}function km(et,lt,Et,jt){var Xt=1;if(lt.length)for(var Dt=0;Dt<lt.length;++Dt)Xt*=lt[Dt];else Xt=0;var zt=jt||dn.allocType(Et,Xt);switch(lt.length){case 0:break;case 1:Cm(et,lt[0],zt);break;case 2:Am(et,lt[0],lt[1],zt);break;case 3:Cu(et,lt[0],lt[1],lt[2],zt,0);break;default:Au(et,lt,0,zt,0)}return zt}function Rm(et){for(var lt=[],Et=et;Et.length;Et=Et[0])lt.push(Et.length);return lt}var As={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Pm=5120,Fm=5122,Om=5124,Lm=5121,Im=5123,Bm=5125,Nm=5126,$m=5126,eo={int8:Pm,int16:Fm,int32:Om,uint8:Lm,uint16:Im,uint32:Bm,float:Nm,float32:$m},Mm=35048,Dm=35040,ga={dynamic:Mm,stream:Dm,static:35044},ks=na.flatten,ku=na.shape,Ru=35044,jm=35040,Rs=5121,Ps=5126,Kn=[];Kn[5120]=1,Kn[5122]=2,Kn[5124]=4,Kn[5121]=1,Kn[5123]=2,Kn[5125]=4,Kn[5126]=4;function ba(et){return As[Object.prototype.toString.call(et)]|0}function Pu(et,lt){for(var Et=0;Et<lt.length;++Et)et[Et]=lt[Et]}function Fu(et,lt,Et,jt,Xt,Dt,zt){for(var rr=0,or=0;or<Et;++or)for(var lr=0;lr<jt;++lr)et[rr++]=lt[Xt*or+Dt*lr+zt]}function Um(et,lt,Et,jt){var Xt=0,Dt={};function zt(It){this.id=Xt++,this.buffer=et.createBuffer(),this.type=It,this.usage=Ru,this.byteLength=0,this.dimension=1,this.dtype=Rs,this.persistentData=null,Et.profile&&(this.stats={size:0})}zt.prototype.bind=function(){et.bindBuffer(this.type,this.buffer)},zt.prototype.destroy=function(){yr(this)};var rr=[];function or(It,Gt){var ur=rr.pop();return ur||(ur=new zt(It)),ur.bind(),fr(ur,Gt,jm,0,1,!1),ur}function lr(It){rr.push(It)}function ar(It,Gt,ur){It.byteLength=Gt.byteLength,et.bufferData(It.type,Gt,ur)}function fr(It,Gt,ur,gr,Jt,br){var tr;if(It.usage=ur,Array.isArray(Gt)){if(It.dtype=gr||Ps,Gt.length>0){var pr;if(Array.isArray(Gt[0])){tr=ku(Gt);for(var er=1,mr=1;mr<tr.length;++mr)er*=tr[mr];It.dimension=er,pr=ks(Gt,tr,It.dtype),ar(It,pr,ur),br?It.persistentData=pr:dn.freeType(pr)}else if(typeof Gt[0]=="number"){It.dimension=Jt;var Tr=dn.allocType(It.dtype,Gt.length);Pu(Tr,Gt),ar(It,Tr,ur),br?It.persistentData=Tr:dn.freeType(Tr)}else c(Gt[0])?(It.dimension=Gt[0].length,It.dtype=gr||ba(Gt[0])||Ps,pr=ks(Gt,[Gt.length,Gt[0].length],It.dtype),ar(It,pr,ur),br?It.persistentData=pr:dn.freeType(pr)):dt.raise("invalid buffer data")}}else if(c(Gt))It.dtype=gr||ba(Gt),It.dimension=Jt,ar(It,Gt,ur),br&&(It.persistentData=new Uint8Array(new Uint8Array(Gt.buffer)));else if(Nn(Gt)){tr=Gt.shape;var Pr=Gt.stride,vr=Gt.offset,cr=0,Zt=0,kr=0,$r=0;tr.length===1?(cr=tr[0],Zt=1,kr=Pr[0],$r=0):tr.length===2?(cr=tr[0],Zt=tr[1],kr=Pr[0],$r=Pr[1]):dt.raise("invalid shape"),It.dtype=gr||ba(Gt.data)||Ps,It.dimension=Zt;var Er=dn.allocType(It.dtype,cr*Zt);Fu(Er,Gt.data,cr,Zt,kr,$r,vr),ar(It,Er,ur),br?It.persistentData=Er:dn.freeType(Er)}else Gt instanceof ArrayBuffer?(It.dtype=Rs,It.dimension=Jt,ar(It,Gt,ur),br&&(It.persistentData=new Uint8Array(new Uint8Array(Gt)))):dt.raise("invalid buffer data")}function yr(It){lt.bufferCount--,jt(It);var Gt=It.buffer;dt(Gt,"buffer must not be deleted already"),et.deleteBuffer(Gt),It.buffer=null,delete Dt[It.id]}function nr(It,Gt,ur,gr){lt.bufferCount++;var Jt=new zt(Gt);Dt[Jt.id]=Jt;function br(er){var mr=Ru,Tr=null,Pr=0,vr=0,cr=1;return Array.isArray(er)||c(er)||Nn(er)||er instanceof ArrayBuffer?Tr=er:typeof er=="number"?Pr=er|0:er&&(dt.type(er,"object","buffer arguments must be an object, a number or an array"),"data"in er&&(dt(Tr===null||Array.isArray(Tr)||c(Tr)||Nn(Tr),"invalid data for buffer"),Tr=er.data),"usage"in er&&(dt.parameter(er.usage,ga,"invalid buffer usage"),mr=ga[er.usage]),"type"in er&&(dt.parameter(er.type,eo,"invalid buffer type"),vr=eo[er.type]),"dimension"in er&&(dt.type(er.dimension,"number","invalid dimension"),cr=er.dimension|0),"length"in er&&(dt.nni(Pr,"buffer length must be a nonnegative integer"),Pr=er.length|0)),Jt.bind(),Tr?fr(Jt,Tr,mr,vr,cr,gr):(Pr&&et.bufferData(Jt.type,Pr,mr),Jt.dtype=vr||Rs,Jt.usage=mr,Jt.dimension=cr,Jt.byteLength=Pr),Et.profile&&(Jt.stats.size=Jt.byteLength*Kn[Jt.dtype]),br}function tr(er,mr){dt(mr+er.byteLength<=Jt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+er.byteLength+" starting from offset "+mr+" to a buffer of size "+Jt.byteLength),et.bufferSubData(Jt.type,mr,er)}function pr(er,mr){var Tr=(mr||0)|0,Pr;if(Jt.bind(),c(er)||er instanceof ArrayBuffer)tr(er,Tr);else if(Array.isArray(er)){if(er.length>0)if(typeof er[0]=="number"){var vr=dn.allocType(Jt.dtype,er.length);Pu(vr,er),tr(vr,Tr),dn.freeType(vr)}else if(Array.isArray(er[0])||c(er[0])){Pr=ku(er);var cr=ks(er,Pr,Jt.dtype);tr(cr,Tr),dn.freeType(cr)}else dt.raise("invalid buffer data")}else if(Nn(er)){Pr=er.shape;var Zt=er.stride,kr=0,$r=0,Er=0,Ur=0;Pr.length===1?(kr=Pr[0],$r=1,Er=Zt[0],Ur=0):Pr.length===2?(kr=Pr[0],$r=Pr[1],Er=Zt[0],Ur=Zt[1]):dt.raise("invalid shape");var Fr=Array.isArray(er.data)?Jt.dtype:ba(er.data),jr=dn.allocType(Fr,kr*$r);Fu(jr,er.data,kr,$r,Er,Ur,er.offset),tr(jr,Tr),dn.freeType(jr)}else dt.raise("invalid data for buffer subdata");return br}return ur||br(It),br._reglType="buffer",br._buffer=Jt,br.subdata=pr,Et.profile&&(br.stats=Jt.stats),br.destroy=function(){yr(Jt)},br}function dr(){On(Dt).forEach(function(It){It.buffer=et.createBuffer(),et.bindBuffer(It.type,It.buffer),et.bufferData(It.type,It.persistentData||It.byteLength,It.usage)})}return Et.profile&&(lt.getTotalBufferSize=function(){var It=0;return Object.keys(Dt).forEach(function(Gt){It+=Dt[Gt].stats.size}),It}),{create:nr,createStream:or,destroyStream:lr,clear:function(){On(Dt).forEach(yr),rr.forEach(yr)},getBuffer:function(It){return It&&It._buffer instanceof zt?It._buffer:null},restore:dr,_initBuffer:fr}}var zm=0,Gm=0,Hm=1,qm=1,Vm=4,Wm=4,ho={points:zm,point:Gm,lines:Hm,line:qm,triangles:Vm,triangle:Wm,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Qm=0,Km=1,Lo=4,Xm=5120,po=5121,Ou=5122,mo=5123,Lu=5124,to=5125,Fs=34963,Ym=35040,Zm=35044;function Jm(et,lt,Et,jt){var Xt={},Dt=0,zt={uint8:po,uint16:mo};lt.oes_element_index_uint&&(zt.uint32=to);function rr(dr){this.id=Dt++,Xt[this.id]=this,this.buffer=dr,this.primType=Lo,this.vertCount=0,this.type=0}rr.prototype.bind=function(){this.buffer.bind()};var or=[];function lr(dr){var It=or.pop();return It||(It=new rr(Et.create(null,Fs,!0,!1)._buffer)),fr(It,dr,Ym,-1,-1,0,0),It}function ar(dr){or.push(dr)}function fr(dr,It,Gt,ur,gr,Jt,br){dr.buffer.bind();var tr;if(It){var pr=br;!br&&(!c(It)||Nn(It)&&!c(It.data))&&(pr=lt.oes_element_index_uint?to:mo),Et._initBuffer(dr.buffer,It,Gt,pr,3)}else et.bufferData(Fs,Jt,Gt),dr.buffer.dtype=tr||po,dr.buffer.usage=Gt,dr.buffer.dimension=3,dr.buffer.byteLength=Jt;if(tr=br,!br){switch(dr.buffer.dtype){case po:case Xm:tr=po;break;case mo:case Ou:tr=mo;break;case to:case Lu:tr=to;break;default:dt.raise("unsupported type for element array")}dr.buffer.dtype=tr}dr.type=tr,dt(tr!==to||!!lt.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var er=gr;er<0&&(er=dr.buffer.byteLength,tr===mo?er>>=1:tr===to&&(er>>=2)),dr.vertCount=er;var mr=ur;if(ur<0){mr=Lo;var Tr=dr.buffer.dimension;Tr===1&&(mr=Qm),Tr===2&&(mr=Km),Tr===3&&(mr=Lo)}dr.primType=mr}function yr(dr){jt.elementsCount--,dt(dr.buffer!==null,"must not double destroy elements"),delete Xt[dr.id],dr.buffer.destroy(),dr.buffer=null}function nr(dr,It){var Gt=Et.create(null,Fs,!0),ur=new rr(Gt._buffer);jt.elementsCount++;function gr(Jt){if(!Jt)Gt(),ur.primType=Lo,ur.vertCount=0,ur.type=po;else if(typeof Jt=="number")Gt(Jt),ur.primType=Lo,ur.vertCount=Jt|0,ur.type=po;else{var br=null,tr=Zm,pr=-1,er=-1,mr=0,Tr=0;Array.isArray(Jt)||c(Jt)||Nn(Jt)?br=Jt:(dt.type(Jt,"object","invalid arguments for elements"),"data"in Jt&&(br=Jt.data,dt(Array.isArray(br)||c(br)||Nn(br),"invalid data for element buffer")),"usage"in Jt&&(dt.parameter(Jt.usage,ga,"invalid element buffer usage"),tr=ga[Jt.usage]),"primitive"in Jt&&(dt.parameter(Jt.primitive,ho,"invalid element buffer primitive"),pr=ho[Jt.primitive]),"count"in Jt&&(dt(typeof Jt.count=="number"&&Jt.count>=0,"invalid vertex count for elements"),er=Jt.count|0),"type"in Jt&&(dt.parameter(Jt.type,zt,"invalid buffer type"),Tr=zt[Jt.type]),"length"in Jt?mr=Jt.length|0:(mr=er,Tr===mo||Tr===Ou?mr*=2:(Tr===to||Tr===Lu)&&(mr*=4))),fr(ur,br,tr,pr,er,mr,Tr)}return gr}return gr(dr),gr._reglType="elements",gr._elements=ur,gr.subdata=function(Jt,br){return Gt.subdata(Jt,br),gr},gr.destroy=function(){yr(ur)},gr}return{create:nr,createStream:lr,destroyStream:ar,getElements:function(dr){return typeof dr=="function"&&dr._elements instanceof rr?dr._elements:null},clear:function(){On(Xt).forEach(yr)}}}var Iu=new Float32Array(1),e0=new Uint32Array(Iu.buffer),t0=5123;function Bu(et){for(var lt=dn.allocType(t0,et.length),Et=0;Et<et.length;++Et)if(isNaN(et[Et]))lt[Et]=65535;else if(et[Et]===1/0)lt[Et]=31744;else if(et[Et]===-1/0)lt[Et]=64512;else{Iu[0]=et[Et];var jt=e0[0],Xt=jt>>>31<<15,Dt=(jt<<1>>>24)-127,zt=jt>>13&1024-1;if(Dt<-24)lt[Et]=Xt;else if(Dt<-14){var rr=-14-Dt;lt[Et]=Xt+(zt+1024>>rr)}else Dt>15?lt[Et]=Xt+31744:lt[Et]=Xt+(Dt+15<<10)+zt}return lt}function ln(et){return Array.isArray(et)||c(et)}var Nu=function(et){return!(et&et-1)&&!!et},r0=34467,jn=3553,Os=34067,xa=34069,ro=6408,Ls=6406,_a=6407,Io=6409,$a=6410,$u=32854,Is=32855,Mu=36194,n0=32819,i0=32820,o0=33635,a0=34042,Bs=6402,es=34041,Ns=35904,$s=35906,yo=36193,Ms=33776,Ds=33777,js=33778,Us=33779,Du=35986,ju=35987,Uu=34798,zu=35840,Gu=35841,Hu=35842,qu=35843,Vu=36196,vo=5121,zs=5123,Gs=5125,Bo=5126,s0=10242,u0=10243,l0=10497,Hs=33071,c0=33648,f0=10240,d0=10241,qs=9728,h0=9729,Vs=9984,Wu=9985,Qu=9986,Ws=9987,p0=33170,ts=4352,m0=4353,y0=4354,v0=34046,g0=3317,b0=37440,w0=37441,E0=37443,Ku=37444,No=33984,x0=[Vs,Qu,Wu,Ws],rs=[0,Io,$a,_a,ro],In={};In[Io]=In[Ls]=In[Bs]=1,In[es]=In[$a]=2,In[_a]=In[Ns]=3,In[ro]=In[$s]=4;function go(et){return"[object "+et+"]"}var Xu=go("HTMLCanvasElement"),Yu=go("OffscreenCanvas"),Zu=go("CanvasRenderingContext2D"),Ju=go("ImageBitmap"),yl=go("HTMLImageElement"),El=go("HTMLVideoElement"),_0=Object.keys(As).concat([Xu,Yu,Zu,Ju,yl,El]),bo=[];bo[vo]=1,bo[Bo]=4,bo[yo]=2,bo[zs]=2,bo[Gs]=4;var Sn=[];Sn[$u]=2,Sn[Is]=2,Sn[Mu]=2,Sn[es]=4,Sn[Ms]=.5,Sn[Ds]=.5,Sn[js]=1,Sn[Us]=1,Sn[Du]=.5,Sn[ju]=1,Sn[Uu]=1,Sn[zu]=.5,Sn[Gu]=.25,Sn[Hu]=.5,Sn[qu]=.25,Sn[Vu]=.5;function xl(et){return Array.isArray(et)&&(et.length===0||typeof et[0]=="number")}function _l(et){if(!Array.isArray(et))return!1;var lt=et.length;return!(lt===0||!ln(et[0]))}function no(et){return Object.prototype.toString.call(et)}function Sl(et){return no(et)===Xu}function Tl(et){return no(et)===Yu}function S0(et){return no(et)===Zu}function T0(et){return no(et)===Ju}function C0(et){return no(et)===yl}function A0(et){return no(et)===El}function Qs(et){if(!et)return!1;var lt=no(et);return _0.indexOf(lt)>=0?!0:xl(et)||_l(et)||Nn(et)}function Cl(et){return As[Object.prototype.toString.call(et)]|0}function k0(et,lt){var Et=lt.length;switch(et.type){case vo:case zs:case Gs:case Bo:var jt=dn.allocType(et.type,Et);jt.set(lt),et.data=jt;break;case yo:et.data=Bu(lt);break;default:dt.raise("unsupported texture type, must specify a typed array")}}function Al(et,lt){return dn.allocType(et.type===yo?Bo:et.type,lt)}function Rl(et,lt){et.type===yo?(et.data=Bu(lt),dn.freeType(lt)):et.data=lt}function R0(et,lt,Et,jt,Xt,Dt){for(var zt=et.width,rr=et.height,or=et.channels,lr=zt*rr*or,ar=Al(et,lr),fr=0,yr=0;yr<rr;++yr)for(var nr=0;nr<zt;++nr)for(var dr=0;dr<or;++dr)ar[fr++]=lt[Et*nr+jt*yr+Xt*dr+Dt];Rl(et,ar)}function ns(et,lt,Et,jt,Xt,Dt){var zt;if(typeof Sn[et]<"u"?zt=Sn[et]:zt=In[et]*bo[lt],Dt&&(zt*=6),Xt){for(var rr=0,or=Et;or>=1;)rr+=zt*or*or,or/=2;return rr}else return zt*Et*jt}function P0(et,lt,Et,jt,Xt,Dt,zt){var rr={"don't care":ts,"dont care":ts,nice:y0,fast:m0},or={repeat:l0,clamp:Hs,mirror:c0},lr={nearest:qs,linear:h0},ar=d({mipmap:Ws,"nearest mipmap nearest":Vs,"linear mipmap nearest":Wu,"nearest mipmap linear":Qu,"linear mipmap linear":Ws},lr),fr={none:0,browser:Ku},yr={uint8:vo,rgba4:n0,rgb565:o0,"rgb5 a1":i0},nr={alpha:Ls,luminance:Io,"luminance alpha":$a,rgb:_a,rgba:ro,rgba4:$u,"rgb5 a1":Is,rgb565:Mu},dr={};lt.ext_srgb&&(nr.srgb=Ns,nr.srgba=$s),lt.oes_texture_float&&(yr.float32=yr.float=Bo),lt.oes_texture_half_float&&(yr.float16=yr["half float"]=yo),lt.webgl_depth_texture&&(d(nr,{depth:Bs,"depth stencil":es}),d(yr,{uint16:zs,uint32:Gs,"depth stencil":a0})),lt.webgl_compressed_texture_s3tc&&d(dr,{"rgb s3tc dxt1":Ms,"rgba s3tc dxt1":Ds,"rgba s3tc dxt3":js,"rgba s3tc dxt5":Us}),lt.webgl_compressed_texture_atc&&d(dr,{"rgb atc":Du,"rgba atc explicit alpha":ju,"rgba atc interpolated alpha":Uu}),lt.webgl_compressed_texture_pvrtc&&d(dr,{"rgb pvrtc 4bppv1":zu,"rgb pvrtc 2bppv1":Gu,"rgba pvrtc 4bppv1":Hu,"rgba pvrtc 2bppv1":qu}),lt.webgl_compressed_texture_etc1&&(dr["rgb etc1"]=Vu);var It=Array.prototype.slice.call(et.getParameter(r0));Object.keys(dr).forEach(function(vt){var Ut=dr[vt];It.indexOf(Ut)>=0&&(nr[vt]=Ut)});var Gt=Object.keys(nr);Et.textureFormats=Gt;var ur=[];Object.keys(nr).forEach(function(vt){var Ut=nr[vt];ur[Ut]=vt});var gr=[];Object.keys(yr).forEach(function(vt){var Ut=yr[vt];gr[Ut]=vt});var Jt=[];Object.keys(lr).forEach(function(vt){var Ut=lr[vt];Jt[Ut]=vt});var br=[];Object.keys(ar).forEach(function(vt){var Ut=ar[vt];br[Ut]=vt});var tr=[];Object.keys(or).forEach(function(vt){var Ut=or[vt];tr[Ut]=vt});var pr=Gt.reduce(function(vt,Ut){var Mt=nr[Ut];return Mt===Io||Mt===Ls||Mt===Io||Mt===$a||Mt===Bs||Mt===es||lt.ext_srgb&&(Mt===Ns||Mt===$s)?vt[Mt]=Mt:Mt===Is||Ut.indexOf("rgba")>=0?vt[Mt]=ro:vt[Mt]=_a,vt},{});function er(){this.internalformat=ro,this.format=ro,this.type=vo,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ku,this.width=0,this.height=0,this.channels=0}function mr(vt,Ut){vt.internalformat=Ut.internalformat,vt.format=Ut.format,vt.type=Ut.type,vt.compressed=Ut.compressed,vt.premultiplyAlpha=Ut.premultiplyAlpha,vt.flipY=Ut.flipY,vt.unpackAlignment=Ut.unpackAlignment,vt.colorSpace=Ut.colorSpace,vt.width=Ut.width,vt.height=Ut.height,vt.channels=Ut.channels}function Tr(vt,Ut){if(!(typeof Ut!="object"||!Ut)){if("premultiplyAlpha"in Ut&&(dt.type(Ut.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),vt.premultiplyAlpha=Ut.premultiplyAlpha),"flipY"in Ut&&(dt.type(Ut.flipY,"boolean","invalid texture flip"),vt.flipY=Ut.flipY),"alignment"in Ut&&(dt.oneOf(Ut.alignment,[1,2,4,8],"invalid texture unpack alignment"),vt.unpackAlignment=Ut.alignment),"colorSpace"in Ut&&(dt.parameter(Ut.colorSpace,fr,"invalid colorSpace"),vt.colorSpace=fr[Ut.colorSpace]),"type"in Ut){var Mt=Ut.type;dt(lt.oes_texture_float||!(Mt==="float"||Mt==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),dt(lt.oes_texture_half_float||!(Mt==="half float"||Mt==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),dt(lt.webgl_depth_texture||!(Mt==="uint16"||Mt==="uint32"||Mt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),dt.parameter(Mt,yr,"invalid texture type"),vt.type=yr[Mt]}var wr=vt.width,zr=vt.height,ht=vt.channels,at=!1;"shape"in Ut?(dt(Array.isArray(Ut.shape)&&Ut.shape.length>=2,"shape must be an array"),wr=Ut.shape[0],zr=Ut.shape[1],Ut.shape.length===3&&(ht=Ut.shape[2],dt(ht>0&&ht<=4,"invalid number of channels"),at=!0),dt(wr>=0&&wr<=Et.maxTextureSize,"invalid width"),dt(zr>=0&&zr<=Et.maxTextureSize,"invalid height")):("radius"in Ut&&(wr=zr=Ut.radius,dt(wr>=0&&wr<=Et.maxTextureSize,"invalid radius")),"width"in Ut&&(wr=Ut.width,dt(wr>=0&&wr<=Et.maxTextureSize,"invalid width")),"height"in Ut&&(zr=Ut.height,dt(zr>=0&&zr<=Et.maxTextureSize,"invalid height")),"channels"in Ut&&(ht=Ut.channels,dt(ht>0&&ht<=4,"invalid number of channels"),at=!0)),vt.width=wr|0,vt.height=zr|0,vt.channels=ht|0;var Ct=!1;if("format"in Ut){var Pt=Ut.format;dt(lt.webgl_depth_texture||!(Pt==="depth"||Pt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),dt.parameter(Pt,nr,"invalid texture format");var Nt=vt.internalformat=nr[Pt];vt.format=pr[Nt],Pt in yr&&("type"in Ut||(vt.type=yr[Pt])),Pt in dr&&(vt.compressed=!0),Ct=!0}!at&&Ct?vt.channels=In[vt.format]:at&&!Ct?vt.channels!==rs[vt.format]&&(vt.format=vt.internalformat=rs[vt.channels]):Ct&&at&&dt(vt.channels===In[vt.format],"number of channels inconsistent with specified format")}}function Pr(vt){et.pixelStorei(b0,vt.flipY),et.pixelStorei(w0,vt.premultiplyAlpha),et.pixelStorei(E0,vt.colorSpace),et.pixelStorei(g0,vt.unpackAlignment)}function vr(){er.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function cr(vt,Ut){var Mt=null;if(Qs(Ut)?Mt=Ut:Ut&&(dt.type(Ut,"object","invalid pixel data type"),Tr(vt,Ut),"x"in Ut&&(vt.xOffset=Ut.x|0),"y"in Ut&&(vt.yOffset=Ut.y|0),Qs(Ut.data)&&(Mt=Ut.data)),dt(!vt.compressed||Mt instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Ut.copy){dt(!Mt,"can not specify copy and data field for the same texture");var wr=Xt.viewportWidth,zr=Xt.viewportHeight;vt.width=vt.width||wr-vt.xOffset,vt.height=vt.height||zr-vt.yOffset,vt.needsCopy=!0,dt(vt.xOffset>=0&&vt.xOffset<wr&&vt.yOffset>=0&&vt.yOffset<zr&&vt.width>0&&vt.width<=wr&&vt.height>0&&vt.height<=zr,"copy texture read out of bounds")}else if(!Mt)vt.width=vt.width||1,vt.height=vt.height||1,vt.channels=vt.channels||4;else if(c(Mt))vt.channels=vt.channels||4,vt.data=Mt,!("type"in Ut)&&vt.type===vo&&(vt.type=Cl(Mt));else if(xl(Mt))vt.channels=vt.channels||4,k0(vt,Mt),vt.alignment=1,vt.needsFree=!0;else if(Nn(Mt)){var ht=Mt.data;!Array.isArray(ht)&&vt.type===vo&&(vt.type=Cl(ht));var at=Mt.shape,Ct=Mt.stride,Pt,Nt,At,Tt,Rt,ct;at.length===3?(At=at[2],ct=Ct[2]):(dt(at.length===2,"invalid ndarray pixel data, must be 2 or 3D"),At=1,ct=1),Pt=at[0],Nt=at[1],Tt=Ct[0],Rt=Ct[1],vt.alignment=1,vt.width=Pt,vt.height=Nt,vt.channels=At,vt.format=vt.internalformat=rs[At],vt.needsFree=!0,R0(vt,ht,Tt,Rt,ct,Mt.offset)}else if(Sl(Mt)||Tl(Mt)||S0(Mt))Sl(Mt)||Tl(Mt)?vt.element=Mt:vt.element=Mt.canvas,vt.width=vt.element.width,vt.height=vt.element.height,vt.channels=4;else if(T0(Mt))vt.element=Mt,vt.width=Mt.width,vt.height=Mt.height,vt.channels=4;else if(C0(Mt))vt.element=Mt,vt.width=Mt.naturalWidth,vt.height=Mt.naturalHeight,vt.channels=4;else if(A0(Mt))vt.element=Mt,vt.width=Mt.videoWidth,vt.height=Mt.videoHeight,vt.channels=4;else if(_l(Mt)){var _t=vt.width||Mt[0].length,pt=vt.height||Mt.length,Ft=vt.channels;ln(Mt[0][0])?Ft=Ft||Mt[0][0].length:Ft=Ft||1;for(var $t=na.shape(Mt),Qt=1,Yt=0;Yt<$t.length;++Yt)Qt*=$t[Yt];var qt=Al(vt,Qt);na.flatten(Mt,$t,"",qt),Rl(vt,qt),vt.alignment=1,vt.width=_t,vt.height=pt,vt.channels=Ft,vt.format=vt.internalformat=rs[Ft],vt.needsFree=!0}vt.type===Bo?dt(Et.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):vt.type===yo&&dt(Et.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Zt(vt,Ut,Mt){var wr=vt.element,zr=vt.data,ht=vt.internalformat,at=vt.format,Ct=vt.type,Pt=vt.width,Nt=vt.height;Pr(vt),wr?et.texImage2D(Ut,Mt,at,at,Ct,wr):vt.compressed?et.compressedTexImage2D(Ut,Mt,ht,Pt,Nt,0,zr):vt.needsCopy?(jt(),et.copyTexImage2D(Ut,Mt,at,vt.xOffset,vt.yOffset,Pt,Nt,0)):et.texImage2D(Ut,Mt,at,Pt,Nt,0,at,Ct,zr||null)}function kr(vt,Ut,Mt,wr,zr){var ht=vt.element,at=vt.data,Ct=vt.internalformat,Pt=vt.format,Nt=vt.type,At=vt.width,Tt=vt.height;Pr(vt),ht?et.texSubImage2D(Ut,zr,Mt,wr,Pt,Nt,ht):vt.compressed?et.compressedTexSubImage2D(Ut,zr,Mt,wr,Ct,At,Tt,at):vt.needsCopy?(jt(),et.copyTexSubImage2D(Ut,zr,Mt,wr,vt.xOffset,vt.yOffset,At,Tt)):et.texSubImage2D(Ut,zr,Mt,wr,At,Tt,Pt,Nt,at)}var $r=[];function Er(){return $r.pop()||new vr}function Ur(vt){vt.needsFree&&dn.freeType(vt.data),vr.call(vt),$r.push(vt)}function Fr(){er.call(this),this.genMipmaps=!1,this.mipmapHint=ts,this.mipmask=0,this.images=Array(16)}function jr(vt,Ut,Mt){var wr=vt.images[0]=Er();vt.mipmask=1,wr.width=vt.width=Ut,wr.height=vt.height=Mt,wr.channels=vt.channels=4}function Xr(vt,Ut){var Mt=null;if(Qs(Ut))Mt=vt.images[0]=Er(),mr(Mt,vt),cr(Mt,Ut),vt.mipmask=1;else if(Tr(vt,Ut),Array.isArray(Ut.mipmap))for(var wr=Ut.mipmap,zr=0;zr<wr.length;++zr)Mt=vt.images[zr]=Er(),mr(Mt,vt),Mt.width>>=zr,Mt.height>>=zr,cr(Mt,wr[zr]),vt.mipmask|=1<<zr;else Mt=vt.images[0]=Er(),mr(Mt,vt),cr(Mt,Ut),vt.mipmask=1;mr(vt,vt.images[0]),vt.compressed&&(vt.internalformat===Ms||vt.internalformat===Ds||vt.internalformat===js||vt.internalformat===Us)&&dt(vt.width%4===0&&vt.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function pn(vt,Ut){for(var Mt=vt.images,wr=0;wr<Mt.length;++wr){if(!Mt[wr])return;Zt(Mt[wr],Ut,wr)}}var En=[];function Hr(){var vt=En.pop()||new Fr;er.call(vt),vt.mipmask=0;for(var Ut=0;Ut<16;++Ut)vt.images[Ut]=null;return vt}function gn(vt){for(var Ut=vt.images,Mt=0;Mt<Ut.length;++Mt)Ut[Mt]&&Ur(Ut[Mt]),Ut[Mt]=null;En.push(vt)}function nn(){this.minFilter=qs,this.magFilter=qs,this.wrapS=Hs,this.wrapT=Hs,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ts}function mn(vt,Ut){if("min"in Ut){var Mt=Ut.min;dt.parameter(Mt,ar),vt.minFilter=ar[Mt],x0.indexOf(vt.minFilter)>=0&&!("faces"in Ut)&&(vt.genMipmaps=!0)}if("mag"in Ut){var wr=Ut.mag;dt.parameter(wr,lr),vt.magFilter=lr[wr]}var zr=vt.wrapS,ht=vt.wrapT;if("wrap"in Ut){var at=Ut.wrap;typeof at=="string"?(dt.parameter(at,or),zr=ht=or[at]):Array.isArray(at)&&(dt.parameter(at[0],or),dt.parameter(at[1],or),zr=or[at[0]],ht=or[at[1]])}else{if("wrapS"in Ut){var Ct=Ut.wrapS;dt.parameter(Ct,or),zr=or[Ct]}if("wrapT"in Ut){var Pt=Ut.wrapT;dt.parameter(Pt,or),ht=or[Pt]}}if(vt.wrapS=zr,vt.wrapT=ht,"anisotropic"in Ut){var Nt=Ut.anisotropic;dt(typeof Nt=="number"&&Nt>=1&&Nt<=Et.maxAnisotropic,"aniso samples must be between 1 and "),vt.anisotropic=Ut.anisotropic}if("mipmap"in Ut){var At=!1;switch(typeof Ut.mipmap){case"string":dt.parameter(Ut.mipmap,rr,"invalid mipmap hint"),vt.mipmapHint=rr[Ut.mipmap],vt.genMipmaps=!0,At=!0;break;case"boolean":At=vt.genMipmaps=Ut.mipmap;break;case"object":dt(Array.isArray(Ut.mipmap),"invalid mipmap type"),vt.genMipmaps=!1,At=!0;break;default:dt.raise("invalid mipmap type")}At&&!("min"in Ut)&&(vt.minFilter=Vs)}}function bn(vt,Ut){et.texParameteri(Ut,d0,vt.minFilter),et.texParameteri(Ut,f0,vt.magFilter),et.texParameteri(Ut,s0,vt.wrapS),et.texParameteri(Ut,u0,vt.wrapT),lt.ext_texture_filter_anisotropic&&et.texParameteri(Ut,v0,vt.anisotropic),vt.genMipmaps&&(et.hint(p0,vt.mipmapHint),et.generateMipmap(Ut))}var wn=0,_n={},Tn=Et.maxTextureUnits,cn=Array(Tn).map(function(){return null});function Mr(vt){er.call(this),this.mipmask=0,this.internalformat=ro,this.id=wn++,this.refCount=1,this.target=vt,this.texture=et.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nn,zt.profile&&(this.stats={size:0})}function Cn(vt){et.activeTexture(No),et.bindTexture(vt.target,vt.texture)}function en(){var vt=cn[0];vt?et.bindTexture(vt.target,vt.texture):et.bindTexture(jn,null)}function Cr(vt){var Ut=vt.texture;dt(Ut,"must not double destroy texture");var Mt=vt.unit,wr=vt.target;Mt>=0&&(et.activeTexture(No+Mt),et.bindTexture(wr,null),cn[Mt]=null),et.deleteTexture(Ut),vt.texture=null,vt.params=null,vt.pixels=null,vt.refCount=0,delete _n[vt.id],Dt.textureCount--}d(Mr.prototype,{bind:function(){var vt=this;vt.bindCount+=1;var Ut=vt.unit;if(Ut<0){for(var Mt=0;Mt<Tn;++Mt){var wr=cn[Mt];if(wr){if(wr.bindCount>0)continue;wr.unit=-1}cn[Mt]=vt,Ut=Mt;break}Ut>=Tn&&dt.raise("insufficient number of texture units"),zt.profile&&Dt.maxTextureUnits<Ut+1&&(Dt.maxTextureUnits=Ut+1),vt.unit=Ut,et.activeTexture(No+Ut),et.bindTexture(vt.target,vt.texture)}return Ut},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Cr(this)}});function Gr(vt,Ut){var Mt=new Mr(jn);_n[Mt.id]=Mt,Dt.textureCount++;function wr(at,Ct){var Pt=Mt.texInfo;nn.call(Pt);var Nt=Hr();return typeof at=="number"?typeof Ct=="number"?jr(Nt,at|0,Ct|0):jr(Nt,at|0,at|0):at?(dt.type(at,"object","invalid arguments to regl.texture"),mn(Pt,at),Xr(Nt,at)):jr(Nt,1,1),Pt.genMipmaps&&(Nt.mipmask=(Nt.width<<1)-1),Mt.mipmask=Nt.mipmask,mr(Mt,Nt),dt.texture2D(Pt,Nt,Et),Mt.internalformat=Nt.internalformat,wr.width=Nt.width,wr.height=Nt.height,Cn(Mt),pn(Nt,jn),bn(Pt,jn),en(),gn(Nt),zt.profile&&(Mt.stats.size=ns(Mt.internalformat,Mt.type,Nt.width,Nt.height,Pt.genMipmaps,!1)),wr.format=ur[Mt.internalformat],wr.type=gr[Mt.type],wr.mag=Jt[Pt.magFilter],wr.min=br[Pt.minFilter],wr.wrapS=tr[Pt.wrapS],wr.wrapT=tr[Pt.wrapT],wr}function zr(at,Ct,Pt,Nt){dt(!!at,"must specify image data");var At=Ct|0,Tt=Pt|0,Rt=Nt|0,ct=Er();return mr(ct,Mt),ct.width=0,ct.height=0,cr(ct,at),ct.width=ct.width||(Mt.width>>Rt)-At,ct.height=ct.height||(Mt.height>>Rt)-Tt,dt(Mt.type===ct.type&&Mt.format===ct.format&&Mt.internalformat===ct.internalformat,"incompatible format for texture.subimage"),dt(At>=0&&Tt>=0&&At+ct.width<=Mt.width&&Tt+ct.height<=Mt.height,"texture.subimage write out of bounds"),dt(Mt.mipmask&1<<Rt,"missing mipmap data"),dt(ct.data||ct.element||ct.needsCopy,"missing image data"),Cn(Mt),kr(ct,jn,At,Tt,Rt),en(),Ur(ct),wr}function ht(at,Ct){var Pt=at|0,Nt=Ct|0||Pt;if(Pt===Mt.width&&Nt===Mt.height)return wr;wr.width=Mt.width=Pt,wr.height=Mt.height=Nt,Cn(Mt);for(var At=0;Mt.mipmask>>At;++At){var Tt=Pt>>At,Rt=Nt>>At;if(!Tt||!Rt)break;et.texImage2D(jn,At,Mt.format,Tt,Rt,0,Mt.format,Mt.type,null)}return en(),zt.profile&&(Mt.stats.size=ns(Mt.internalformat,Mt.type,Pt,Nt,!1,!1)),wr}return wr(vt,Ut),wr.subimage=zr,wr.resize=ht,wr._reglType="texture2d",wr._texture=Mt,zt.profile&&(wr.stats=Mt.stats),wr.destroy=function(){Mt.decRef()},wr}function Kr(vt,Ut,Mt,wr,zr,ht){var at=new Mr(Os);_n[at.id]=at,Dt.cubeCount++;var Ct=new Array(6);function Pt(Tt,Rt,ct,_t,pt,Ft){var $t,Qt=at.texInfo;for(nn.call(Qt),$t=0;$t<6;++$t)Ct[$t]=Hr();if(typeof Tt=="number"||!Tt){var Yt=Tt|0||1;for($t=0;$t<6;++$t)jr(Ct[$t],Yt,Yt)}else if(typeof Tt=="object")if(Rt)Xr(Ct[0],Tt),Xr(Ct[1],Rt),Xr(Ct[2],ct),Xr(Ct[3],_t),Xr(Ct[4],pt),Xr(Ct[5],Ft);else if(mn(Qt,Tt),Tr(at,Tt),"faces"in Tt){var qt=Tt.faces;for(dt(Array.isArray(qt)&&qt.length===6,"cube faces must be a length 6 array"),$t=0;$t<6;++$t)dt(typeof qt[$t]=="object"&&!!qt[$t],"invalid input for cube map face"),mr(Ct[$t],at),Xr(Ct[$t],qt[$t])}else for($t=0;$t<6;++$t)Xr(Ct[$t],Tt);else dt.raise("invalid arguments to cube map");for(mr(at,Ct[0]),Et.npotTextureCube||dt(Nu(at.width)&&Nu(at.height),"your browser does not support non power or two texture dimensions"),Qt.genMipmaps?at.mipmask=(Ct[0].width<<1)-1:at.mipmask=Ct[0].mipmask,dt.textureCube(at,Qt,Ct,Et),at.internalformat=Ct[0].internalformat,Pt.width=Ct[0].width,Pt.height=Ct[0].height,Cn(at),$t=0;$t<6;++$t)pn(Ct[$t],xa+$t);for(bn(Qt,Os),en(),zt.profile&&(at.stats.size=ns(at.internalformat,at.type,Pt.width,Pt.height,Qt.genMipmaps,!0)),Pt.format=ur[at.internalformat],Pt.type=gr[at.type],Pt.mag=Jt[Qt.magFilter],Pt.min=br[Qt.minFilter],Pt.wrapS=tr[Qt.wrapS],Pt.wrapT=tr[Qt.wrapT],$t=0;$t<6;++$t)gn(Ct[$t]);return Pt}function Nt(Tt,Rt,ct,_t,pt){dt(!!Rt,"must specify image data"),dt(typeof Tt=="number"&&Tt===(Tt|0)&&Tt>=0&&Tt<6,"invalid face");var Ft=ct|0,$t=_t|0,Qt=pt|0,Yt=Er();return mr(Yt,at),Yt.width=0,Yt.height=0,cr(Yt,Rt),Yt.width=Yt.width||(at.width>>Qt)-Ft,Yt.height=Yt.height||(at.height>>Qt)-$t,dt(at.type===Yt.type&&at.format===Yt.format&&at.internalformat===Yt.internalformat,"incompatible format for texture.subimage"),dt(Ft>=0&&$t>=0&&Ft+Yt.width<=at.width&&$t+Yt.height<=at.height,"texture.subimage write out of bounds"),dt(at.mipmask&1<<Qt,"missing mipmap data"),dt(Yt.data||Yt.element||Yt.needsCopy,"missing image data"),Cn(at),kr(Yt,xa+Tt,Ft,$t,Qt),en(),Ur(Yt),Pt}function At(Tt){var Rt=Tt|0;if(Rt!==at.width){Pt.width=at.width=Rt,Pt.height=at.height=Rt,Cn(at);for(var ct=0;ct<6;++ct)for(var _t=0;at.mipmask>>_t;++_t)et.texImage2D(xa+ct,_t,at.format,Rt>>_t,Rt>>_t,0,at.format,at.type,null);return en(),zt.profile&&(at.stats.size=ns(at.internalformat,at.type,Pt.width,Pt.height,!1,!0)),Pt}}return Pt(vt,Ut,Mt,wr,zr,ht),Pt.subimage=Nt,Pt.resize=At,Pt._reglType="textureCube",Pt._texture=at,zt.profile&&(Pt.stats=at.stats),Pt.destroy=function(){at.decRef()},Pt}function fn(){for(var vt=0;vt<Tn;++vt)et.activeTexture(No+vt),et.bindTexture(jn,null),cn[vt]=null;On(_n).forEach(Cr),Dt.cubeCount=0,Dt.textureCount=0}zt.profile&&(Dt.getTotalTextureSize=function(){var vt=0;return Object.keys(_n).forEach(function(Ut){vt+=_n[Ut].stats.size}),vt});function zn(){for(var vt=0;vt<Tn;++vt){var Ut=cn[vt];Ut&&(Ut.bindCount=0,Ut.unit=-1,cn[vt]=null)}On(_n).forEach(function(Mt){Mt.texture=et.createTexture(),et.bindTexture(Mt.target,Mt.texture);for(var wr=0;wr<32;++wr)if(Mt.mipmask&1<<wr)if(Mt.target===jn)et.texImage2D(jn,wr,Mt.internalformat,Mt.width>>wr,Mt.height>>wr,0,Mt.internalformat,Mt.type,null);else for(var zr=0;zr<6;++zr)et.texImage2D(xa+zr,wr,Mt.internalformat,Mt.width>>wr,Mt.height>>wr,0,Mt.internalformat,Mt.type,null);bn(Mt.texInfo,Mt.target)})}function co(){for(var vt=0;vt<Tn;++vt){var Ut=cn[vt];Ut&&(Ut.bindCount=0,Ut.unit=-1,cn[vt]=null),et.activeTexture(No+vt),et.bindTexture(jn,null),et.bindTexture(Os,null)}}return{create2D:Gr,createCube:Kr,clear:fn,getTexture:function(vt){return null},restore:zn,refresh:co}}var Xn=36161,is=32854,Pl=32855,Fl=36194,Ol=33189,Ll=36168,Il=34041,Bl=35907,Nl=34836,$l=34842,Ml=34843,$n=[];$n[is]=2,$n[Pl]=2,$n[Fl]=2,$n[Ol]=2,$n[Ll]=1,$n[Il]=4,$n[Bl]=4,$n[Nl]=16,$n[$l]=8,$n[Ml]=6;function Dl(et,lt,Et){return $n[et]*lt*Et}var F0=function(et,lt,Et,jt,Xt){var Dt={rgba4:is,rgb565:Fl,"rgb5 a1":Pl,depth:Ol,stencil:Ll,"depth stencil":Il};lt.ext_srgb&&(Dt.srgba=Bl),lt.ext_color_buffer_half_float&&(Dt.rgba16f=$l,Dt.rgb16f=Ml),lt.webgl_color_buffer_float&&(Dt.rgba32f=Nl);var zt=[];Object.keys(Dt).forEach(function(nr){var dr=Dt[nr];zt[dr]=nr});var rr=0,or={};function lr(nr){this.id=rr++,this.refCount=1,this.renderbuffer=nr,this.format=is,this.width=0,this.height=0,Xt.profile&&(this.stats={size:0})}lr.prototype.decRef=function(){--this.refCount<=0&&ar(this)};function ar(nr){var dr=nr.renderbuffer;dt(dr,"must not double destroy renderbuffer"),et.bindRenderbuffer(Xn,null),et.deleteRenderbuffer(dr),nr.renderbuffer=null,nr.refCount=0,delete or[nr.id],jt.renderbufferCount--}function fr(nr,dr){var It=new lr(et.createRenderbuffer());or[It.id]=It,jt.renderbufferCount++;function Gt(gr,Jt){var br=0,tr=0,pr=is;if(typeof gr=="object"&&gr){var er=gr;if("shape"in er){var mr=er.shape;dt(Array.isArray(mr)&&mr.length>=2,"invalid renderbuffer shape"),br=mr[0]|0,tr=mr[1]|0}else"radius"in er&&(br=tr=er.radius|0),"width"in er&&(br=er.width|0),"height"in er&&(tr=er.height|0);"format"in er&&(dt.parameter(er.format,Dt,"invalid renderbuffer format"),pr=Dt[er.format])}else typeof gr=="number"?(br=gr|0,typeof Jt=="number"?tr=Jt|0:tr=br):gr?dt.raise("invalid arguments to renderbuffer constructor"):br=tr=1;if(dt(br>0&&tr>0&&br<=Et.maxRenderbufferSize&&tr<=Et.maxRenderbufferSize,"invalid renderbuffer size"),!(br===It.width&&tr===It.height&&pr===It.format))return Gt.width=It.width=br,Gt.height=It.height=tr,It.format=pr,et.bindRenderbuffer(Xn,It.renderbuffer),et.renderbufferStorage(Xn,pr,br,tr),dt(et.getError()===0,"invalid render buffer format"),Xt.profile&&(It.stats.size=Dl(It.format,It.width,It.height)),Gt.format=zt[It.format],Gt}function ur(gr,Jt){var br=gr|0,tr=Jt|0||br;return br===It.width&&tr===It.height||(dt(br>0&&tr>0&&br<=Et.maxRenderbufferSize&&tr<=Et.maxRenderbufferSize,"invalid renderbuffer size"),Gt.width=It.width=br,Gt.height=It.height=tr,et.bindRenderbuffer(Xn,It.renderbuffer),et.renderbufferStorage(Xn,It.format,br,tr),dt(et.getError()===0,"invalid render buffer format"),Xt.profile&&(It.stats.size=Dl(It.format,It.width,It.height))),Gt}return Gt(nr,dr),Gt.resize=ur,Gt._reglType="renderbuffer",Gt._renderbuffer=It,Xt.profile&&(Gt.stats=It.stats),Gt.destroy=function(){It.decRef()},Gt}Xt.profile&&(jt.getTotalRenderbufferSize=function(){var nr=0;return Object.keys(or).forEach(function(dr){nr+=or[dr].stats.size}),nr});function yr(){On(or).forEach(function(nr){nr.renderbuffer=et.createRenderbuffer(),et.bindRenderbuffer(Xn,nr.renderbuffer),et.renderbufferStorage(Xn,nr.format,nr.width,nr.height)}),et.bindRenderbuffer(Xn,null)}return{create:fr,clear:function(){On(or).forEach(ar)},restore:yr}},qn=36160,Ks=36161,io=3553,os=34069,Ul=36064,zl=36096,Gl=36128,Hl=33306,Vl=36053,O0=36054,L0=36055,I0=36057,B0=36061,N0=36193,$0=5121,M0=5126,Wl=6407,Ql=6408,D0=6402,j0=[Wl,Ql],Xs=[];Xs[Ql]=4,Xs[Wl]=3;var as=[];as[$0]=1,as[M0]=4,as[N0]=2;var U0=32854,z0=32855,G0=36194,H0=33189,q0=36168,Kl=34041,V0=35907,W0=34836,Q0=34842,K0=34843,X0=[U0,z0,G0,V0,Q0,K0,W0],wo={};wo[Vl]="complete",wo[O0]="incomplete attachment",wo[I0]="incomplete dimensions",wo[L0]="incomplete, missing attachment",wo[B0]="unsupported";function Y0(et,lt,Et,jt,Xt,Dt){var zt={cur:null,next:null,dirty:!1,setFBO:null},rr=["rgba"],or=["rgba4","rgb565","rgb5 a1"];lt.ext_srgb&&or.push("srgba"),lt.ext_color_buffer_half_float&&or.push("rgba16f","rgb16f"),lt.webgl_color_buffer_float&&or.push("rgba32f");var lr=["uint8"];lt.oes_texture_half_float&&lr.push("half float","float16"),lt.oes_texture_float&&lr.push("float","float32");function ar(vr,cr,Zt){this.target=vr,this.texture=cr,this.renderbuffer=Zt;var kr=0,$r=0;cr?(kr=cr.width,$r=cr.height):Zt&&(kr=Zt.width,$r=Zt.height),this.width=kr,this.height=$r}function fr(vr){vr&&(vr.texture&&vr.texture._texture.decRef(),vr.renderbuffer&&vr.renderbuffer._renderbuffer.decRef())}function yr(vr,cr,Zt){if(vr)if(vr.texture){var kr=vr.texture._texture,$r=Math.max(1,kr.width),Er=Math.max(1,kr.height);dt($r===cr&&Er===Zt,"inconsistent width/height for supplied texture"),kr.refCount+=1}else{var Ur=vr.renderbuffer._renderbuffer;dt(Ur.width===cr&&Ur.height===Zt,"inconsistent width/height for renderbuffer"),Ur.refCount+=1}}function nr(vr,cr){cr&&(cr.texture?et.framebufferTexture2D(qn,vr,cr.target,cr.texture._texture.texture,0):et.framebufferRenderbuffer(qn,vr,Ks,cr.renderbuffer._renderbuffer.renderbuffer))}function dr(vr){var cr=io,Zt=null,kr=null,$r=vr;typeof vr=="object"&&($r=vr.data,"target"in vr&&(cr=vr.target|0)),dt.type($r,"function","invalid attachment data");var Er=$r._reglType;return Er==="texture2d"?(Zt=$r,dt(cr===io)):Er==="textureCube"?(Zt=$r,dt(cr>=os&&cr<os+6,"invalid cube map target")):Er==="renderbuffer"?(kr=$r,cr=Ks):dt.raise("invalid regl object for attachment"),new ar(cr,Zt,kr)}function It(vr,cr,Zt,kr,$r){if(Zt){var Er=jt.create2D({width:vr,height:cr,format:kr,type:$r});return Er._texture.refCount=0,new ar(io,Er,null)}else{var Ur=Xt.create({width:vr,height:cr,format:kr});return Ur._renderbuffer.refCount=0,new ar(Ks,null,Ur)}}function Gt(vr){return vr&&(vr.texture||vr.renderbuffer)}function ur(vr,cr,Zt){vr&&(vr.texture?vr.texture.resize(cr,Zt):vr.renderbuffer&&vr.renderbuffer.resize(cr,Zt),vr.width=cr,vr.height=Zt)}var gr=0,Jt={};function br(){this.id=gr++,Jt[this.id]=this,this.framebuffer=et.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function tr(vr){vr.colorAttachments.forEach(fr),fr(vr.depthAttachment),fr(vr.stencilAttachment),fr(vr.depthStencilAttachment)}function pr(vr){var cr=vr.framebuffer;dt(cr,"must not double destroy framebuffer"),et.deleteFramebuffer(cr),vr.framebuffer=null,Dt.framebufferCount--,delete Jt[vr.id]}function er(vr){var cr;et.bindFramebuffer(qn,vr.framebuffer);var Zt=vr.colorAttachments;for(cr=0;cr<Zt.length;++cr)nr(Ul+cr,Zt[cr]);for(cr=Zt.length;cr<Et.maxColorAttachments;++cr)et.framebufferTexture2D(qn,Ul+cr,io,null,0);et.framebufferTexture2D(qn,Hl,io,null,0),et.framebufferTexture2D(qn,zl,io,null,0),et.framebufferTexture2D(qn,Gl,io,null,0),nr(zl,vr.depthAttachment),nr(Gl,vr.stencilAttachment),nr(Hl,vr.depthStencilAttachment);var kr=et.checkFramebufferStatus(qn);!et.isContextLost()&&kr!==Vl&&dt.raise("framebuffer configuration not supported, status = "+wo[kr]),et.bindFramebuffer(qn,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,et.getError()}function mr(vr,cr){var Zt=new br;Dt.framebufferCount++;function kr(Er,Ur){var Fr;dt(zt.next!==Zt,"can not update framebuffer which is currently in use");var jr=0,Xr=0,pn=!0,En=!0,Hr=null,gn=!0,nn="rgba",mn="uint8",bn=1,wn=null,_n=null,Tn=null,cn=!1;if(typeof Er=="number")jr=Er|0,Xr=Ur|0||jr;else if(!Er)jr=Xr=1;else{dt.type(Er,"object","invalid arguments for framebuffer");var Mr=Er;if("shape"in Mr){var Cn=Mr.shape;dt(Array.isArray(Cn)&&Cn.length>=2,"invalid shape for framebuffer"),jr=Cn[0],Xr=Cn[1]}else"radius"in Mr&&(jr=Xr=Mr.radius),"width"in Mr&&(jr=Mr.width),"height"in Mr&&(Xr=Mr.height);("color"in Mr||"colors"in Mr)&&(Hr=Mr.color||Mr.colors,Array.isArray(Hr)&&dt(Hr.length===1||lt.webgl_draw_buffers,"multiple render targets not supported")),Hr||("colorCount"in Mr&&(bn=Mr.colorCount|0,dt(bn>0,"invalid color buffer count")),"colorTexture"in Mr&&(gn=!!Mr.colorTexture,nn="rgba4"),"colorType"in Mr&&(mn=Mr.colorType,gn?(dt(lt.oes_texture_float||!(mn==="float"||mn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),dt(lt.oes_texture_half_float||!(mn==="half float"||mn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):mn==="half float"||mn==="float16"?(dt(lt.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),nn="rgba16f"):(mn==="float"||mn==="float32")&&(dt(lt.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),nn="rgba32f"),dt.oneOf(mn,lr,"invalid color type")),"colorFormat"in Mr&&(nn=Mr.colorFormat,rr.indexOf(nn)>=0?gn=!0:or.indexOf(nn)>=0?gn=!1:gn?dt.oneOf(Mr.colorFormat,rr,"invalid color format for texture"):dt.oneOf(Mr.colorFormat,or,"invalid color format for renderbuffer"))),("depthTexture"in Mr||"depthStencilTexture"in Mr)&&(cn=!!(Mr.depthTexture||Mr.depthStencilTexture),dt(!cn||lt.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Mr&&(typeof Mr.depth=="boolean"?pn=Mr.depth:(wn=Mr.depth,En=!1)),"stencil"in Mr&&(typeof Mr.stencil=="boolean"?En=Mr.stencil:(_n=Mr.stencil,pn=!1)),"depthStencil"in Mr&&(typeof Mr.depthStencil=="boolean"?pn=En=Mr.depthStencil:(Tn=Mr.depthStencil,pn=!1,En=!1))}var en=null,Cr=null,Gr=null,Kr=null;if(Array.isArray(Hr))en=Hr.map(dr);else if(Hr)en=[dr(Hr)];else for(en=new Array(bn),Fr=0;Fr<bn;++Fr)en[Fr]=It(jr,Xr,gn,nn,mn);dt(lt.webgl_draw_buffers||en.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),dt(en.length<=Et.maxColorAttachments,"too many color attachments, not supported"),jr=jr||en[0].width,Xr=Xr||en[0].height,wn?Cr=dr(wn):pn&&!En&&(Cr=It(jr,Xr,cn,"depth","uint32")),_n?Gr=dr(_n):En&&!pn&&(Gr=It(jr,Xr,!1,"stencil","uint8")),Tn?Kr=dr(Tn):!wn&&!_n&&En&&pn&&(Kr=It(jr,Xr,cn,"depth stencil","depth stencil")),dt(!!wn+!!_n+!!Tn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var fn=null;for(Fr=0;Fr<en.length;++Fr)if(yr(en[Fr],jr,Xr),dt(!en[Fr]||en[Fr].texture&&j0.indexOf(en[Fr].texture._texture.format)>=0||en[Fr].renderbuffer&&X0.indexOf(en[Fr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Fr+" is invalid"),en[Fr]&&en[Fr].texture){var zn=Xs[en[Fr].texture._texture.format]*as[en[Fr].texture._texture.type];fn===null?fn=zn:dt(fn===zn,"all color attachments much have the same number of bits per pixel.")}return yr(Cr,jr,Xr),dt(!Cr||Cr.texture&&Cr.texture._texture.format===D0||Cr.renderbuffer&&Cr.renderbuffer._renderbuffer.format===H0,"invalid depth attachment for framebuffer object"),yr(Gr,jr,Xr),dt(!Gr||Gr.renderbuffer&&Gr.renderbuffer._renderbuffer.format===q0,"invalid stencil attachment for framebuffer object"),yr(Kr,jr,Xr),dt(!Kr||Kr.texture&&Kr.texture._texture.format===Kl||Kr.renderbuffer&&Kr.renderbuffer._renderbuffer.format===Kl,"invalid depth-stencil attachment for framebuffer object"),tr(Zt),Zt.width=jr,Zt.height=Xr,Zt.colorAttachments=en,Zt.depthAttachment=Cr,Zt.stencilAttachment=Gr,Zt.depthStencilAttachment=Kr,kr.color=en.map(Gt),kr.depth=Gt(Cr),kr.stencil=Gt(Gr),kr.depthStencil=Gt(Kr),kr.width=Zt.width,kr.height=Zt.height,er(Zt),kr}function $r(Er,Ur){dt(zt.next!==Zt,"can not resize a framebuffer which is currently in use");var Fr=Math.max(Er|0,1),jr=Math.max(Ur|0||Fr,1);if(Fr===Zt.width&&jr===Zt.height)return kr;for(var Xr=Zt.colorAttachments,pn=0;pn<Xr.length;++pn)ur(Xr[pn],Fr,jr);return ur(Zt.depthAttachment,Fr,jr),ur(Zt.stencilAttachment,Fr,jr),ur(Zt.depthStencilAttachment,Fr,jr),Zt.width=kr.width=Fr,Zt.height=kr.height=jr,er(Zt),kr}return kr(vr,cr),d(kr,{resize:$r,_reglType:"framebuffer",_framebuffer:Zt,destroy:function(){pr(Zt),tr(Zt)},use:function(Er){zt.setFBO({framebuffer:kr},Er)}})}function Tr(vr){var cr=Array(6);function Zt($r){var Er;dt(cr.indexOf(zt.next)<0,"can not update framebuffer which is currently in use");var Ur={color:null},Fr=0,jr=null,Xr="rgba",pn="uint8",En=1;if(typeof $r=="number")Fr=$r|0;else if(!$r)Fr=1;else{dt.type($r,"object","invalid arguments for framebuffer");var Hr=$r;if("shape"in Hr){var gn=Hr.shape;dt(Array.isArray(gn)&&gn.length>=2,"invalid shape for framebuffer"),dt(gn[0]===gn[1],"cube framebuffer must be square"),Fr=gn[0]}else"radius"in Hr&&(Fr=Hr.radius|0),"width"in Hr?(Fr=Hr.width|0,"height"in Hr&&dt(Hr.height===Fr,"must be square")):"height"in Hr&&(Fr=Hr.height|0);("color"in Hr||"colors"in Hr)&&(jr=Hr.color||Hr.colors,Array.isArray(jr)&&dt(jr.length===1||lt.webgl_draw_buffers,"multiple render targets not supported")),jr||("colorCount"in Hr&&(En=Hr.colorCount|0,dt(En>0,"invalid color buffer count")),"colorType"in Hr&&(dt.oneOf(Hr.colorType,lr,"invalid color type"),pn=Hr.colorType),"colorFormat"in Hr&&(Xr=Hr.colorFormat,dt.oneOf(Hr.colorFormat,rr,"invalid color format for texture"))),"depth"in Hr&&(Ur.depth=Hr.depth),"stencil"in Hr&&(Ur.stencil=Hr.stencil),"depthStencil"in Hr&&(Ur.depthStencil=Hr.depthStencil)}var nn;if(jr)if(Array.isArray(jr))for(nn=[],Er=0;Er<jr.length;++Er)nn[Er]=jr[Er];else nn=[jr];else{nn=Array(En);var mn={radius:Fr,format:Xr,type:pn};for(Er=0;Er<En;++Er)nn[Er]=jt.createCube(mn)}for(Ur.color=Array(nn.length),Er=0;Er<nn.length;++Er){var bn=nn[Er];dt(typeof bn=="function"&&bn._reglType==="textureCube","invalid cube map"),Fr=Fr||bn.width,dt(bn.width===Fr&&bn.height===Fr,"invalid cube map shape"),Ur.color[Er]={target:os,data:nn[Er]}}for(Er=0;Er<6;++Er){for(var wn=0;wn<nn.length;++wn)Ur.color[wn].target=os+Er;Er>0&&(Ur.depth=cr[0].depth,Ur.stencil=cr[0].stencil,Ur.depthStencil=cr[0].depthStencil),cr[Er]?cr[Er](Ur):cr[Er]=mr(Ur)}return d(Zt,{width:Fr,height:Fr,color:nn})}function kr($r){var Er,Ur=$r|0;if(dt(Ur>0&&Ur<=Et.maxCubeMapSize,"invalid radius for cube fbo"),Ur===Zt.width)return Zt;var Fr=Zt.color;for(Er=0;Er<Fr.length;++Er)Fr[Er].resize(Ur);for(Er=0;Er<6;++Er)cr[Er].resize(Ur);return Zt.width=Zt.height=Ur,Zt}return Zt(vr),d(Zt,{faces:cr,resize:kr,_reglType:"framebufferCube",destroy:function(){cr.forEach(function($r){$r.destroy()})}})}function Pr(){zt.cur=null,zt.next=null,zt.dirty=!0,On(Jt).forEach(function(vr){vr.framebuffer=et.createFramebuffer(),er(vr)})}return d(zt,{getFramebuffer:function(vr){if(typeof vr=="function"&&vr._reglType==="framebuffer"){var cr=vr._framebuffer;if(cr instanceof br)return cr}return null},create:mr,createCube:Tr,clear:function(){On(Jt).forEach(pr)},restore:Pr})}var Z0=5126,Xl=34962;function Ys(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Z0,this.offset=0,this.stride=0,this.divisor=0}function J0(et,lt,Et,jt,Xt){for(var Dt=Et.maxAttributes,zt=new Array(Dt),rr=0;rr<Dt;++rr)zt[rr]=new Ys;var or=0,lr={},ar={Record:Ys,scope:{},state:zt,currentVAO:null,targetVAO:null,restore:yr()?Jt:function(){},createVAO:br,getVAO:dr,destroyBuffer:fr,setVAO:yr()?It:Gt,clear:yr()?ur:function(){}};function fr(tr){for(var pr=0;pr<zt.length;++pr){var er=zt[pr];er.buffer===tr&&(et.disableVertexAttribArray(pr),er.buffer=null)}}function yr(){return lt.oes_vertex_array_object}function nr(){return lt.angle_instanced_arrays}function dr(tr){return typeof tr=="function"&&tr._vao?tr._vao:null}function It(tr){if(tr!==ar.currentVAO){var pr=yr();tr?pr.bindVertexArrayOES(tr.vao):pr.bindVertexArrayOES(null),ar.currentVAO=tr}}function Gt(tr){if(tr!==ar.currentVAO){if(tr)tr.bindAttrs();else for(var pr=nr(),er=0;er<zt.length;++er){var mr=zt[er];mr.buffer?(et.enableVertexAttribArray(er),et.vertexAttribPointer(er,mr.size,mr.type,mr.normalized,mr.stride,mr.offfset),pr&&mr.divisor&&pr.vertexAttribDivisorANGLE(er,mr.divisor)):(et.disableVertexAttribArray(er),et.vertexAttrib4f(er,mr.x,mr.y,mr.z,mr.w))}ar.currentVAO=tr}}function ur(){On(lr).forEach(function(tr){tr.destroy()})}function gr(){this.id=++or,this.attributes=[];var tr=yr();tr?this.vao=tr.createVertexArrayOES():this.vao=null,lr[this.id]=this,this.buffers=[]}gr.prototype.bindAttrs=function(){for(var tr=nr(),pr=this.attributes,er=0;er<pr.length;++er){var mr=pr[er];mr.buffer?(et.enableVertexAttribArray(er),et.bindBuffer(Xl,mr.buffer.buffer),et.vertexAttribPointer(er,mr.size,mr.type,mr.normalized,mr.stride,mr.offset),tr&&mr.divisor&&tr.vertexAttribDivisorANGLE(er,mr.divisor)):(et.disableVertexAttribArray(er),et.vertexAttrib4f(er,mr.x,mr.y,mr.z,mr.w))}for(var Tr=pr.length;Tr<Dt;++Tr)et.disableVertexAttribArray(Tr)},gr.prototype.refresh=function(){var tr=yr();tr&&(tr.bindVertexArrayOES(this.vao),this.bindAttrs(),ar.currentVAO=this)},gr.prototype.destroy=function(){if(this.vao){var tr=yr();this===ar.currentVAO&&(ar.currentVAO=null,tr.bindVertexArrayOES(null)),tr.deleteVertexArrayOES(this.vao),this.vao=null}lr[this.id]&&(delete lr[this.id],jt.vaoCount-=1)};function Jt(){var tr=yr();tr&&On(lr).forEach(function(pr){pr.refresh()})}function br(tr){var pr=new gr;jt.vaoCount+=1;function er(mr){dt(Array.isArray(mr),"arguments to vertex array constructor must be an array"),dt(mr.length<Dt,"too many attributes"),dt(mr.length>0,"must specify at least one attribute");var Tr={},Pr=pr.attributes;Pr.length=mr.length;for(var vr=0;vr<mr.length;++vr){var cr=mr[vr],Zt=Pr[vr]=new Ys,kr=cr.data||cr;if(Array.isArray(kr)||c(kr)||Nn(kr)){var $r;pr.buffers[vr]&&($r=pr.buffers[vr],c(kr)&&$r._buffer.byteLength>=kr.byteLength?$r.subdata(kr):($r.destroy(),pr.buffers[vr]=null)),pr.buffers[vr]||($r=pr.buffers[vr]=Xt.create(cr,Xl,!1,!0)),Zt.buffer=Xt.getBuffer($r),Zt.size=Zt.buffer.dimension|0,Zt.normalized=!1,Zt.type=Zt.buffer.dtype,Zt.offset=0,Zt.stride=0,Zt.divisor=0,Zt.state=1,Tr[vr]=1}else Xt.getBuffer(cr)?(Zt.buffer=Xt.getBuffer(cr),Zt.size=Zt.buffer.dimension|0,Zt.normalized=!1,Zt.type=Zt.buffer.dtype,Zt.offset=0,Zt.stride=0,Zt.divisor=0,Zt.state=1):Xt.getBuffer(cr.buffer)?(Zt.buffer=Xt.getBuffer(cr.buffer),Zt.size=(+cr.size||Zt.buffer.dimension)|0,Zt.normalized=!!cr.normalized||!1,"type"in cr?(dt.parameter(cr.type,eo,"invalid buffer type"),Zt.type=eo[cr.type]):Zt.type=Zt.buffer.dtype,Zt.offset=(cr.offset||0)|0,Zt.stride=(cr.stride||0)|0,Zt.divisor=(cr.divisor||0)|0,Zt.state=1,dt(Zt.size>=1&&Zt.size<=4,"size must be between 1 and 4"),dt(Zt.offset>=0,"invalid offset"),dt(Zt.stride>=0&&Zt.stride<=255,"stride must be between 0 and 255"),dt(Zt.divisor>=0,"divisor must be positive"),dt(!Zt.divisor||!!lt.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in cr?(dt(vr>0,"first attribute must not be a constant"),Zt.x=+cr.x||0,Zt.y=+cr.y||0,Zt.z=+cr.z||0,Zt.w=+cr.w||0,Zt.state=2):dt(!1,"invalid attribute spec for location "+vr)}for(var Er=0;Er<pr.buffers.length;++Er)!Tr[Er]&&pr.buffers[Er]&&(pr.buffers[Er].destroy(),pr.buffers[Er]=null);return pr.refresh(),er}return er.destroy=function(){for(var mr=0;mr<pr.buffers.length;++mr)pr.buffers[mr]&&pr.buffers[mr].destroy();pr.buffers.length=0,pr.destroy()},er._vao=pr,er._reglType="vao",er(tr)}return ar}var Yl=35632,ey=35633,ty=35718,ry=35721;function ny(et,lt,Et,jt){var Xt={},Dt={};function zt(It,Gt,ur,gr){this.name=It,this.id=Gt,this.location=ur,this.info=gr}function rr(It,Gt){for(var ur=0;ur<It.length;++ur)if(It[ur].id===Gt.id){It[ur].location=Gt.location;return}It.push(Gt)}function or(It,Gt,ur){var gr=It===Yl?Xt:Dt,Jt=gr[Gt];if(!Jt){var br=lt.str(Gt);Jt=et.createShader(It),et.shaderSource(Jt,br),et.compileShader(Jt),dt.shaderError(et,Jt,br,It,ur),gr[Gt]=Jt}return Jt}var lr={},ar=[],fr=0;function yr(It,Gt){this.id=fr++,this.fragId=It,this.vertId=Gt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,jt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function nr(It,Gt,ur){var gr,Jt,br=or(Yl,It.fragId),tr=or(ey,It.vertId),pr=It.program=et.createProgram();if(et.attachShader(pr,br),et.attachShader(pr,tr),ur)for(gr=0;gr<ur.length;++gr){var er=ur[gr];et.bindAttribLocation(pr,er[0],er[1])}et.linkProgram(pr),dt.linkError(et,pr,lt.str(It.fragId),lt.str(It.vertId),Gt);var mr=et.getProgramParameter(pr,ty);jt.profile&&(It.stats.uniformsCount=mr);var Tr=It.uniforms;for(gr=0;gr<mr;++gr)if(Jt=et.getActiveUniform(pr,gr),Jt)if(Jt.size>1)for(var Pr=0;Pr<Jt.size;++Pr){var vr=Jt.name.replace("[0]","["+Pr+"]");rr(Tr,new zt(vr,lt.id(vr),et.getUniformLocation(pr,vr),Jt))}else rr(Tr,new zt(Jt.name,lt.id(Jt.name),et.getUniformLocation(pr,Jt.name),Jt));var cr=et.getProgramParameter(pr,ry);jt.profile&&(It.stats.attributesCount=cr);var Zt=It.attributes;for(gr=0;gr<cr;++gr)Jt=et.getActiveAttrib(pr,gr),Jt&&rr(Zt,new zt(Jt.name,lt.id(Jt.name),et.getAttribLocation(pr,Jt.name),Jt))}jt.profile&&(Et.getMaxUniformsCount=function(){var It=0;return ar.forEach(function(Gt){Gt.stats.uniformsCount>It&&(It=Gt.stats.uniformsCount)}),It},Et.getMaxAttributesCount=function(){var It=0;return ar.forEach(function(Gt){Gt.stats.attributesCount>It&&(It=Gt.stats.attributesCount)}),It});function dr(){Xt={},Dt={};for(var It=0;It<ar.length;++It)nr(ar[It],null,ar[It].attributes.map(function(Gt){return[Gt.location,Gt.name]}))}return{clear:function(){var It=et.deleteShader.bind(et);On(Xt).forEach(It),Xt={},On(Dt).forEach(It),Dt={},ar.forEach(function(Gt){et.deleteProgram(Gt.program)}),ar.length=0,lr={},Et.shaderCount=0},program:function(It,Gt,ur,gr){dt.command(It>=0,"missing vertex shader",ur),dt.command(Gt>=0,"missing fragment shader",ur);var Jt=lr[Gt];Jt||(Jt=lr[Gt]={});var br=Jt[It];if(br&&(br.refCount++,!gr))return br;var tr=new yr(Gt,It);return Et.shaderCount++,nr(tr,ur,gr),br||(Jt[It]=tr),ar.push(tr),d(tr,{destroy:function(){if(tr.refCount--,tr.refCount<=0){et.deleteProgram(tr.program);var pr=ar.indexOf(tr);ar.splice(pr,1),Et.shaderCount--}Jt[tr.vertId].refCount<=0&&(et.deleteShader(Dt[tr.vertId]),delete Dt[tr.vertId],delete lr[tr.fragId][tr.vertId]),Object.keys(lr[tr.fragId]).length||(et.deleteShader(Xt[tr.fragId]),delete Xt[tr.fragId],delete lr[tr.fragId])}})},restore:dr,shader:or,frag:-1,vert:-1}}var iy=6408,$o=5121,oy=3333,ss=5126;function ay(et,lt,Et,jt,Xt,Dt,zt){function rr(ar){var fr;lt.next===null?(dt(Xt.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),fr=$o):(dt(lt.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),fr=lt.next.colorAttachments[0].texture._texture.type,Dt.oes_texture_float?(dt(fr===$o||fr===ss,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),fr===ss&&dt(zt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):dt(fr===$o,"Reading from a framebuffer is only allowed for the type 'uint8'"));var yr=0,nr=0,dr=jt.framebufferWidth,It=jt.framebufferHeight,Gt=null;c(ar)?Gt=ar:ar&&(dt.type(ar,"object","invalid arguments to regl.read()"),yr=ar.x|0,nr=ar.y|0,dt(yr>=0&&yr<jt.framebufferWidth,"invalid x offset for regl.read"),dt(nr>=0&&nr<jt.framebufferHeight,"invalid y offset for regl.read"),dr=(ar.width||jt.framebufferWidth-yr)|0,It=(ar.height||jt.framebufferHeight-nr)|0,Gt=ar.data||null),Gt&&(fr===$o?dt(Gt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):fr===ss&&dt(Gt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),dt(dr>0&&dr+yr<=jt.framebufferWidth,"invalid width for read pixels"),dt(It>0&&It+nr<=jt.framebufferHeight,"invalid height for read pixels"),Et();var ur=dr*It*4;return Gt||(fr===$o?Gt=new Uint8Array(ur):fr===ss&&(Gt=Gt||new Float32Array(ur))),dt.isTypedArray(Gt,"data buffer for regl.read() must be a typedarray"),dt(Gt.byteLength>=ur,"data buffer for regl.read() too small"),et.pixelStorei(oy,4),et.readPixels(yr,nr,dr,It,iy,fr,Gt),Gt}function or(ar){var fr;return lt.setFBO({framebuffer:ar.framebuffer},function(){fr=rr(ar)}),fr}function lr(ar){return!ar||!("framebuffer"in ar)?rr(ar):or(ar)}return lr}function Eo(et){return Array.prototype.slice.call(et)}function xo(et){return Eo(et).join("")}function sy(){var et=0,lt=[],Et=[];function jt(fr){for(var yr=0;yr<Et.length;++yr)if(Et[yr]===fr)return lt[yr];var nr="g"+et++;return lt.push(nr),Et.push(fr),nr}function Xt(){var fr=[];function yr(){fr.push.apply(fr,Eo(arguments))}var nr=[];function dr(){var It="v"+et++;return nr.push(It),arguments.length>0&&(fr.push(It,"="),fr.push.apply(fr,Eo(arguments)),fr.push(";")),It}return d(yr,{def:dr,toString:function(){return xo([nr.length>0?"var "+nr.join(",")+";":"",xo(fr)])}})}function Dt(){var fr=Xt(),yr=Xt(),nr=fr.toString,dr=yr.toString;function It(Gt,ur){yr(Gt,ur,"=",fr.def(Gt,ur),";")}return d(function(){fr.apply(fr,Eo(arguments))},{def:fr.def,entry:fr,exit:yr,save:It,set:function(Gt,ur,gr){It(Gt,ur),fr(Gt,ur,"=",gr,";")},toString:function(){return nr()+dr()}})}function zt(){var fr=xo(arguments),yr=Dt(),nr=Dt(),dr=yr.toString,It=nr.toString;return d(yr,{then:function(){return yr.apply(yr,Eo(arguments)),this},else:function(){return nr.apply(nr,Eo(arguments)),this},toString:function(){var Gt=It();return Gt&&(Gt="else{"+Gt+"}"),xo(["if(",fr,"){",dr(),"}",Gt])}})}var rr=Xt(),or={};function lr(fr,yr){var nr=[];function dr(){var Jt="a"+nr.length;return nr.push(Jt),Jt}yr=yr||0;for(var It=0;It<yr;++It)dr();var Gt=Dt(),ur=Gt.toString,gr=or[fr]=d(Gt,{arg:dr,toString:function(){return xo(["function(",nr.join(),"){",ur(),"}"])}});return gr}function ar(){var fr=['"use strict";',rr,"return {"];Object.keys(or).forEach(function(dr){fr.push('"',dr,'":',or[dr].toString(),",")}),fr.push("}");var yr=xo(fr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),nr=Function.apply(null,lt.concat(yr));return nr.apply(null,Et)}return{globalThis:rr,link:jt,block:Xt,proc:lr,scope:Dt,cond:zt,compile:ar}}var _o="xyzw".split(""),Zl=5121,So=1,Zs=2,Js=0,eu=1,tu=2,ru=3,us=4,Jl=5,_c=6,_f="dither",_d="blend.enable",_h="blend.color",nu="blend.equation",iu="blend.func",ep="depth.enable",tp="depth.func",rp="depth.range",np="depth.mask",ou="colorMask",ip="cull.enable",op="cull.face",au="frontFace",su="lineWidth",ap="polygonOffset.enable",uu="polygonOffset.offset",sp="sample.alpha",up="sample.enable",lu="sample.coverage",lp="stencil.enable",cp="stencil.mask",cu="stencil.func",fu="stencil.opFront",Mo="stencil.opBack",fp="scissor.enable",ls="scissor.box",Vn="viewport",Do="profile",oo="framebuffer",jo="vert",Uo="frag",ao="elements",so="primitive",uo="count",cs="offset",fs="instances",zo="vao",du="Width",hu="Height",To=oo+du,Co=oo+hu,uy=Vn+du,ly=Vn+hu,dp="drawingBuffer",hp=dp+du,pp=dp+hu,cy=[iu,nu,cu,fu,Mo,lu,Vn,ls,uu],Ao=34962,fy=34963,dy=35632,hy=35633,mp=3553,py=34067,my=2884,yy=3042,vy=3024,gy=2960,by=2929,wy=3089,Ey=32823,xy=32926,_y=32928,pu=5126,ds=35664,hs=35665,ps=35666,mu=5124,ms=35667,ys=35668,vs=35669,yu=35670,gs=35671,bs=35672,ws=35673,Go=35674,Ho=35675,qo=35676,Vo=35678,Wo=35680,yp=4,Qo=1028,lo=1029,vp=2304,vu=2305,Sy=32775,Ty=32776,Cy=519,Yn=7680,gp=0,bp=1,wp=32774,Ay=513,Ep=36160,ky=36064,Un={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},xp=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ko={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Zn={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},_p={frag:dy,vert:hy},gu={cw:vp,ccw:vu};function Es(et){return Array.isArray(et)||c(et)||Nn(et)}function Sp(et){return et.sort(function(lt,Et){return lt===Vn?-1:Et===Vn?1:lt<Et?-1:1})}function kn(et,lt,Et,jt){this.thisDep=et,this.contextDep=lt,this.propDep=Et,this.append=jt}function Jn(et){return et&&!(et.thisDep||et.contextDep||et.propDep)}function hn(et){return new kn(!1,!1,!1,et)}function Fn(et,lt){var Et=et.type;if(Et===Js){var jt=et.data.length;return new kn(!0,jt>=1,jt>=2,lt)}else if(Et===us){var Xt=et.data;return new kn(Xt.thisDep,Xt.contextDep,Xt.propDep,lt)}else{if(Et===Jl)return new kn(!1,!1,!1,lt);if(Et===_c){for(var Dt=!1,zt=!1,rr=!1,or=0;or<et.data.length;++or){var lr=et.data[or];if(lr.type===eu)rr=!0;else if(lr.type===tu)zt=!0;else if(lr.type===ru)Dt=!0;else if(lr.type===Js){Dt=!0;var ar=lr.data;ar>=1&&(zt=!0),ar>=2&&(rr=!0)}else lr.type===us&&(Dt=Dt||lr.data.thisDep,zt=zt||lr.data.contextDep,rr=rr||lr.data.propDep)}return new kn(Dt,zt,rr,lt)}else return new kn(Et===ru,Et===tu,Et===eu,lt)}}var Tp=new kn(!1,!1,!1,function(){});function Ry(et,lt,Et,jt,Xt,Dt,zt,rr,or,lr,ar,fr,yr,nr,dr){var It=lr.Record,Gt={add:32774,subtract:32778,"reverse subtract":32779};Et.ext_blend_minmax&&(Gt.min=Sy,Gt.max=Ty);var ur=Et.angle_instanced_arrays,gr=Et.webgl_draw_buffers,Jt={dirty:!0,profile:dr.profile},br={},tr=[],pr={},er={};function mr(ht){return ht.replace(".","_")}function Tr(ht,at,Ct){var Pt=mr(ht);tr.push(ht),br[Pt]=Jt[Pt]=!!Ct,pr[Pt]=at}function Pr(ht,at,Ct){var Pt=mr(ht);tr.push(ht),Array.isArray(Ct)?(Jt[Pt]=Ct.slice(),br[Pt]=Ct.slice()):Jt[Pt]=br[Pt]=Ct,er[Pt]=at}Tr(_f,vy),Tr(_d,yy),Pr(_h,"blendColor",[0,0,0,0]),Pr(nu,"blendEquationSeparate",[wp,wp]),Pr(iu,"blendFuncSeparate",[bp,gp,bp,gp]),Tr(ep,by,!0),Pr(tp,"depthFunc",Ay),Pr(rp,"depthRange",[0,1]),Pr(np,"depthMask",!0),Pr(ou,ou,[!0,!0,!0,!0]),Tr(ip,my),Pr(op,"cullFace",lo),Pr(au,au,vu),Pr(su,su,1),Tr(ap,Ey),Pr(uu,"polygonOffset",[0,0]),Tr(sp,xy),Tr(up,_y),Pr(lu,"sampleCoverage",[1,!1]),Tr(lp,gy),Pr(cp,"stencilMask",-1),Pr(cu,"stencilFunc",[Cy,0,-1]),Pr(fu,"stencilOpSeparate",[Qo,Yn,Yn,Yn]),Pr(Mo,"stencilOpSeparate",[lo,Yn,Yn,Yn]),Tr(fp,wy),Pr(ls,"scissor",[0,0,et.drawingBufferWidth,et.drawingBufferHeight]),Pr(Vn,Vn,[0,0,et.drawingBufferWidth,et.drawingBufferHeight]);var vr={gl:et,context:yr,strings:lt,next:br,current:Jt,draw:fr,elements:Dt,buffer:Xt,shader:ar,attributes:lr.state,vao:lr,uniforms:or,framebuffer:rr,extensions:Et,timer:nr,isBufferArgs:Es},cr={primTypes:ho,compareFuncs:ko,blendFuncs:Un,blendEquations:Gt,stencilOps:Zn,glTypes:eo,orientationType:gu};dt.optional(function(){vr.isArrayLike=ln}),gr&&(cr.backBuffer=[lo],cr.drawBuffer=Pn(jt.maxDrawbuffers,function(ht){return ht===0?[0]:Pn(ht,function(at){return ky+at})}));var Zt=0;function kr(){var ht=sy(),at=ht.link;ht.global,ht.id=Zt++,ht.batchId="0";var Ct=at(vr),Pt=ht.shared={props:"a0"};Object.keys(vr).forEach(function(ct){Pt[ct]=globalThis.def(Ct,".",ct)}),dt.optional(function(){ht.CHECK=at(dt),ht.commandStr=dt.guessCommand(),ht.command=at(ht.commandStr),ht.assert=function(ct,_t,pt){ct("if(!(",_t,"))",this.CHECK,".commandRaise(",at(pt),",",this.command,");")},cr.invalidBlendCombinations=xp});var Nt=ht.next={},At=ht.current={};Object.keys(er).forEach(function(ct){Array.isArray(Jt[ct])&&(Nt[ct]=globalThis.def(Pt.next,".",ct),At[ct]=globalThis.def(Pt.current,".",ct))});var Tt=ht.constants={};Object.keys(cr).forEach(function(ct){Tt[ct]=globalThis.def(JSON.stringify(cr[ct]))}),ht.invoke=function(ct,_t){switch(_t.type){case Js:var pt=["this",Pt.context,Pt.props,ht.batchId];return ct.def(at(_t.data),".call(",pt.slice(0,Math.max(_t.data.length+1,4)),")");case eu:return ct.def(Pt.props,_t.data);case tu:return ct.def(Pt.context,_t.data);case ru:return ct.def("this",_t.data);case us:return _t.data.append(ht,ct),_t.data.ref;case Jl:return _t.data.toString();case _c:return _t.data.map(function(Ft){return ht.invoke(ct,Ft)})}},ht.attribCache={};var Rt={};return ht.scopeAttrib=function(ct){var _t=lt.id(ct);if(_t in Rt)return Rt[_t];var pt=lr.scope[_t];pt||(pt=lr.scope[_t]=new It);var Ft=Rt[_t]=at(pt);return Ft},ht}function $r(ht){var at=ht.static,Ct=ht.dynamic,Pt;if(Do in at){var Nt=!!at[Do];Pt=hn(function(Tt,Rt){return Nt}),Pt.enable=Nt}else if(Do in Ct){var At=Ct[Do];Pt=Fn(At,function(Tt,Rt){return Tt.invoke(Rt,At)})}return Pt}function Er(ht,at){var Ct=ht.static,Pt=ht.dynamic;if(oo in Ct){var Nt=Ct[oo];return Nt?(Nt=rr.getFramebuffer(Nt),dt.command(Nt,"invalid framebuffer object"),hn(function(Tt,Rt){var ct=Tt.link(Nt),_t=Tt.shared;Rt.set(_t.framebuffer,".next",ct);var pt=_t.context;return Rt.set(pt,"."+To,ct+".width"),Rt.set(pt,"."+Co,ct+".height"),ct})):hn(function(Tt,Rt){var ct=Tt.shared;Rt.set(ct.framebuffer,".next","null");var _t=ct.context;return Rt.set(_t,"."+To,_t+"."+hp),Rt.set(_t,"."+Co,_t+"."+pp),"null"})}else if(oo in Pt){var At=Pt[oo];return Fn(At,function(Tt,Rt){var ct=Tt.invoke(Rt,At),_t=Tt.shared,pt=_t.framebuffer,Ft=Rt.def(pt,".getFramebuffer(",ct,")");dt.optional(function(){Tt.assert(Rt,"!"+ct+"||"+Ft,"invalid framebuffer object")}),Rt.set(pt,".next",Ft);var $t=_t.context;return Rt.set($t,"."+To,Ft+"?"+Ft+".width:"+$t+"."+hp),Rt.set($t,"."+Co,Ft+"?"+Ft+".height:"+$t+"."+pp),Ft})}else return null}function Ur(ht,at,Ct){var Pt=ht.static,Nt=ht.dynamic;function At(ct){if(ct in Pt){var _t=Pt[ct];dt.commandType(_t,"object","invalid "+ct,Ct.commandStr);var pt=!0,Ft=_t.x|0,$t=_t.y|0,Qt,Yt;return"width"in _t?(Qt=_t.width|0,dt.command(Qt>=0,"invalid "+ct,Ct.commandStr)):pt=!1,"height"in _t?(Yt=_t.height|0,dt.command(Yt>=0,"invalid "+ct,Ct.commandStr)):pt=!1,new kn(!pt&&at&&at.thisDep,!pt&&at&&at.contextDep,!pt&&at&&at.propDep,function(Sr,Dr){var xr=Sr.shared.context,Ar=Qt;"width"in _t||(Ar=Dr.def(xr,".",To,"-",Ft));var Or=Yt;return"height"in _t||(Or=Dr.def(xr,".",Co,"-",$t)),[Ft,$t,Ar,Or]})}else if(ct in Nt){var qt=Nt[ct],sr=Fn(qt,function(Sr,Dr){var xr=Sr.invoke(Dr,qt);dt.optional(function(){Sr.assert(Dr,xr+"&&typeof "+xr+'==="object"',"invalid "+ct)});var Ar=Sr.shared.context,Or=Dr.def(xr,".x|0"),Yr=Dr.def(xr,".y|0"),un=Dr.def('"width" in ',xr,"?",xr,".width|0:","(",Ar,".",To,"-",Or,")"),Rn=Dr.def('"height" in ',xr,"?",xr,".height|0:","(",Ar,".",Co,"-",Yr,")");return dt.optional(function(){Sr.assert(Dr,un+">=0&&"+Rn+">=0","invalid "+ct)}),[Or,Yr,un,Rn]});return at&&(sr.thisDep=sr.thisDep||at.thisDep,sr.contextDep=sr.contextDep||at.contextDep,sr.propDep=sr.propDep||at.propDep),sr}else return at?new kn(at.thisDep,at.contextDep,at.propDep,function(Sr,Dr){var xr=Sr.shared.context;return[0,0,Dr.def(xr,".",To),Dr.def(xr,".",Co)]}):null}var Tt=At(Vn);if(Tt){var Rt=Tt;Tt=new kn(Tt.thisDep,Tt.contextDep,Tt.propDep,function(ct,_t){var pt=Rt.append(ct,_t),Ft=ct.shared.context;return _t.set(Ft,"."+uy,pt[2]),_t.set(Ft,"."+ly,pt[3]),pt})}return{viewport:Tt,scissor_box:At(ls)}}function Fr(ht,at){var Ct=ht.static,Pt=typeof Ct[Uo]=="string"&&typeof Ct[jo]=="string";if(Pt){if(Object.keys(at.dynamic).length>0)return null;var Nt=at.static,At=Object.keys(Nt);if(At.length>0&&typeof Nt[At[0]]=="number"){for(var Tt=[],Rt=0;Rt<At.length;++Rt)dt(typeof Nt[At[Rt]]=="number","must specify all vertex attribute locations when using vaos"),Tt.push([Nt[At[Rt]]|0,At[Rt]]);return Tt}}return null}function jr(ht,at,Ct){var Pt=ht.static,Nt=ht.dynamic;function At(pt){if(pt in Pt){var Ft=lt.id(Pt[pt]);dt.optional(function(){ar.shader(_p[pt],Ft,dt.guessCommand())});var $t=hn(function(){return Ft});return $t.id=Ft,$t}else if(pt in Nt){var Qt=Nt[pt];return Fn(Qt,function(Yt,qt){var sr=Yt.invoke(qt,Qt),Sr=qt.def(Yt.shared.strings,".id(",sr,")");return dt.optional(function(){qt(Yt.shared.shader,".shader(",_p[pt],",",Sr,",",Yt.command,");")}),Sr})}return null}var Tt=At(Uo),Rt=At(jo),ct=null,_t;return Jn(Tt)&&Jn(Rt)?(ct=ar.program(Rt.id,Tt.id,null,Ct),_t=hn(function(pt,Ft){return pt.link(ct)})):_t=new kn(Tt&&Tt.thisDep||Rt&&Rt.thisDep,Tt&&Tt.contextDep||Rt&&Rt.contextDep,Tt&&Tt.propDep||Rt&&Rt.propDep,function(pt,Ft){var $t=pt.shared.shader,Qt;Tt?Qt=Tt.append(pt,Ft):Qt=Ft.def($t,".",Uo);var Yt;Rt?Yt=Rt.append(pt,Ft):Yt=Ft.def($t,".",jo);var qt=$t+".program("+Yt+","+Qt;return dt.optional(function(){qt+=","+pt.command}),Ft.def(qt+")")}),{frag:Tt,vert:Rt,progVar:_t,program:ct}}function Xr(ht,at){var Ct=ht.static,Pt=ht.dynamic;function Nt(){if(ao in Ct){var pt=Ct[ao];Es(pt)?pt=Dt.getElements(Dt.create(pt,!0)):pt&&(pt=Dt.getElements(pt),dt.command(pt,"invalid elements",at.commandStr));var Ft=hn(function(Qt,Yt){if(pt){var qt=Qt.link(pt);return Qt.ELEMENTS=qt,qt}return Qt.ELEMENTS=null,null});return Ft.value=pt,Ft}else if(ao in Pt){var $t=Pt[ao];return Fn($t,function(Qt,Yt){var qt=Qt.shared,sr=qt.isBufferArgs,Sr=qt.elements,Dr=Qt.invoke(Yt,$t),xr=Yt.def("null"),Ar=Yt.def(sr,"(",Dr,")"),Or=Qt.cond(Ar).then(xr,"=",Sr,".createStream(",Dr,");").else(xr,"=",Sr,".getElements(",Dr,");");return dt.optional(function(){Qt.assert(Or.else,"!"+Dr+"||"+xr,"invalid elements")}),Yt.entry(Or),Yt.exit(Qt.cond(Ar).then(Sr,".destroyStream(",xr,");")),Qt.ELEMENTS=xr,xr})}return null}var At=Nt();function Tt(){if(so in Ct){var pt=Ct[so];return dt.commandParameter(pt,ho,"invalid primitve",at.commandStr),hn(function($t,Qt){return ho[pt]})}else if(so in Pt){var Ft=Pt[so];return Fn(Ft,function($t,Qt){var Yt=$t.constants.primTypes,qt=$t.invoke(Qt,Ft);return dt.optional(function(){$t.assert(Qt,qt+" in "+Yt,"invalid primitive, must be one of "+Object.keys(ho))}),Qt.def(Yt,"[",qt,"]")})}else if(At)return Jn(At)?At.value?hn(function($t,Qt){return Qt.def($t.ELEMENTS,".primType")}):hn(function(){return yp}):new kn(At.thisDep,At.contextDep,At.propDep,function($t,Qt){var Yt=$t.ELEMENTS;return Qt.def(Yt,"?",Yt,".primType:",yp)});return null}function Rt(pt,Ft){if(pt in Ct){var $t=Ct[pt]|0;return dt.command(!Ft||$t>=0,"invalid "+pt,at.commandStr),hn(function(Yt,qt){return Ft&&(Yt.OFFSET=$t),$t})}else if(pt in Pt){var Qt=Pt[pt];return Fn(Qt,function(Yt,qt){var sr=Yt.invoke(qt,Qt);return Ft&&(Yt.OFFSET=sr,dt.optional(function(){Yt.assert(qt,sr+">=0","invalid "+pt)})),sr})}else if(Ft&&At)return hn(function(Yt,qt){return Yt.OFFSET="0",0});return null}var ct=Rt(cs,!0);function _t(){if(uo in Ct){var pt=Ct[uo]|0;return dt.command(typeof pt=="number"&&pt>=0,"invalid vertex count",at.commandStr),hn(function(){return pt})}else if(uo in Pt){var Ft=Pt[uo];return Fn(Ft,function(Yt,qt){var sr=Yt.invoke(qt,Ft);return dt.optional(function(){Yt.assert(qt,"typeof "+sr+'==="number"&&'+sr+">=0&&"+sr+"===("+sr+"|0)","invalid vertex count")}),sr})}else if(At)if(Jn(At)){if(At)return ct?new kn(ct.thisDep,ct.contextDep,ct.propDep,function(Yt,qt){var sr=qt.def(Yt.ELEMENTS,".vertCount-",Yt.OFFSET);return dt.optional(function(){Yt.assert(qt,sr+">=0","invalid vertex offset/element buffer too small")}),sr}):hn(function(Yt,qt){return qt.def(Yt.ELEMENTS,".vertCount")});var $t=hn(function(){return-1});return dt.optional(function(){$t.MISSING=!0}),$t}else{var Qt=new kn(At.thisDep||ct.thisDep,At.contextDep||ct.contextDep,At.propDep||ct.propDep,function(Yt,qt){var sr=Yt.ELEMENTS;return Yt.OFFSET?qt.def(sr,"?",sr,".vertCount-",Yt.OFFSET,":-1"):qt.def(sr,"?",sr,".vertCount:-1")});return dt.optional(function(){Qt.DYNAMIC=!0}),Qt}return null}return{elements:At,primitive:Tt(),count:_t(),instances:Rt(fs,!1),offset:ct}}function pn(ht,at){var Ct=ht.static,Pt=ht.dynamic,Nt={};return tr.forEach(function(At){var Tt=mr(At);function Rt(ct,_t){if(At in Ct){var pt=ct(Ct[At]);Nt[Tt]=hn(function(){return pt})}else if(At in Pt){var Ft=Pt[At];Nt[Tt]=Fn(Ft,function($t,Qt){return _t($t,Qt,$t.invoke(Qt,Ft))})}}switch(At){case ip:case _d:case _f:case lp:case ep:case fp:case ap:case sp:case up:case np:return Rt(function(ct){return dt.commandType(ct,"boolean",At,at.commandStr),ct},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,"typeof "+pt+'==="boolean"',"invalid flag "+At,ct.commandStr)}),pt});case tp:return Rt(function(ct){return dt.commandParameter(ct,ko,"invalid "+At,at.commandStr),ko[ct]},function(ct,_t,pt){var Ft=ct.constants.compareFuncs;return dt.optional(function(){ct.assert(_t,pt+" in "+Ft,"invalid "+At+", must be one of "+Object.keys(ko))}),_t.def(Ft,"[",pt,"]")});case rp:return Rt(function(ct){return dt.command(ln(ct)&&ct.length===2&&typeof ct[0]=="number"&&typeof ct[1]=="number"&&ct[0]<=ct[1],"depth range is 2d array",at.commandStr),ct},function(ct,_t,pt){dt.optional(function(){ct.assert(_t,ct.shared.isArrayLike+"("+pt+")&&"+pt+".length===2&&typeof "+pt+'[0]==="number"&&typeof '+pt+'[1]==="number"&&'+pt+"[0]<="+pt+"[1]","depth range must be a 2d array")});var Ft=_t.def("+",pt,"[0]"),$t=_t.def("+",pt,"[1]");return[Ft,$t]});case iu:return Rt(function(ct){dt.commandType(ct,"object","blend.func",at.commandStr);var _t="srcRGB"in ct?ct.srcRGB:ct.src,pt="srcAlpha"in ct?ct.srcAlpha:ct.src,Ft="dstRGB"in ct?ct.dstRGB:ct.dst,$t="dstAlpha"in ct?ct.dstAlpha:ct.dst;return dt.commandParameter(_t,Un,Tt+".srcRGB",at.commandStr),dt.commandParameter(pt,Un,Tt+".srcAlpha",at.commandStr),dt.commandParameter(Ft,Un,Tt+".dstRGB",at.commandStr),dt.commandParameter($t,Un,Tt+".dstAlpha",at.commandStr),dt.command(xp.indexOf(_t+", "+Ft)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+_t+", "+Ft+")",at.commandStr),[Un[_t],Un[Ft],Un[pt],Un[$t]]},function(ct,_t,pt){var Ft=ct.constants.blendFuncs;dt.optional(function(){ct.assert(_t,pt+"&&typeof "+pt+'==="object"',"invalid blend func, must be an object")});function $t(xr,Ar){var Or=_t.def('"',xr,Ar,'" in ',pt,"?",pt,".",xr,Ar,":",pt,".",xr);return dt.optional(function(){ct.assert(_t,Or+" in "+Ft,"invalid "+At+"."+xr+Ar+", must be one of "+Object.keys(Un))}),Or}var Qt=$t("src","RGB"),Yt=$t("dst","RGB");dt.optional(function(){var xr=ct.constants.invalidBlendCombinations;ct.assert(_t,xr+".indexOf("+Qt+'+", "+'+Yt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var qt=_t.def(Ft,"[",Qt,"]"),sr=_t.def(Ft,"[",$t("src","Alpha"),"]"),Sr=_t.def(Ft,"[",Yt,"]"),Dr=_t.def(Ft,"[",$t("dst","Alpha"),"]");return[qt,Sr,sr,Dr]});case nu:return Rt(function(ct){if(typeof ct=="string")return dt.commandParameter(ct,Gt,"invalid "+At,at.commandStr),[Gt[ct],Gt[ct]];if(typeof ct=="object")return dt.commandParameter(ct.rgb,Gt,At+".rgb",at.commandStr),dt.commandParameter(ct.alpha,Gt,At+".alpha",at.commandStr),[Gt[ct.rgb],Gt[ct.alpha]];dt.commandRaise("invalid blend.equation",at.commandStr)},function(ct,_t,pt){var Ft=ct.constants.blendEquations,$t=_t.def(),Qt=_t.def(),Yt=ct.cond("typeof ",pt,'==="string"');return dt.optional(function(){function qt(sr,Sr,Dr){ct.assert(sr,Dr+" in "+Ft,"invalid "+Sr+", must be one of "+Object.keys(Gt))}qt(Yt.then,At,pt),ct.assert(Yt.else,pt+"&&typeof "+pt+'==="object"',"invalid "+At),qt(Yt.else,At+".rgb",pt+".rgb"),qt(Yt.else,At+".alpha",pt+".alpha")}),Yt.then($t,"=",Qt,"=",Ft,"[",pt,"];"),Yt.else($t,"=",Ft,"[",pt,".rgb];",Qt,"=",Ft,"[",pt,".alpha];"),_t(Yt),[$t,Qt]});case _h:return Rt(function(ct){return dt.command(ln(ct)&&ct.length===4,"blend.color must be a 4d array",at.commandStr),Pn(4,function(_t){return+ct[_t]})},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,ct.shared.isArrayLike+"("+pt+")&&"+pt+".length===4","blend.color must be a 4d array")}),Pn(4,function(Ft){return _t.def("+",pt,"[",Ft,"]")})});case cp:return Rt(function(ct){return dt.commandType(ct,"number",Tt,at.commandStr),ct|0},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,"typeof "+pt+'==="number"',"invalid stencil.mask")}),_t.def(pt,"|0")});case cu:return Rt(function(ct){dt.commandType(ct,"object",Tt,at.commandStr);var _t=ct.cmp||"keep",pt=ct.ref||0,Ft="mask"in ct?ct.mask:-1;return dt.commandParameter(_t,ko,At+".cmp",at.commandStr),dt.commandType(pt,"number",At+".ref",at.commandStr),dt.commandType(Ft,"number",At+".mask",at.commandStr),[ko[_t],pt,Ft]},function(ct,_t,pt){var Ft=ct.constants.compareFuncs;dt.optional(function(){function qt(){ct.assert(_t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}qt(pt+"&&typeof ",pt,'==="object"'),qt('!("cmp" in ',pt,")||(",pt,".cmp in ",Ft,")")});var $t=_t.def('"cmp" in ',pt,"?",Ft,"[",pt,".cmp]",":",Yn),Qt=_t.def(pt,".ref|0"),Yt=_t.def('"mask" in ',pt,"?",pt,".mask|0:-1");return[$t,Qt,Yt]});case fu:case Mo:return Rt(function(ct){dt.commandType(ct,"object",Tt,at.commandStr);var _t=ct.fail||"keep",pt=ct.zfail||"keep",Ft=ct.zpass||"keep";return dt.commandParameter(_t,Zn,At+".fail",at.commandStr),dt.commandParameter(pt,Zn,At+".zfail",at.commandStr),dt.commandParameter(Ft,Zn,At+".zpass",at.commandStr),[At===Mo?lo:Qo,Zn[_t],Zn[pt],Zn[Ft]]},function(ct,_t,pt){var Ft=ct.constants.stencilOps;dt.optional(function(){ct.assert(_t,pt+"&&typeof "+pt+'==="object"',"invalid "+At)});function $t(Qt){return dt.optional(function(){ct.assert(_t,'!("'+Qt+'" in '+pt+")||("+pt+"."+Qt+" in "+Ft+")","invalid "+At+"."+Qt+", must be one of "+Object.keys(Zn))}),_t.def('"',Qt,'" in ',pt,"?",Ft,"[",pt,".",Qt,"]:",Yn)}return[At===Mo?lo:Qo,$t("fail"),$t("zfail"),$t("zpass")]});case uu:return Rt(function(ct){dt.commandType(ct,"object",Tt,at.commandStr);var _t=ct.factor|0,pt=ct.units|0;return dt.commandType(_t,"number",Tt+".factor",at.commandStr),dt.commandType(pt,"number",Tt+".units",at.commandStr),[_t,pt]},function(ct,_t,pt){dt.optional(function(){ct.assert(_t,pt+"&&typeof "+pt+'==="object"',"invalid "+At)});var Ft=_t.def(pt,".factor|0"),$t=_t.def(pt,".units|0");return[Ft,$t]});case op:return Rt(function(ct){var _t=0;return ct==="front"?_t=Qo:ct==="back"&&(_t=lo),dt.command(!!_t,Tt,at.commandStr),_t},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,pt+'==="front"||'+pt+'==="back"',"invalid cull.face")}),_t.def(pt,'==="front"?',Qo,":",lo)});case su:return Rt(function(ct){return dt.command(typeof ct=="number"&&ct>=jt.lineWidthDims[0]&&ct<=jt.lineWidthDims[1],"invalid line width, must be a positive number between "+jt.lineWidthDims[0]+" and "+jt.lineWidthDims[1],at.commandStr),ct},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,"typeof "+pt+'==="number"&&'+pt+">="+jt.lineWidthDims[0]+"&&"+pt+"<="+jt.lineWidthDims[1],"invalid line width")}),pt});case au:return Rt(function(ct){return dt.commandParameter(ct,gu,Tt,at.commandStr),gu[ct]},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,pt+'==="cw"||'+pt+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),_t.def(pt+'==="cw"?'+vp+":"+vu)});case ou:return Rt(function(ct){return dt.command(ln(ct)&&ct.length===4,"color.mask must be length 4 array",at.commandStr),ct.map(function(_t){return!!_t})},function(ct,_t,pt){return dt.optional(function(){ct.assert(_t,ct.shared.isArrayLike+"("+pt+")&&"+pt+".length===4","invalid color.mask")}),Pn(4,function(Ft){return"!!"+pt+"["+Ft+"]"})});case lu:return Rt(function(ct){dt.command(typeof ct=="object"&&ct,Tt,at.commandStr);var _t="value"in ct?ct.value:1,pt=!!ct.invert;return dt.command(typeof _t=="number"&&_t>=0&&_t<=1,"sample.coverage.value must be a number between 0 and 1",at.commandStr),[_t,pt]},function(ct,_t,pt){dt.optional(function(){ct.assert(_t,pt+"&&typeof "+pt+'==="object"',"invalid sample.coverage")});var Ft=_t.def('"value" in ',pt,"?+",pt,".value:1"),$t=_t.def("!!",pt,".invert");return[Ft,$t]})}}),Nt}function En(ht,at){var Ct=ht.static,Pt=ht.dynamic,Nt={};return Object.keys(Ct).forEach(function(At){var Tt=Ct[At],Rt;if(typeof Tt=="number"||typeof Tt=="boolean")Rt=hn(function(){return Tt});else if(typeof Tt=="function"){var ct=Tt._reglType;ct==="texture2d"||ct==="textureCube"?Rt=hn(function(_t){return _t.link(Tt)}):ct==="framebuffer"||ct==="framebufferCube"?(dt.command(Tt.color.length>0,'missing color attachment for framebuffer sent to uniform "'+At+'"',at.commandStr),Rt=hn(function(_t){return _t.link(Tt.color[0])})):dt.commandRaise('invalid data for uniform "'+At+'"',at.commandStr)}else ln(Tt)?Rt=hn(function(_t){var pt=_t.global.def("[",Pn(Tt.length,function(Ft){return dt.command(typeof Tt[Ft]=="number"||typeof Tt[Ft]=="boolean","invalid uniform "+At,_t.commandStr),Tt[Ft]}),"]");return pt}):dt.commandRaise('invalid or missing data for uniform "'+At+'"',at.commandStr);Rt.value=Tt,Nt[At]=Rt}),Object.keys(Pt).forEach(function(At){var Tt=Pt[At];Nt[At]=Fn(Tt,function(Rt,ct){return Rt.invoke(ct,Tt)})}),Nt}function Hr(ht,at){var Ct=ht.static,Pt=ht.dynamic,Nt={};return Object.keys(Ct).forEach(function(At){var Tt=Ct[At],Rt=lt.id(At),ct=new It;if(Es(Tt))ct.state=So,ct.buffer=Xt.getBuffer(Xt.create(Tt,Ao,!1,!0)),ct.type=0;else{var _t=Xt.getBuffer(Tt);if(_t)ct.state=So,ct.buffer=_t,ct.type=0;else if(dt.command(typeof Tt=="object"&&Tt,"invalid data for attribute "+At,at.commandStr),"constant"in Tt){var pt=Tt.constant;ct.buffer="null",ct.state=Zs,typeof pt=="number"?ct.x=pt:(dt.command(ln(pt)&&pt.length>0&&pt.length<=4,"invalid constant for attribute "+At,at.commandStr),_o.forEach(function(Sr,Dr){Dr<pt.length&&(ct[Sr]=pt[Dr])}))}else{Es(Tt.buffer)?_t=Xt.getBuffer(Xt.create(Tt.buffer,Ao,!1,!0)):_t=Xt.getBuffer(Tt.buffer),dt.command(!!_t,'missing buffer for attribute "'+At+'"',at.commandStr);var Ft=Tt.offset|0;dt.command(Ft>=0,'invalid offset for attribute "'+At+'"',at.commandStr);var $t=Tt.stride|0;dt.command($t>=0&&$t<256,'invalid stride for attribute "'+At+'", must be integer betweeen [0, 255]',at.commandStr);var Qt=Tt.size|0;dt.command(!("size"in Tt)||Qt>0&&Qt<=4,'invalid size for attribute "'+At+'", must be 1,2,3,4',at.commandStr);var Yt=!!Tt.normalized,qt=0;"type"in Tt&&(dt.commandParameter(Tt.type,eo,"invalid type for attribute "+At,at.commandStr),qt=eo[Tt.type]);var sr=Tt.divisor|0;"divisor"in Tt&&(dt.command(sr===0||ur,'cannot specify divisor for attribute "'+At+'", instancing not supported',at.commandStr),dt.command(sr>=0,'invalid divisor for attribute "'+At+'"',at.commandStr)),dt.optional(function(){var Sr=at.commandStr,Dr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Tt).forEach(function(xr){dt.command(Dr.indexOf(xr)>=0,'unknown parameter "'+xr+'" for attribute pointer "'+At+'" (valid parameters are '+Dr+")",Sr)})}),ct.buffer=_t,ct.state=So,ct.size=Qt,ct.normalized=Yt,ct.type=qt||_t.dtype,ct.offset=Ft,ct.stride=$t,ct.divisor=sr}}Nt[At]=hn(function(Sr,Dr){var xr=Sr.attribCache;if(Rt in xr)return xr[Rt];var Ar={isStream:!1};return Object.keys(ct).forEach(function(Or){Ar[Or]=ct[Or]}),ct.buffer&&(Ar.buffer=Sr.link(ct.buffer),Ar.type=Ar.type||Ar.buffer+".dtype"),xr[Rt]=Ar,Ar})}),Object.keys(Pt).forEach(function(At){var Tt=Pt[At];function Rt(ct,_t){var pt=ct.invoke(_t,Tt),Ft=ct.shared,$t=ct.constants,Qt=Ft.isBufferArgs,Yt=Ft.buffer;dt.optional(function(){ct.assert(_t,pt+"&&(typeof "+pt+'==="object"||typeof '+pt+'==="function")&&('+Qt+"("+pt+")||"+Yt+".getBuffer("+pt+")||"+Yt+".getBuffer("+pt+".buffer)||"+Qt+"("+pt+'.buffer)||("constant" in '+pt+"&&(typeof "+pt+'.constant==="number"||'+Ft.isArrayLike+"("+pt+".constant))))",'invalid dynamic attribute "'+At+'"')});var qt={isStream:_t.def(!1)},sr=new It;sr.state=So,Object.keys(sr).forEach(function(Ar){qt[Ar]=_t.def(""+sr[Ar])});var Sr=qt.buffer,Dr=qt.type;_t("if(",Qt,"(",pt,")){",qt.isStream,"=true;",Sr,"=",Yt,".createStream(",Ao,",",pt,");",Dr,"=",Sr,".dtype;","}else{",Sr,"=",Yt,".getBuffer(",pt,");","if(",Sr,"){",Dr,"=",Sr,".dtype;",'}else if("constant" in ',pt,"){",qt.state,"=",Zs,";","if(typeof "+pt+'.constant === "number"){',qt[_o[0]],"=",pt,".constant;",_o.slice(1).map(function(Ar){return qt[Ar]}).join("="),"=0;","}else{",_o.map(function(Ar,Or){return qt[Ar]+"="+pt+".constant.length>"+Or+"?"+pt+".constant["+Or+"]:0;"}).join(""),"}}else{","if(",Qt,"(",pt,".buffer)){",Sr,"=",Yt,".createStream(",Ao,",",pt,".buffer);","}else{",Sr,"=",Yt,".getBuffer(",pt,".buffer);","}",Dr,'="type" in ',pt,"?",$t.glTypes,"[",pt,".type]:",Sr,".dtype;",qt.normalized,"=!!",pt,".normalized;");function xr(Ar){_t(qt[Ar],"=",pt,".",Ar,"|0;")}return xr("size"),xr("offset"),xr("stride"),xr("divisor"),_t("}}"),_t.exit("if(",qt.isStream,"){",Yt,".destroyStream(",Sr,");","}"),qt}Nt[At]=Fn(Tt,Rt)}),Nt}function gn(ht,at){var Ct=ht.static,Pt=ht.dynamic;if(zo in Ct){var Nt=Ct[zo];return Nt!==null&&lr.getVAO(Nt)===null&&(Nt=lr.createVAO(Nt)),hn(function(Tt){return Tt.link(lr.getVAO(Nt))})}else if(zo in Pt){var At=Pt[zo];return Fn(At,function(Tt,Rt){var ct=Tt.invoke(Rt,At);return Rt.def(Tt.shared.vao+".getVAO("+ct+")")})}return null}function nn(ht){var at=ht.static,Ct=ht.dynamic,Pt={};return Object.keys(at).forEach(function(Nt){var At=at[Nt];Pt[Nt]=hn(function(Tt,Rt){return typeof At=="number"||typeof At=="boolean"?""+At:Tt.link(At)})}),Object.keys(Ct).forEach(function(Nt){var At=Ct[Nt];Pt[Nt]=Fn(At,function(Tt,Rt){return Tt.invoke(Rt,At)})}),Pt}function mn(ht,at,Ct,Pt,Nt){var At=ht.static,Tt=ht.dynamic;dt.optional(function(){var xr=[oo,jo,Uo,ao,so,cs,uo,fs,Do,zo].concat(tr);function Ar(Or){Object.keys(Or).forEach(function(Yr){dt.command(xr.indexOf(Yr)>=0,'unknown parameter "'+Yr+'"',Nt.commandStr)})}Ar(At),Ar(Tt)});var Rt=Fr(ht,at),ct=Er(ht),_t=Ur(ht,ct,Nt),pt=Xr(ht,Nt),Ft=pn(ht,Nt),$t=jr(ht,Nt,Rt);function Qt(xr){var Ar=_t[xr];Ar&&(Ft[xr]=Ar)}Qt(Vn),Qt(mr(ls));var Yt=Object.keys(Ft).length>0,qt={framebuffer:ct,draw:pt,shader:$t,state:Ft,dirty:Yt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(qt.profile=$r(ht),qt.uniforms=En(Ct,Nt),qt.drawVAO=qt.scopeVAO=gn(ht),!qt.drawVAO&&$t.program&&!Rt&&Et.angle_instanced_arrays){var sr=!0,Sr=$t.program.attributes.map(function(xr){var Ar=at.static[xr];return sr=sr&&!!Ar,Ar});if(sr&&Sr.length>0){var Dr=lr.getVAO(lr.createVAO(Sr));qt.drawVAO=new kn(null,null,null,function(xr,Ar){return xr.link(Dr)}),qt.useVAO=!0}}return Rt?qt.useVAO=!0:qt.attributes=Hr(at,Nt),qt.context=nn(Pt),qt}function bn(ht,at,Ct){var Pt=ht.shared,Nt=Pt.context,At=ht.scope();Object.keys(Ct).forEach(function(Tt){at.save(Nt,"."+Tt);var Rt=Ct[Tt],ct=Rt.append(ht,at);Array.isArray(ct)?At(Nt,".",Tt,"=[",ct.join(),"];"):At(Nt,".",Tt,"=",ct,";")}),at(At)}function wn(ht,at,Ct,Pt){var Nt=ht.shared,At=Nt.gl,Tt=Nt.framebuffer,Rt;gr&&(Rt=at.def(Nt.extensions,".webgl_draw_buffers"));var ct=ht.constants,_t=ct.drawBuffer,pt=ct.backBuffer,Ft;Ct?Ft=Ct.append(ht,at):Ft=at.def(Tt,".next"),Pt||at("if(",Ft,"!==",Tt,".cur){"),at("if(",Ft,"){",At,".bindFramebuffer(",Ep,",",Ft,".framebuffer);"),gr&&at(Rt,".drawBuffersWEBGL(",_t,"[",Ft,".colorAttachments.length]);"),at("}else{",At,".bindFramebuffer(",Ep,",null);"),gr&&at(Rt,".drawBuffersWEBGL(",pt,");"),at("}",Tt,".cur=",Ft,";"),Pt||at("}")}function _n(ht,at,Ct){var Pt=ht.shared,Nt=Pt.gl,At=ht.current,Tt=ht.next,Rt=Pt.current,ct=Pt.next,_t=ht.cond(Rt,".dirty");tr.forEach(function(pt){var Ft=mr(pt);if(!(Ft in Ct.state)){var $t,Qt;if(Ft in Tt){$t=Tt[Ft],Qt=At[Ft];var Yt=Pn(Jt[Ft].length,function(sr){return _t.def($t,"[",sr,"]")});_t(ht.cond(Yt.map(function(sr,Sr){return sr+"!=="+Qt+"["+Sr+"]"}).join("||")).then(Nt,".",er[Ft],"(",Yt,");",Yt.map(function(sr,Sr){return Qt+"["+Sr+"]="+sr}).join(";"),";"))}else{$t=_t.def(ct,".",Ft);var qt=ht.cond($t,"!==",Rt,".",Ft);_t(qt),Ft in pr?qt(ht.cond($t).then(Nt,".enable(",pr[Ft],");").else(Nt,".disable(",pr[Ft],");"),Rt,".",Ft,"=",$t,";"):qt(Nt,".",er[Ft],"(",$t,");",Rt,".",Ft,"=",$t,";")}}}),Object.keys(Ct.state).length===0&&_t(Rt,".dirty=false;"),at(_t)}function Tn(ht,at,Ct,Pt){var Nt=ht.shared,At=ht.current,Tt=Nt.current,Rt=Nt.gl;Sp(Object.keys(Ct)).forEach(function(ct){var _t=Ct[ct];if(!(Pt&&!Pt(_t))){var pt=_t.append(ht,at);if(pr[ct]){var Ft=pr[ct];Jn(_t)?pt?at(Rt,".enable(",Ft,");"):at(Rt,".disable(",Ft,");"):at(ht.cond(pt).then(Rt,".enable(",Ft,");").else(Rt,".disable(",Ft,");")),at(Tt,".",ct,"=",pt,";")}else if(ln(pt)){var $t=At[ct];at(Rt,".",er[ct],"(",pt,");",pt.map(function(Qt,Yt){return $t+"["+Yt+"]="+Qt}).join(";"),";")}else at(Rt,".",er[ct],"(",pt,");",Tt,".",ct,"=",pt,";")}})}function cn(ht,at){ur&&(ht.instancing=at.def(ht.shared.extensions,".angle_instanced_arrays"))}function Mr(ht,at,Ct,Pt,Nt){var At=ht.shared,Tt=ht.stats,Rt=At.current,ct=At.timer,_t=Ct.profile;function pt(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Ft,$t;function Qt(xr){Ft=at.def(),xr(Ft,"=",pt(),";"),typeof Nt=="string"?xr(Tt,".count+=",Nt,";"):xr(Tt,".count++;"),nr&&(Pt?($t=at.def(),xr($t,"=",ct,".getNumPendingQueries();")):xr(ct,".beginQuery(",Tt,");"))}function Yt(xr){xr(Tt,".cpuTime+=",pt(),"-",Ft,";"),nr&&(Pt?xr(ct,".pushScopeStats(",$t,",",ct,".getNumPendingQueries(),",Tt,");"):xr(ct,".endQuery();"))}function qt(xr){var Ar=at.def(Rt,".profile");at(Rt,".profile=",xr,";"),at.exit(Rt,".profile=",Ar,";")}var sr;if(_t){if(Jn(_t)){_t.enable?(Qt(at),Yt(at.exit),qt("true")):qt("false");return}sr=_t.append(ht,at),qt(sr)}else sr=at.def(Rt,".profile");var Sr=ht.block();Qt(Sr),at("if(",sr,"){",Sr,"}");var Dr=ht.block();Yt(Dr),at.exit("if(",sr,"){",Dr,"}")}function Cn(ht,at,Ct,Pt,Nt){var At=ht.shared;function Tt(ct){switch(ct){case ds:case ms:case gs:return 2;case hs:case ys:case bs:return 3;case ps:case vs:case ws:return 4;default:return 1}}function Rt(ct,_t,pt){var Ft=At.gl,$t=at.def(ct,".location"),Qt=at.def(At.attributes,"[",$t,"]"),Yt=pt.state,qt=pt.buffer,sr=[pt.x,pt.y,pt.z,pt.w],Sr=["buffer","normalized","offset","stride"];function Dr(){at("if(!",Qt,".buffer){",Ft,".enableVertexAttribArray(",$t,");}");var Ar=pt.type,Or;if(pt.size?Or=at.def(pt.size,"||",_t):Or=_t,at("if(",Qt,".type!==",Ar,"||",Qt,".size!==",Or,"||",Sr.map(function(un){return Qt+"."+un+"!=="+pt[un]}).join("||"),"){",Ft,".bindBuffer(",Ao,",",qt,".buffer);",Ft,".vertexAttribPointer(",[$t,Or,Ar,pt.normalized,pt.stride,pt.offset],");",Qt,".type=",Ar,";",Qt,".size=",Or,";",Sr.map(function(un){return Qt+"."+un+"="+pt[un]+";"}).join(""),"}"),ur){var Yr=pt.divisor;at("if(",Qt,".divisor!==",Yr,"){",ht.instancing,".vertexAttribDivisorANGLE(",[$t,Yr],");",Qt,".divisor=",Yr,";}")}}function xr(){at("if(",Qt,".buffer){",Ft,".disableVertexAttribArray(",$t,");",Qt,".buffer=null;","}if(",_o.map(function(Ar,Or){return Qt+"."+Ar+"!=="+sr[Or]}).join("||"),"){",Ft,".vertexAttrib4f(",$t,",",sr,");",_o.map(function(Ar,Or){return Qt+"."+Ar+"="+sr[Or]+";"}).join(""),"}")}Yt===So?Dr():Yt===Zs?xr():(at("if(",Yt,"===",So,"){"),Dr(),at("}else{"),xr(),at("}"))}Pt.forEach(function(ct){var _t=ct.name,pt=Ct.attributes[_t],Ft;if(pt){if(!Nt(pt))return;Ft=pt.append(ht,at)}else{if(!Nt(Tp))return;var $t=ht.scopeAttrib(_t);dt.optional(function(){ht.assert(at,$t+".state","missing attribute "+_t)}),Ft={},Object.keys(new It).forEach(function(Qt){Ft[Qt]=at.def($t,".",Qt)})}Rt(ht.link(ct),Tt(ct.info.type),Ft)})}function en(ht,at,Ct,Pt,Nt){for(var At=ht.shared,Tt=At.gl,Rt,ct=0;ct<Pt.length;++ct){var _t=Pt[ct],pt=_t.name,Ft=_t.info.type,$t=Ct.uniforms[pt],Qt=ht.link(_t),Yt=Qt+".location",qt;if($t){if(!Nt($t))continue;if(Jn($t)){var sr=$t.value;if(dt.command(sr!==null&&typeof sr<"u",'missing uniform "'+pt+'"',ht.commandStr),Ft===Vo||Ft===Wo){dt.command(typeof sr=="function"&&(Ft===Vo&&(sr._reglType==="texture2d"||sr._reglType==="framebuffer")||Ft===Wo&&(sr._reglType==="textureCube"||sr._reglType==="framebufferCube")),"invalid texture for uniform "+pt,ht.commandStr);var Sr=ht.link(sr._texture||sr.color[0]._texture);at(Tt,".uniform1i(",Yt,",",Sr+".bind());"),at.exit(Sr,".unbind();")}else if(Ft===Go||Ft===Ho||Ft===qo){dt.optional(function(){dt.command(ln(sr),"invalid matrix for uniform "+pt,ht.commandStr),dt.command(Ft===Go&&sr.length===4||Ft===Ho&&sr.length===9||Ft===qo&&sr.length===16,"invalid length for matrix uniform "+pt,ht.commandStr)});var Dr=ht.global.def("new Float32Array(["+Array.prototype.slice.call(sr)+"])"),xr=2;Ft===Ho?xr=3:Ft===qo&&(xr=4),at(Tt,".uniformMatrix",xr,"fv(",Yt,",false,",Dr,");")}else{switch(Ft){case pu:dt.commandType(sr,"number","uniform "+pt,ht.commandStr),Rt="1f";break;case ds:dt.command(ln(sr)&&sr.length===2,"uniform "+pt,ht.commandStr),Rt="2f";break;case hs:dt.command(ln(sr)&&sr.length===3,"uniform "+pt,ht.commandStr),Rt="3f";break;case ps:dt.command(ln(sr)&&sr.length===4,"uniform "+pt,ht.commandStr),Rt="4f";break;case yu:dt.commandType(sr,"boolean","uniform "+pt,ht.commandStr),Rt="1i";break;case mu:dt.commandType(sr,"number","uniform "+pt,ht.commandStr),Rt="1i";break;case gs:dt.command(ln(sr)&&sr.length===2,"uniform "+pt,ht.commandStr),Rt="2i";break;case ms:dt.command(ln(sr)&&sr.length===2,"uniform "+pt,ht.commandStr),Rt="2i";break;case bs:dt.command(ln(sr)&&sr.length===3,"uniform "+pt,ht.commandStr),Rt="3i";break;case ys:dt.command(ln(sr)&&sr.length===3,"uniform "+pt,ht.commandStr),Rt="3i";break;case ws:dt.command(ln(sr)&&sr.length===4,"uniform "+pt,ht.commandStr),Rt="4i";break;case vs:dt.command(ln(sr)&&sr.length===4,"uniform "+pt,ht.commandStr),Rt="4i";break}at(Tt,".uniform",Rt,"(",Yt,",",ln(sr)?Array.prototype.slice.call(sr):sr,");")}continue}else qt=$t.append(ht,at)}else{if(!Nt(Tp))continue;qt=at.def(At.uniforms,"[",lt.id(pt),"]")}Ft===Vo?(dt(!Array.isArray(qt),"must specify a scalar prop for textures"),at("if(",qt,"&&",qt,'._reglType==="framebuffer"){',qt,"=",qt,".color[0];","}")):Ft===Wo&&(dt(!Array.isArray(qt),"must specify a scalar prop for cube maps"),at("if(",qt,"&&",qt,'._reglType==="framebufferCube"){',qt,"=",qt,".color[0];","}")),dt.optional(function(){function Rn(Mn,Op){ht.assert(at,Mn,'bad data or missing for uniform "'+pt+'".  '+Op)}function bu(Mn){dt(!Array.isArray(qt),"must not specify an array type for uniform"),Rn("typeof "+qt+'==="'+Mn+'"',"invalid type, expected "+Mn)}function Bn(Mn,Op){Array.isArray(qt)?dt(qt.length===Mn,"must have length "+Mn):Rn(At.isArrayLike+"("+qt+")&&"+qt+".length==="+Mn,"invalid vector, should have length "+Mn,ht.commandStr)}function Fp(Mn){dt(!Array.isArray(qt),"must not specify a value type"),Rn("typeof "+qt+'==="function"&&'+qt+'._reglType==="texture'+(Mn===mp?"2d":"Cube")+'"',"invalid texture type",ht.commandStr)}switch(Ft){case mu:bu("number");break;case ms:Bn(2);break;case ys:Bn(3);break;case vs:Bn(4);break;case pu:bu("number");break;case ds:Bn(2);break;case hs:Bn(3);break;case ps:Bn(4);break;case yu:bu("boolean");break;case gs:Bn(2);break;case bs:Bn(3);break;case ws:Bn(4);break;case Go:Bn(4);break;case Ho:Bn(9);break;case qo:Bn(16);break;case Vo:Fp(mp);break;case Wo:Fp(py);break}});var Ar=1;switch(Ft){case Vo:case Wo:var Or=at.def(qt,"._texture");at(Tt,".uniform1i(",Yt,",",Or,".bind());"),at.exit(Or,".unbind();");continue;case mu:case yu:Rt="1i";break;case ms:case gs:Rt="2i",Ar=2;break;case ys:case bs:Rt="3i",Ar=3;break;case vs:case ws:Rt="4i",Ar=4;break;case pu:Rt="1f";break;case ds:Rt="2f",Ar=2;break;case hs:Rt="3f",Ar=3;break;case ps:Rt="4f",Ar=4;break;case Go:Rt="Matrix2fv";break;case Ho:Rt="Matrix3fv";break;case qo:Rt="Matrix4fv";break}if(at(Tt,".uniform",Rt,"(",Yt,","),Rt.charAt(0)==="M"){var Yr=Math.pow(Ft-Go+2,2),un=ht.global.def("new Float32Array(",Yr,")");Array.isArray(qt)?at("false,(",Pn(Yr,function(Rn){return un+"["+Rn+"]="+qt[Rn]}),",",un,")"):at("false,(Array.isArray(",qt,")||",qt," instanceof Float32Array)?",qt,":(",Pn(Yr,function(Rn){return un+"["+Rn+"]="+qt+"["+Rn+"]"}),",",un,")")}else Ar>1?at(Pn(Ar,function(Rn){return Array.isArray(qt)?qt[Rn]:qt+"["+Rn+"]"})):(dt(!Array.isArray(qt),"uniform value must not be an array"),at(qt));at(");")}}function Cr(ht,at,Ct,Pt){var Nt=ht.shared,At=Nt.gl,Tt=Nt.draw,Rt=Pt.draw;function ct(){var Or=Rt.elements,Yr,un=at;return Or?((Or.contextDep&&Pt.contextDynamic||Or.propDep)&&(un=Ct),Yr=Or.append(ht,un)):Yr=un.def(Tt,".",ao),Yr&&un("if("+Yr+")"+At+".bindBuffer("+fy+","+Yr+".buffer.buffer);"),Yr}function _t(){var Or=Rt.count,Yr,un=at;return Or?((Or.contextDep&&Pt.contextDynamic||Or.propDep)&&(un=Ct),Yr=Or.append(ht,un),dt.optional(function(){Or.MISSING&&ht.assert(at,"false","missing vertex count"),Or.DYNAMIC&&ht.assert(un,Yr+">=0","missing vertex count")})):(Yr=un.def(Tt,".",uo),dt.optional(function(){ht.assert(un,Yr+">=0","missing vertex count")})),Yr}var pt=ct();function Ft(Or){var Yr=Rt[Or];return Yr?Yr.contextDep&&Pt.contextDynamic||Yr.propDep?Yr.append(ht,Ct):Yr.append(ht,at):at.def(Tt,".",Or)}var $t=Ft(so),Qt=Ft(cs),Yt=_t();if(typeof Yt=="number"){if(Yt===0)return}else Ct("if(",Yt,"){"),Ct.exit("}");var qt,sr;ur&&(qt=Ft(fs),sr=ht.instancing);var Sr=pt+".type",Dr=Rt.elements&&Jn(Rt.elements);function xr(){function Or(){Ct(sr,".drawElementsInstancedANGLE(",[$t,Yt,Sr,Qt+"<<(("+Sr+"-"+Zl+")>>1)",qt],");")}function Yr(){Ct(sr,".drawArraysInstancedANGLE(",[$t,Qt,Yt,qt],");")}pt?Dr?Or():(Ct("if(",pt,"){"),Or(),Ct("}else{"),Yr(),Ct("}")):Yr()}function Ar(){function Or(){Ct(At+".drawElements("+[$t,Yt,Sr,Qt+"<<(("+Sr+"-"+Zl+")>>1)"]+");")}function Yr(){Ct(At+".drawArrays("+[$t,Qt,Yt]+");")}pt?Dr?Or():(Ct("if(",pt,"){"),Or(),Ct("}else{"),Yr(),Ct("}")):Yr()}ur&&(typeof qt!="number"||qt>=0)?typeof qt=="string"?(Ct("if(",qt,">0){"),xr(),Ct("}else if(",qt,"<0){"),Ar(),Ct("}")):xr():Ar()}function Gr(ht,at,Ct,Pt,Nt){var At=kr(),Tt=At.proc("body",Nt);return dt.optional(function(){At.commandStr=at.commandStr,At.command=At.link(at.commandStr)}),ur&&(At.instancing=Tt.def(At.shared.extensions,".angle_instanced_arrays")),ht(At,Tt,Ct,Pt),At.compile().body}function Kr(ht,at,Ct,Pt){cn(ht,at),Ct.useVAO?Ct.drawVAO?at(ht.shared.vao,".setVAO(",Ct.drawVAO.append(ht,at),");"):at(ht.shared.vao,".setVAO(",ht.shared.vao,".targetVAO);"):(at(ht.shared.vao,".setVAO(null);"),Cn(ht,at,Ct,Pt.attributes,function(){return!0})),en(ht,at,Ct,Pt.uniforms,function(){return!0}),Cr(ht,at,at,Ct)}function fn(ht,at){var Ct=ht.proc("draw",1);cn(ht,Ct),bn(ht,Ct,at.context),wn(ht,Ct,at.framebuffer),_n(ht,Ct,at),Tn(ht,Ct,at.state),Mr(ht,Ct,at,!1,!0);var Pt=at.shader.progVar.append(ht,Ct);if(Ct(ht.shared.gl,".useProgram(",Pt,".program);"),at.shader.program)Kr(ht,Ct,at,at.shader.program);else{Ct(ht.shared.vao,".setVAO(null);");var Nt=ht.global.def("{}"),At=Ct.def(Pt,".id"),Tt=Ct.def(Nt,"[",At,"]");Ct(ht.cond(Tt).then(Tt,".call(this,a0);").else(Tt,"=",Nt,"[",At,"]=",ht.link(function(Rt){return Gr(Kr,ht,at,Rt,1)}),"(",Pt,");",Tt,".call(this,a0);"))}Object.keys(at.state).length>0&&Ct(ht.shared.current,".dirty=true;")}function zn(ht,at,Ct,Pt){ht.batchId="a1",cn(ht,at);function Nt(){return!0}Cn(ht,at,Ct,Pt.attributes,Nt),en(ht,at,Ct,Pt.uniforms,Nt),Cr(ht,at,at,Ct)}function co(ht,at,Ct,Pt){cn(ht,at);var Nt=Ct.contextDep,At=at.def(),Tt="a0",Rt="a1",ct=at.def();ht.shared.props=ct,ht.batchId=At;var _t=ht.scope(),pt=ht.scope();at(_t.entry,"for(",At,"=0;",At,"<",Rt,";++",At,"){",ct,"=",Tt,"[",At,"];",pt,"}",_t.exit);function Ft(Sr){return Sr.contextDep&&Nt||Sr.propDep}function $t(Sr){return!Ft(Sr)}if(Ct.needsContext&&bn(ht,pt,Ct.context),Ct.needsFramebuffer&&wn(ht,pt,Ct.framebuffer),Tn(ht,pt,Ct.state,Ft),Ct.profile&&Ft(Ct.profile)&&Mr(ht,pt,Ct,!1,!0),Pt)Ct.useVAO?Ct.drawVAO?Ft(Ct.drawVAO)?pt(ht.shared.vao,".setVAO(",Ct.drawVAO.append(ht,pt),");"):_t(ht.shared.vao,".setVAO(",Ct.drawVAO.append(ht,_t),");"):_t(ht.shared.vao,".setVAO(",ht.shared.vao,".targetVAO);"):(_t(ht.shared.vao,".setVAO(null);"),Cn(ht,_t,Ct,Pt.attributes,$t),Cn(ht,pt,Ct,Pt.attributes,Ft)),en(ht,_t,Ct,Pt.uniforms,$t),en(ht,pt,Ct,Pt.uniforms,Ft),Cr(ht,_t,pt,Ct);else{var Qt=ht.global.def("{}"),Yt=Ct.shader.progVar.append(ht,pt),qt=pt.def(Yt,".id"),sr=pt.def(Qt,"[",qt,"]");pt(ht.shared.gl,".useProgram(",Yt,".program);","if(!",sr,"){",sr,"=",Qt,"[",qt,"]=",ht.link(function(Sr){return Gr(zn,ht,Ct,Sr,2)}),"(",Yt,");}",sr,".call(this,a0[",At,"],",At,");")}}function vt(ht,at){var Ct=ht.proc("batch",2);ht.batchId="0",cn(ht,Ct);var Pt=!1,Nt=!0;Object.keys(at.context).forEach(function(Qt){Pt=Pt||at.context[Qt].propDep}),Pt||(bn(ht,Ct,at.context),Nt=!1);var At=at.framebuffer,Tt=!1;At?(At.propDep?Pt=Tt=!0:At.contextDep&&Pt&&(Tt=!0),Tt||wn(ht,Ct,At)):wn(ht,Ct,null),at.state.viewport&&at.state.viewport.propDep&&(Pt=!0);function Rt(Qt){return Qt.contextDep&&Pt||Qt.propDep}_n(ht,Ct,at),Tn(ht,Ct,at.state,function(Qt){return!Rt(Qt)}),(!at.profile||!Rt(at.profile))&&Mr(ht,Ct,at,!1,"a1"),at.contextDep=Pt,at.needsContext=Nt,at.needsFramebuffer=Tt;var ct=at.shader.progVar;if(ct.contextDep&&Pt||ct.propDep)co(ht,Ct,at,null);else{var _t=ct.append(ht,Ct);if(Ct(ht.shared.gl,".useProgram(",_t,".program);"),at.shader.program)co(ht,Ct,at,at.shader.program);else{Ct(ht.shared.vao,".setVAO(null);");var pt=ht.global.def("{}"),Ft=Ct.def(_t,".id"),$t=Ct.def(pt,"[",Ft,"]");Ct(ht.cond($t).then($t,".call(this,a0,a1);").else($t,"=",pt,"[",Ft,"]=",ht.link(function(Qt){return Gr(co,ht,at,Qt,2)}),"(",_t,");",$t,".call(this,a0,a1);"))}}Object.keys(at.state).length>0&&Ct(ht.shared.current,".dirty=true;")}function Ut(ht,at){var Ct=ht.proc("scope",3);ht.batchId="a2";var Pt=ht.shared,Nt=Pt.current;bn(ht,Ct,at.context),at.framebuffer&&at.framebuffer.append(ht,Ct),Sp(Object.keys(at.state)).forEach(function(Tt){var Rt=at.state[Tt],ct=Rt.append(ht,Ct);ln(ct)?ct.forEach(function(_t,pt){Ct.set(ht.next[Tt],"["+pt+"]",_t)}):Ct.set(Pt.next,"."+Tt,ct)}),Mr(ht,Ct,at,!0,!0),[ao,cs,uo,fs,so].forEach(function(Tt){var Rt=at.draw[Tt];Rt&&Ct.set(Pt.draw,"."+Tt,""+Rt.append(ht,Ct))}),Object.keys(at.uniforms).forEach(function(Tt){var Rt=at.uniforms[Tt].append(ht,Ct);Array.isArray(Rt)&&(Rt="["+Rt.join()+"]"),Ct.set(Pt.uniforms,"["+lt.id(Tt)+"]",Rt)}),Object.keys(at.attributes).forEach(function(Tt){var Rt=at.attributes[Tt].append(ht,Ct),ct=ht.scopeAttrib(Tt);Object.keys(new It).forEach(function(_t){Ct.set(ct,"."+_t,Rt[_t])})}),at.scopeVAO&&Ct.set(Pt.vao,".targetVAO",at.scopeVAO.append(ht,Ct));function At(Tt){var Rt=at.shader[Tt];Rt&&Ct.set(Pt.shader,"."+Tt,Rt.append(ht,Ct))}At(jo),At(Uo),Object.keys(at.state).length>0&&(Ct(Nt,".dirty=true;"),Ct.exit(Nt,".dirty=true;")),Ct("a1(",ht.shared.context,",a0,",ht.batchId,");")}function Mt(ht){if(!(typeof ht!="object"||ln(ht))){for(var at=Object.keys(ht),Ct=0;Ct<at.length;++Ct)if(Jr.isDynamic(ht[at[Ct]]))return!0;return!1}}function wr(ht,at,Ct){var Pt=at.static[Ct];if(!Pt||!Mt(Pt))return;var Nt=ht.global,At=Object.keys(Pt),Tt=!1,Rt=!1,ct=!1,_t=ht.global.def("{}");At.forEach(function(Ft){var $t=Pt[Ft];if(Jr.isDynamic($t)){typeof $t=="function"&&($t=Pt[Ft]=Jr.unbox($t));var Qt=Fn($t,null);Tt=Tt||Qt.thisDep,ct=ct||Qt.propDep,Rt=Rt||Qt.contextDep}else{switch(Nt(_t,".",Ft,"="),typeof $t){case"number":Nt($t);break;case"string":Nt('"',$t,'"');break;case"object":Array.isArray($t)&&Nt("[",$t.join(),"]");break;default:Nt(ht.link($t));break}Nt(";")}});function pt(Ft,$t){At.forEach(function(Qt){var Yt=Pt[Qt];if(Jr.isDynamic(Yt)){var qt=Ft.invoke($t,Yt);$t(_t,".",Qt,"=",qt,";")}})}at.dynamic[Ct]=new Jr.DynamicVariable(us,{thisDep:Tt,contextDep:Rt,propDep:ct,ref:_t,append:pt}),delete at.static[Ct]}function zr(ht,at,Ct,Pt,Nt){var At=kr();At.stats=At.link(Nt),Object.keys(at.static).forEach(function(Rt){wr(At,at,Rt)}),cy.forEach(function(Rt){wr(At,ht,Rt)});var Tt=mn(ht,at,Ct,Pt,At);return fn(At,Tt),Ut(At,Tt),vt(At,Tt),d(At.compile(),{destroy:function(){Tt.shader.program.destroy()}})}return{next:br,current:Jt,procs:function(){var ht=kr(),at=ht.proc("poll"),Ct=ht.proc("refresh"),Pt=ht.block();at(Pt),Ct(Pt);var Nt=ht.shared,At=Nt.gl,Tt=Nt.next,Rt=Nt.current;Pt(Rt,".dirty=false;"),wn(ht,at),wn(ht,Ct,null,!0);var ct;ur&&(ct=ht.link(ur)),Et.oes_vertex_array_object&&Ct(ht.link(Et.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var _t=0;_t<jt.maxAttributes;++_t){var pt=Ct.def(Nt.attributes,"[",_t,"]"),Ft=ht.cond(pt,".buffer");Ft.then(At,".enableVertexAttribArray(",_t,");",At,".bindBuffer(",Ao,",",pt,".buffer.buffer);",At,".vertexAttribPointer(",_t,",",pt,".size,",pt,".type,",pt,".normalized,",pt,".stride,",pt,".offset);").else(At,".disableVertexAttribArray(",_t,");",At,".vertexAttrib4f(",_t,",",pt,".x,",pt,".y,",pt,".z,",pt,".w);",pt,".buffer=null;"),Ct(Ft),ur&&Ct(ct,".vertexAttribDivisorANGLE(",_t,",",pt,".divisor);")}return Ct(ht.shared.vao,".currentVAO=null;",ht.shared.vao,".setVAO(",ht.shared.vao,".targetVAO);"),Object.keys(pr).forEach(function($t){var Qt=pr[$t],Yt=Pt.def(Tt,".",$t),qt=ht.block();qt("if(",Yt,"){",At,".enable(",Qt,")}else{",At,".disable(",Qt,")}",Rt,".",$t,"=",Yt,";"),Ct(qt),at("if(",Yt,"!==",Rt,".",$t,"){",qt,"}")}),Object.keys(er).forEach(function($t){var Qt=er[$t],Yt=Jt[$t],qt,sr,Sr=ht.block();if(Sr(At,".",Qt,"("),ln(Yt)){var Dr=Yt.length;qt=ht.global.def(Tt,".",$t),sr=ht.global.def(Rt,".",$t),Sr(Pn(Dr,function(xr){return qt+"["+xr+"]"}),");",Pn(Dr,function(xr){return sr+"["+xr+"]="+qt+"["+xr+"];"}).join("")),at("if(",Pn(Dr,function(xr){return qt+"["+xr+"]!=="+sr+"["+xr+"]"}).join("||"),"){",Sr,"}")}else qt=Pt.def(Tt,".",$t),sr=Pt.def(Rt,".",$t),Sr(qt,");",Rt,".",$t,"=",qt,";"),at("if(",qt,"!==",sr,"){",Sr,"}");Ct(Sr)}),ht.compile()}(),compile:zr}}function Py(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Fy=34918,Oy=34919,Cp=35007,Ly=function(et,lt){if(!lt.ext_disjoint_timer_query)return null;var Et=[];function jt(){return Et.pop()||lt.ext_disjoint_timer_query.createQueryEXT()}function Xt(ur){Et.push(ur)}var Dt=[];function zt(ur){var gr=jt();lt.ext_disjoint_timer_query.beginQueryEXT(Cp,gr),Dt.push(gr),nr(Dt.length-1,Dt.length,ur)}function rr(){lt.ext_disjoint_timer_query.endQueryEXT(Cp)}function or(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var lr=[];function ar(){return lr.pop()||new or}function fr(ur){lr.push(ur)}var yr=[];function nr(ur,gr,Jt){var br=ar();br.startQueryIndex=ur,br.endQueryIndex=gr,br.sum=0,br.stats=Jt,yr.push(br)}var dr=[],It=[];function Gt(){var ur,gr,Jt=Dt.length;if(Jt!==0){It.length=Math.max(It.length,Jt+1),dr.length=Math.max(dr.length,Jt+1),dr[0]=0,It[0]=0;var br=0;for(ur=0,gr=0;gr<Dt.length;++gr){var tr=Dt[gr];lt.ext_disjoint_timer_query.getQueryObjectEXT(tr,Oy)?(br+=lt.ext_disjoint_timer_query.getQueryObjectEXT(tr,Fy),Xt(tr)):Dt[ur++]=tr,dr[gr+1]=br,It[gr+1]=ur}for(Dt.length=ur,ur=0,gr=0;gr<yr.length;++gr){var pr=yr[gr],er=pr.startQueryIndex,mr=pr.endQueryIndex;pr.sum+=dr[mr]-dr[er];var Tr=It[er],Pr=It[mr];Pr===Tr?(pr.stats.gpuTime+=pr.sum/1e6,fr(pr)):(pr.startQueryIndex=Tr,pr.endQueryIndex=Pr,yr[ur++]=pr)}yr.length=ur}}return{beginQuery:zt,endQuery:rr,pushScopeStats:nr,update:Gt,getNumPendingQueries:function(){return Dt.length},clear:function(){Et.push.apply(Et,Dt);for(var ur=0;ur<Et.length;ur++)lt.ext_disjoint_timer_query.deleteQueryEXT(Et[ur]);Dt.length=0,Et.length=0},restore:function(){Dt.length=0,Et.length=0}}},Iy=16384,By=256,Ny=1024,$y=34962,Ap="webglcontextlost",kp="webglcontextrestored",Rp=1,My=2,Dy=3;function Pp(et,lt){for(var Et=0;Et<et.length;++Et)if(et[Et]===lt)return Et;return-1}function jy(et){var lt=$p(et);if(!lt)return null;var Et=lt.gl,jt=Et.getContextAttributes(),Xt=Et.isContextLost(),Dt=Mp(Et,lt);if(!Dt)return null;var zt=tn(),rr=Py(),or=Dt.extensions,lr=Ly(Et,or),ar=sn(),fr=Et.drawingBufferWidth,yr=Et.drawingBufferHeight,nr={tick:0,time:0,viewportWidth:fr,viewportHeight:yr,framebufferWidth:fr,framebufferHeight:yr,drawingBufferWidth:fr,drawingBufferHeight:yr,pixelRatio:lt.pixelRatio},dr={},It={elements:null,primitive:4,count:-1,offset:0,instances:-1},Gt=Tm(Et,or),ur=Um(Et,rr,lt,Jt),gr=J0(Et,or,Gt,rr,ur);function Jt(Cr){return gr.destroyBuffer(Cr)}var br=Jm(Et,or,ur,rr),tr=ny(Et,zt,rr,lt),pr=P0(Et,or,Gt,function(){Tr.procs.poll()},nr,rr,lt),er=F0(Et,or,Gt,rr,lt),mr=Y0(Et,or,Gt,pr,er,rr),Tr=Ry(Et,zt,or,Gt,ur,br,pr,mr,dr,gr,tr,It,nr,lr,lt),Pr=ay(Et,mr,Tr.procs.poll,nr,jt,or,Gt),vr=Tr.next,cr=Et.canvas,Zt=[],kr=[],$r=[],Er=[lt.onDestroy],Ur=null;function Fr(){if(Zt.length===0){lr&&lr.update(),Ur=null;return}Ur=rn.next(Fr),Tn();for(var Cr=Zt.length-1;Cr>=0;--Cr){var Gr=Zt[Cr];Gr&&Gr(nr,null,0)}Et.flush(),lr&&lr.update()}function jr(){!Ur&&Zt.length>0&&(Ur=rn.next(Fr))}function Xr(){Ur&&(rn.cancel(Fr),Ur=null)}function pn(Cr){Cr.preventDefault(),Xt=!0,Xr(),kr.forEach(function(Gr){Gr()})}function En(Cr){Et.getError(),Xt=!1,Dt.restore(),tr.restore(),ur.restore(),pr.restore(),er.restore(),mr.restore(),gr.restore(),lr&&lr.restore(),Tr.procs.refresh(),jr(),$r.forEach(function(Gr){Gr()})}cr&&(cr.addEventListener(Ap,pn,!1),cr.addEventListener(kp,En,!1));function Hr(){Zt.length=0,Xr(),cr&&(cr.removeEventListener(Ap,pn),cr.removeEventListener(kp,En)),tr.clear(),mr.clear(),er.clear(),pr.clear(),br.clear(),ur.clear(),gr.clear(),lr&&lr.clear(),Er.forEach(function(Cr){Cr()})}function gn(Cr){dt(!!Cr,"invalid args to regl({...})"),dt.type(Cr,"object","invalid args to regl({...})");function Gr(Nt){var At=d({},Nt);delete At.uniforms,delete At.attributes,delete At.context,delete At.vao,"stencil"in At&&At.stencil.op&&(At.stencil.opBack=At.stencil.opFront=At.stencil.op,delete At.stencil.op);function Tt(Rt){if(Rt in At){var ct=At[Rt];delete At[Rt],Object.keys(ct).forEach(function(_t){At[Rt+"."+_t]=ct[_t]})}}return Tt("blend"),Tt("depth"),Tt("cull"),Tt("stencil"),Tt("polygonOffset"),Tt("scissor"),Tt("sample"),"vao"in Nt&&(At.vao=Nt.vao),At}function Kr(Nt,At){var Tt={},Rt={};return Object.keys(Nt).forEach(function(ct){var _t=Nt[ct];if(Jr.isDynamic(_t)){Rt[ct]=Jr.unbox(_t,ct);return}else if(At&&Array.isArray(_t)){for(var pt=0;pt<_t.length;++pt)if(Jr.isDynamic(_t[pt])){Rt[ct]=Jr.unbox(_t,ct);return}}Tt[ct]=_t}),{dynamic:Rt,static:Tt}}var fn=Kr(Cr.context||{},!0),zn=Kr(Cr.uniforms||{},!0),co=Kr(Cr.attributes||{},!1),vt=Kr(Gr(Cr),!1),Ut={gpuTime:0,cpuTime:0,count:0},Mt=Tr.compile(vt,co,zn,fn,Ut),wr=Mt.draw,zr=Mt.batch,ht=Mt.scope,at=[];function Ct(Nt){for(;at.length<Nt;)at.push(null);return at}function Pt(Nt,At){var Tt;if(Xt&&dt.raise("context lost"),typeof Nt=="function")return ht.call(this,null,Nt,0);if(typeof At=="function")if(typeof Nt=="number")for(Tt=0;Tt<Nt;++Tt)ht.call(this,null,At,Tt);else if(Array.isArray(Nt))for(Tt=0;Tt<Nt.length;++Tt)ht.call(this,Nt[Tt],At,Tt);else return ht.call(this,Nt,At,0);else if(typeof Nt=="number"){if(Nt>0)return zr.call(this,Ct(Nt|0),Nt|0)}else if(Array.isArray(Nt)){if(Nt.length)return zr.call(this,Nt,Nt.length)}else return wr.call(this,Nt)}return d(Pt,{stats:Ut,destroy:function(){Mt.destroy()}})}var nn=mr.setFBO=gn({framebuffer:Jr.define.call(null,Rp,"framebuffer")});function mn(Cr,Gr){var Kr=0;Tr.procs.poll();var fn=Gr.color;fn&&(Et.clearColor(+fn[0]||0,+fn[1]||0,+fn[2]||0,+fn[3]||0),Kr|=Iy),"depth"in Gr&&(Et.clearDepth(+Gr.depth),Kr|=By),"stencil"in Gr&&(Et.clearStencil(Gr.stencil|0),Kr|=Ny),dt(!!Kr,"called regl.clear with no buffer specified"),Et.clear(Kr)}function bn(Cr){if(dt(typeof Cr=="object"&&Cr,"regl.clear() takes an object as input"),"framebuffer"in Cr)if(Cr.framebuffer&&Cr.framebuffer_reglType==="framebufferCube")for(var Gr=0;Gr<6;++Gr)nn(d({framebuffer:Cr.framebuffer.faces[Gr]},Cr),mn);else nn(Cr,mn);else mn(null,Cr)}function wn(Cr){dt.type(Cr,"function","regl.frame() callback must be a function"),Zt.push(Cr);function Gr(){var Kr=Pp(Zt,Cr);dt(Kr>=0,"cannot cancel a frame twice");function fn(){var zn=Pp(Zt,fn);Zt[zn]=Zt[Zt.length-1],Zt.length-=1,Zt.length<=0&&Xr()}Zt[Kr]=fn}return jr(),{cancel:Gr}}function _n(){var Cr=vr.viewport,Gr=vr.scissor_box;Cr[0]=Cr[1]=Gr[0]=Gr[1]=0,nr.viewportWidth=nr.framebufferWidth=nr.drawingBufferWidth=Cr[2]=Gr[2]=Et.drawingBufferWidth,nr.viewportHeight=nr.framebufferHeight=nr.drawingBufferHeight=Cr[3]=Gr[3]=Et.drawingBufferHeight}function Tn(){nr.tick+=1,nr.time=Mr(),_n(),Tr.procs.poll()}function cn(){pr.refresh(),_n(),Tr.procs.refresh(),lr&&lr.update()}function Mr(){return(sn()-ar)/1e3}cn();function Cn(Cr,Gr){dt.type(Gr,"function","listener callback must be a function");var Kr;switch(Cr){case"frame":return wn(Gr);case"lost":Kr=kr;break;case"restore":Kr=$r;break;case"destroy":Kr=Er;break;default:dt.raise("invalid event, must be one of frame,lost,restore,destroy")}return Kr.push(Gr),{cancel:function(){for(var fn=0;fn<Kr.length;++fn)if(Kr[fn]===Gr){Kr[fn]=Kr[Kr.length-1],Kr.pop();return}}}}var en=d(gn,{clear:bn,prop:Jr.define.bind(null,Rp),context:Jr.define.bind(null,My),this:Jr.define.bind(null,Dy),draw:gn({}),buffer:function(Cr){return ur.create(Cr,$y,!1,!1)},elements:function(Cr){return br.create(Cr,!1)},texture:pr.create2D,cube:pr.createCube,renderbuffer:er.create,framebuffer:mr.create,framebufferCube:mr.createCube,vao:gr.createVAO,attributes:jt,frame:wn,on:Cn,limits:Gt,hasExtension:function(Cr){return Gt.extensions.indexOf(Cr.toLowerCase())>=0},read:Pr,destroy:Hr,_gl:Et,_refresh:cn,poll:function(){Tn(),lr&&lr.update()},now:Mr,stats:rr});return lt.onDone(null,en),en}return jy})})(regl$1);var reglExports=regl$1.exports;const regl=getDefaultExportFromCjs(reglExports),Mouse=mouseListen();class HydraRenderer{constructor({pb:s=null,width:c=1280,height:d=720,numSources:g=4,numOutputs:b=4,makeGlobal:_=!0,autoLoop:$=!0,detectAudio:j=!0,enableStreamCapture:tt=!0,canvas:nt,precision:it,extendTransforms:ot={}}={}){if(ArrayUtils.init(),this.pb=s,this.width=c,this.height=d,this.renderAll=!1,this.detectAudio=j,this._initCanvas(nt),globalThis.window.test="hi",this.synth={time:0,bpm:30,width:this.width,height:this.height,fps:void 0,stats:{fps:0},speed:1,mouse:Mouse,render:this._render.bind(this),setResolution:this.setResolution.bind(this),update:yt=>{},hush:this.hush.bind(this),tick:this.tick.bind(this)},_&&(window.loadScript=this.loadScript),this.timeSinceLastUpdate=0,this._time=0,it&&["lowp","mediump","highp"].includes(it.toLowerCase()))this.precision=it.toLowerCase();else{let yt=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;this.precision=yt?"highp":"mediump"}if(this.extendTransforms=ot,this.saveFrame=!1,this.captureStream=null,this.generator=void 0,this._initRegl(),this._initOutputs(b),this._initSources(g),this._generateGlslTransforms(),this.synth.screencap=()=>{this.saveFrame=!0},tt)try{this.captureStream=this.canvas.captureStream(25),this.synth.vidRecorder=new VideoRecorder(this.captureStream)}catch(yt){console.warn(`[hydra-synth warning]
new MediaSource() is not currently supported on iOS.`),console.error(yt)}j&&this._initAudio(),$&&loop(this.tick.bind(this)).start(),this.sandbox=new EvalSandbox(this.synth,_,["speed","update","bpm","fps"])}eval(s){this.sandbox.eval(s)}getScreenImage(s){this.imageCallback=s,this.saveFrame=!0}hush(){this.s.forEach(s=>{s.clear()}),this.o.forEach(s=>{this.synth.solid(0,0,0,0).out(s)}),this.synth.render(this.o[0]),this.sandbox.set("update",s=>{})}loadScript(s=""){return new Promise((d,g)=>{var b=document.createElement("script");b.onload=function(){console.log(`loaded script ${s}`),d()},b.onerror=_=>{console.log(`error loading script ${s}`,"log-error"),d()},b.src=s,document.head.appendChild(b)})}setResolution(s,c){this.canvas.width=s,this.canvas.height=c,this.width=s,this.height=c,this.sandbox.set("width",s),this.sandbox.set("height",c),console.log(this.width),this.o.forEach(d=>{d.resize(s,c)}),this.s.forEach(d=>{d.resize(s,c)}),this.regl._refresh(),console.log(this.canvas.width)}canvasToImage(s){const c=document.createElement("a");c.style.display="none";let d=new Date;c.download=`hydra-${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}-${d.getHours()}.${d.getMinutes()}.${d.getSeconds()}.png`,document.body.appendChild(c);var g=this;this.canvas.toBlob(b=>{g.imageCallback?(g.imageCallback(b),delete g.imageCallback):(c.href=URL.createObjectURL(b),console.log(c.href),c.click())},"image/png"),setTimeout(()=>{document.body.removeChild(c),window.URL.revokeObjectURL(c.href)},300)}_initAudio(){this.synth.a=new Audio({numBins:4,parentEl:this.canvas.parentNode})}_initCanvas(s){s?(this.canvas=s,this.width=s.width,this.height=s.height):(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.imageRendering="pixelated",document.body.appendChild(this.canvas))}_initRegl(){this.regl=regl({canvas:this.canvas,pixelRatio:1}),this.regl.clear({color:[0,0,0,1]}),this.renderAll=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform sampler2D tex0;
      uniform sampler2D tex1;
      uniform sampler2D tex2;
      uniform sampler2D tex3;

      void main () {
        vec2 st = vec2(1.0 - uv.x, uv.y);
        st*= vec2(2);
        vec2 q = floor(st).xy*(vec2(2.0, 1.0));
        int quad = int(q.x) + int(q.y);
        st.x += step(1., mod(st.y,2.0));
        st.y += step(1., mod(st.x,2.0));
        st = fract(st);
        if(quad==0){
          gl_FragColor = texture2D(tex0, st);
        } else if(quad==1){
          gl_FragColor = texture2D(tex1, st);
        } else if (quad==2){
          gl_FragColor = texture2D(tex2, st);
        } else {
          gl_FragColor = texture2D(tex3, st);
        }

      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),tex1:this.regl.prop("tex1"),tex2:this.regl.prop("tex2"),tex3:this.regl.prop("tex3")},count:3,depth:{enable:!1}}),this.renderFbo=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform vec2 resolution;
      uniform sampler2D tex0;

      void main () {
        gl_FragColor = texture2D(tex0, vec2(1.0 - uv.x, uv.y));
      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),resolution:this.regl.prop("resolution")},count:3,depth:{enable:!1}})}_initOutputs(s){const c=this;this.o=Array(s).fill().map((d,g)=>{var b=new Output({regl:this.regl,width:this.width,height:this.height,precision:this.precision,label:`o${g}`});return b.id=g,c.synth["o"+g]=b,b}),this.output=this.o[0]}_initSources(s){this.s=[];for(var c=0;c<s;c++)this.createSource(c)}createSource(s){let c=new HydraSource({regl:this.regl,pb:this.pb,width:this.width,height:this.height,label:`s${s}`});return this.synth["s"+this.s.length]=c,this.s.push(c),c}_generateGlslTransforms(){var s=this;this.generator=new GeneratorFactory({defaultOutput:this.o[0],defaultUniforms:this.o[0].uniforms,extendTransforms:this.extendTransforms,changeListener:({type:c,method:d,synth:g})=>{c==="add"&&(s.synth[d]=g.generators[d],s.sandbox&&s.sandbox.add(d))}}),this.synth.setFunction=this.generator.setFunction.bind(this.generator)}_render(s){s?(this.output=s,this.isRenderingAll=!1):this.isRenderingAll=!0}tick(s,c){if(this.sandbox.tick(),this.detectAudio===!0&&this.synth.a.tick(),this.sandbox.set("time",this.synth.time+=s*.001*this.synth.speed),this.timeSinceLastUpdate+=s,!this.synth.fps||this.timeSinceLastUpdate>=1e3/this.synth.fps){if(this.synth.stats.fps=Math.ceil(1e3/this.timeSinceLastUpdate),this.synth.update)try{this.synth.update(this.timeSinceLastUpdate)}catch(d){console.log(d)}for(let d=0;d<this.s.length;d++)this.s[d].tick(this.synth.time);for(let d=0;d<this.o.length;d++)this.o[d].tick({time:this.synth.time,mouse:this.synth.mouse,bpm:this.synth.bpm,resolution:[this.canvas.width,this.canvas.height]});this.isRenderingAll?this.renderAll({tex0:this.o[0].getCurrent(),tex1:this.o[1].getCurrent(),tex2:this.o[2].getCurrent(),tex3:this.o[3].getCurrent(),resolution:[this.canvas.width,this.canvas.height]}):this.renderFbo({tex0:this.output.getCurrent(),resolution:[this.canvas.width,this.canvas.height]}),this.timeSinceLastUpdate=0}this.saveFrame===!0&&(this.canvasToImage(),this.saveFrame=!1)}}const Display=({code})=>(reactExports.useEffect(()=>{new HydraRenderer({canvas:document.getElementById("myCanvas"),detectAudio:!0}),console.log("calling hush"),hush(),eval(code)},[code]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("canvas",{id:"myCanvas",width:window.innerWidth*.75,height:window.innerHeight*.75,style:{display:"block",margin:"auto"}})})),Gallery=()=>{reactExports.useState(0);const[o,s]=reactExports.useState(!1),[c,d]=reactExports.useState(null),g=_=>{d(_),s(!0)},b=()=>{s(!1)};return jsxRuntimeExports.jsxs("div",{className:"gallery-container",children:[jsxRuntimeExports.jsx("div",{className:"thumbnails",children:galleryContent.map((_,$)=>jsxRuntimeExports.jsx("div",{className:"thumbnail",onClick:()=>g(_.code),children:jsxRuntimeExports.jsx("img",{src:_.thumbnail,alt:_.title,height:300,width:300})},$))}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center"},children:jsxRuntimeExports.jsx("div",{children:o&&jsxRuntimeExports.jsx("div",{className:"animation-overlay",children:jsxRuntimeExports.jsxs("div",{className:"animation-display",children:[jsxRuntimeExports.jsx(Display,{code:c}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:b,children:"Close"})]})})})})]})},netclub="/assets/netclub-e888b072.mp3",vcr="/assets/vcr-9634e9ef.mp3",ecco="/assets/ecco_boost-2d034955.mp3",rain="/assets/rain-cfb58b72.mp3",mirrors="/assets/mirrors-5157217d.mp3",AudioPlayer=()=>{const[o,s]=reactExports.useState(!1),[c,d]=reactExports.useState(0),[g,b]=reactExports.useState(0),[_,$]=reactExports.useState(0),j=reactExports.useRef(null),tt=reactExports.useRef(null),nt=[mirrors,ecco,vcr,netclub,rain],it=["Kangurul - Mirrors","The Midnight - The Search for Ecco","vcr-classique - ","INTERNET CLUB - TIPS AND TRICKS FOR THE NEW WEB MARKETER","Time Sane - Rained for Weeks"],ot=()=>{j.current&&(b(j.current.currentTime),$(j.current.duration))},ft=()=>{s(!1),kt()},yt=()=>{j.current&&j.current.paused&&(j.current.src=nt[c],j.current.load(),j.current.currentTime=g,j.current.play().then(()=>{s(!0),j.current.addEventListener("timeupdate",ot),j.current.addEventListener("ended",ft),j.current.addEventListener("loadedmetadata",$)}))},xt=()=>{j.current&&!j.current.paused&&(b(j.current.currentTime),j.current.pause(),s(!1))},kt=()=>{d(Ht=>(Ht+1)%nt.length),b(0)},mt=()=>{d(Ht=>(Ht-1+nt.length)%nt.length),b(0)};reactExports.useEffect(()=>{j.current&&(j.current.src=nt[c],j.current.load(),yt())},[c]);const st=Ht=>{const Vt=parseFloat(Ht.target.value);b(Vt),j.current&&(j.current.currentTime=Vt)};return(()=>{const Ht="Your browser does not support the <code>audio</code> element.";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-3 p-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"cursor-pointer",onClick:mt,children:"Prev"}),!o&&jsxRuntimeExports.jsx("span",{className:"cursor-pointer",onClick:yt,children:"Play"}),o&&jsxRuntimeExports.jsx("span",{className:"cursor-pointer",onClick:xt,children:"Pause"}),jsxRuntimeExports.jsx("span",{className:"cursor-pointer",onClick:kt,children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-9 grid grid-cols-12 gap-x-4 items-center crt",children:[jsxRuntimeExports.jsx("div",{className:"col-span-8",children:jsxRuntimeExports.jsx("input",{className:"w-full",ref:tt,type:"range",value:g,max:_,onChange:st})}),jsxRuntimeExports.jsxs("div",{className:"col-span-3 truncate",children:[" ",jsxRuntimeExports.jsx("span",{className:"marquee",children:it[c]})]})]}),jsxRuntimeExports.jsx("audio",{ref:j,children:Ht})]})})})()};function App(){return useAccount(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AudioPlayer,{}),jsxRuntimeExports.jsx(Gallery,{})]})}var _client,_provider,CoinbaseWalletConnector=class extends Connector{constructor({chains:o,options:s}){super({chains:o,options:{reloadOnDisconnect:!1,...s}}),__publicField(this,"id","coinbaseWallet"),__publicField(this,"name","Coinbase Wallet"),__publicField(this,"ready",!0),__privateAdd$1(this,_client,void 0),__privateAdd$1(this,_provider,void 0),__publicField(this,"onAccountsChanged",c=>{c.length===0?this.emit("disconnect"):this.emit("change",{account:getAddress(c[0])})}),__publicField(this,"onChainChanged",c=>{const d=normalizeChainId(c),g=this.isChainUnsupported(d);this.emit("change",{chain:{id:d,unsupported:g}})}),__publicField(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect({chainId:o}={}){try{const s=await this.getProvider();s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect),this.emit("message",{type:"connecting"});const c=await s.enable(),d=getAddress(c[0]);let g=await this.getChainId(),b=this.isChainUnsupported(g);return o&&g!==o&&(g=(await this.switchChain(o)).id,b=this.isChainUnsupported(g)),{account:d,chain:{id:g,unsupported:b}}}catch(s){throw/(user closed modal|accounts received is empty)/i.test(s.message)?new UserRejectedRequestError(s):s}}async disconnect(){if(!__privateGet$1(this,_provider))return;const o=await this.getProvider();o.removeListener("accountsChanged",this.onAccountsChanged),o.removeListener("chainChanged",this.onChainChanged),o.removeListener("disconnect",this.onDisconnect),o.disconnect(),o.close()}async getAccount(){const s=await(await this.getProvider()).request({method:"eth_accounts"});return getAddress(s[0])}async getChainId(){const o=await this.getProvider();return normalizeChainId(o.chainId)}async getProvider(){var o;if(!__privateGet$1(this,_provider)){let s=(await __vitePreload(()=>import("./index-86f65e2f.js").then(_=>_.i),[])).default;typeof s!="function"&&typeof s.default=="function"&&(s=s.default),__privateSet$1(this,_client,new s(this.options));const c=(o=__privateGet$1(this,_client).walletExtension)==null?void 0:o.getChainId(),d=this.chains.find(_=>this.options.chainId?_.id===this.options.chainId:_.id===c)||this.chains[0],g=this.options.chainId||(d==null?void 0:d.id),b=this.options.jsonRpcUrl||(d==null?void 0:d.rpcUrls.default.http[0]);__privateSet$1(this,_provider,__privateGet$1(this,_client).makeWeb3Provider(b,g))}return __privateGet$1(this,_provider)}async getWalletClient({chainId:o}={}){const[s,c]=await Promise.all([this.getProvider(),this.getAccount()]),d=this.chains.find(g=>g.id===o);if(!s)throw new Error("provider is required.");return createWalletClient({account:c,chain:d,transport:custom(s)})}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(o){var d;const s=await this.getProvider(),c=numberToHex(o);try{return await s.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]}),this.chains.find(g=>g.id===o)??{id:o,name:`Chain ${c}`,network:`${c}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(g){const b=this.chains.find(_=>_.id===o);if(!b)throw new ChainNotConfiguredForConnectorError({chainId:o,connectorId:this.id});if(g.code===4902)try{return await s.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:b.name,nativeCurrency:b.nativeCurrency,rpcUrls:[((d=b.rpcUrls.public)==null?void 0:d.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(b)}]}),b}catch(_){throw new UserRejectedRequestError(_)}throw new SwitchChainError(g)}}async watchAsset({address:o,decimals:s=18,image:c,symbol:d}){return(await this.getProvider()).request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:o,decimals:s,image:c,symbol:d}}})}};_client=new WeakMap;_provider=new WeakMap;var _UNSTABLE_shimOnConnectSelectAccount,MetaMaskConnector=class extends InjectedConnector{constructor({chains:o,options:s}={}){const c={name:"MetaMask",shimDisconnect:!0,getProvider(){function d(b){if(b!=null&&b.isMetaMask&&!(b.isBraveWallet&&!b._events&&!b._state)&&!b.isApexWallet&&!b.isAvalanche&&!b.isBitKeep&&!b.isBlockWallet&&!b.isMathWallet&&!(b.isOkxWallet||b.isOKExWallet)&&!(b.isOneInchIOSWallet||b.isOneInchAndroidWallet)&&!b.isOpera&&!b.isPortal&&!b.isRabby&&!b.isDefiant&&!b.isTokenPocket&&!b.isTokenary&&!b.isZerion)return b}if(typeof window>"u")return;const g=window.ethereum;return g!=null&&g.providers?g.providers.find(d):d(g)},...s};super({chains:o,options:c}),__publicField(this,"id","metaMask"),__publicField(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),__privateAdd$1(this,_UNSTABLE_shimOnConnectSelectAccount,void 0),__privateSet$1(this,_UNSTABLE_shimOnConnectSelectAccount,c.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:o}={}){var s,c,d,g;try{const b=await this.getProvider();if(!b)throw new ConnectorNotFoundError;b.on&&(b.on("accountsChanged",this.onAccountsChanged),b.on("chainChanged",this.onChainChanged),b.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let _=null;if(__privateGet$1(this,_UNSTABLE_shimOnConnectSelectAccount)&&((s=this.options)!=null&&s.shimDisconnect)&&!((c=this.storage)!=null&&c.getItem(this.shimDisconnectKey))&&(_=await this.getAccount().catch(()=>null),!!_))try{await b.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),_=await this.getAccount()}catch(nt){if(this.isUserRejectedRequestError(nt))throw new UserRejectedRequestError(nt);if(nt.code===new ResourceNotFoundRpcError(nt).code)throw nt}if(!_){const tt=await b.request({method:"eth_requestAccounts"});_=getAddress(tt[0])}let $=await this.getChainId(),j=this.isChainUnsupported($);return o&&$!==o&&($=(await this.switchChain(o)).id,j=this.isChainUnsupported($)),(d=this.options)!=null&&d.shimDisconnect&&((g=this.storage)==null||g.setItem(this.shimDisconnectKey,!0)),{account:_,chain:{id:$,unsupported:j},provider:b}}catch(b){throw this.isUserRejectedRequestError(b)?new UserRejectedRequestError(b):b.code===-32002?new ResourceNotFoundRpcError(b):b}}};_UNSTABLE_shimOnConnectSelectAccount=new WeakMap;function publicProvider(){return function(o){return o.rpcUrls.public.http[0]?{chain:o,rpcUrls:o.rpcUrls.public}:null}}const{chains,publicClient,webSocketPublicClient}=configureChains([mainnet],[publicProvider()]),config=createConfig({autoConnect:!0,connectors:[new MetaMaskConnector({chains}),new CoinbaseWalletConnector({chains,options:{appName:"wagmi"}}),new InjectedConnector({chains,options:{name:"Injected",shimDisconnect:!0}})],publicClient,webSocketPublicClient});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(WagmiConfig,{config,children:jsxRuntimeExports.jsx(App,{})})}));export{BaseError as B,HttpRequestError as H,InvalidAddressError as I,getDefaultExportFromCjs as a,buffer$1 as b,commonjsGlobal as c,getUrl as d,events as e,isAddress as f,getAugmentedNamespace as g,decodeErrorResult as h,inherits_browserExports as i,call as j,concat as k,encodeAbiParameters as l,isHex as m,stringify as s};
